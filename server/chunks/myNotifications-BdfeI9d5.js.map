{"version":3,"file":"myNotifications-BdfeI9d5.js","sources":["../../../.svelte-kit/adapter-node/chunks/myNotifications.js"],"sourcesContent":["import { g as groupNotifications } from \"./group.js\";\nconst getMyNotifications = (user, prisma) => {\n  return prisma.notification.findMany({\n    where: {\n      memberId: user.memberId\n    },\n    orderBy: {\n      createdAt: \"desc\"\n      // latest first\n    },\n    include: {\n      fromAuthor: {\n        select: {\n          id: true,\n          type: true,\n          member: {\n            select: {\n              firstName: true,\n              nickname: true,\n              lastName: true,\n              picturePath: true\n            }\n          },\n          mandate: {\n            select: {\n              position: {\n                select: {\n                  name: true\n                }\n              }\n            }\n          },\n          customAuthor: {\n            select: {\n              name: true,\n              imageUrl: true\n            }\n          }\n        }\n      }\n    }\n  });\n};\nconst getMyGroupedNotifications = async (user, prisma) => {\n  const myNotifications = await getMyNotifications(user, prisma);\n  return groupNotifications(myNotifications);\n};\nexport {\n  getMyGroupedNotifications as g\n};\n"],"names":[],"mappings":";;AACA,MAAM,kBAAkB,GAAG,CAAC,IAAI,EAAE,MAAM,KAAK;AAC7C,EAAE,OAAO,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC;AACtC,IAAI,KAAK,EAAE;AACX,MAAM,QAAQ,EAAE,IAAI,CAAC,QAAQ;AAC7B,KAAK;AACL,IAAI,OAAO,EAAE;AACb,MAAM,SAAS,EAAE,MAAM;AACvB;AACA,KAAK;AACL,IAAI,OAAO,EAAE;AACb,MAAM,UAAU,EAAE;AAClB,QAAQ,MAAM,EAAE;AAChB,UAAU,EAAE,EAAE,IAAI;AAClB,UAAU,IAAI,EAAE,IAAI;AACpB,UAAU,MAAM,EAAE;AAClB,YAAY,MAAM,EAAE;AACpB,cAAc,SAAS,EAAE,IAAI;AAC7B,cAAc,QAAQ,EAAE,IAAI;AAC5B,cAAc,QAAQ,EAAE,IAAI;AAC5B,cAAc,WAAW,EAAE,IAAI;AAC/B,aAAa;AACb,WAAW;AACX,UAAU,OAAO,EAAE;AACnB,YAAY,MAAM,EAAE;AACpB,cAAc,QAAQ,EAAE;AACxB,gBAAgB,MAAM,EAAE;AACxB,kBAAkB,IAAI,EAAE,IAAI;AAC5B,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW;AACX,UAAU,YAAY,EAAE;AACxB,YAAY,MAAM,EAAE;AACpB,cAAc,IAAI,EAAE,IAAI;AACxB,cAAc,QAAQ,EAAE,IAAI;AAC5B,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG,CAAC,CAAC;AACL,CAAC,CAAC;AACG,MAAC,yBAAyB,GAAG,OAAO,IAAI,EAAE,MAAM,KAAK;AAC1D,EAAE,MAAM,eAAe,GAAG,MAAM,kBAAkB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACjE,EAAE,OAAO,kBAAkB,CAAC,eAAe,CAAC,CAAC;AAC7C;;;;"}