{"version":3,"file":"hooks.server-BiZseHF6.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { d as private_env } from \"./shared-server.js\";\nimport { k as keycloak } from \"./index5.js\";\nimport { a as authorizedPrismaClient } from \"./authorizedPrisma.js\";\nimport { i as i18n } from \"./i18n.js\";\nimport { c as createMember } from \"./member2.js\";\nimport { r as redirect$1 } from \"./redirect.js\";\nimport { t as themes } from \"./themes.js\";\nimport { i as isAvailableLanguageTag, s as sourceLanguageTag } from \"./runtime.js\";\nimport Keycloak from \"@auth/core/providers/keycloak\";\nimport { skipCSRFCheck, setEnvDefaults as setEnvDefaults$1, createActionURL, Auth, raw, isAuthAction } from \"@auth/core\";\nimport { d as dev } from \"./index4.js\";\nimport { b as base } from \"./paths.js\";\nimport { b as building } from \"./environment.js\";\nimport { r as redirect, e as error } from \"./index.js\";\nimport { parse } from \"set-cookie-parser\";\nimport \"@auth/core/errors\";\nimport { enhance } from \"@zenstackhq/runtime\";\nimport __cjsInterop2__ from \"@zenstackhq/server/api/rpc\";\nimport __cjsInterop1__ from \"@zenstackhq/server/sveltekit\";\nimport { randomBytes } from \"crypto\";\nimport schedule from \"node-schedule\";\nimport { Prisma } from \"@prisma/client\";\nimport { i as isNollningPeriod } from \"./nollning.js\";\nimport { a as apiNames } from \"./apiNames.js\";\nimport { g as getDerivedRoles } from \"./authorization.js\";\nfunction setEnvDefaults(envObject, config) {\n  config.trustHost ??= dev;\n  config.basePath = `${base}/auth`;\n  config.skipCSRFCheck = skipCSRFCheck;\n  if (building)\n    return;\n  setEnvDefaults$1(envObject, config);\n}\nasync function signIn(provider, options = {}, authorizationParams, config, event) {\n  const { request, url: { protocol } } = event;\n  const headers = new Headers(request.headers);\n  const { redirect: shouldRedirect = true, redirectTo, ...rest } = options instanceof FormData ? Object.fromEntries(options) : options;\n  const callbackUrl = redirectTo?.toString() ?? headers.get(\"Referer\") ?? \"/\";\n  const base2 = createActionURL(\"signin\", protocol, headers, private_env, config.basePath);\n  if (!provider) {\n    const url2 = `${base2}?${new URLSearchParams({ callbackUrl })}`;\n    if (shouldRedirect)\n      redirect(302, url2);\n    return url2;\n  }\n  let url = `${base2}/${provider}?${new URLSearchParams(authorizationParams)}`;\n  let foundProvider = void 0;\n  for (const _provider of config.providers) {\n    const { id } = typeof _provider === \"function\" ? _provider() : _provider;\n    if (id === provider) {\n      foundProvider = id;\n      break;\n    }\n  }\n  if (!foundProvider) {\n    const url2 = `${base2}?${new URLSearchParams({ callbackUrl })}`;\n    if (shouldRedirect)\n      redirect(302, url2);\n    return url2;\n  }\n  if (foundProvider === \"credentials\") {\n    url = url.replace(\"signin\", \"callback\");\n  }\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const body = new URLSearchParams({ ...rest, callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw });\n  for (const c of res?.cookies ?? []) {\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  }\n  if (shouldRedirect) {\n    return redirect(302, res.redirect);\n  }\n  return res.redirect;\n}\nasync function signOut(options, config, event) {\n  const { request, url: { protocol } } = event;\n  const headers = new Headers(request.headers);\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const url = createActionURL(\"signout\", protocol, headers, private_env, config.basePath);\n  const callbackUrl = options?.redirectTo ?? headers.get(\"Referer\") ?? \"/\";\n  const body = new URLSearchParams({ callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw });\n  for (const c of res?.cookies ?? [])\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  if (options?.redirect ?? true)\n    return redirect(302, res.redirect);\n  return res;\n}\nasync function auth(event, config) {\n  setEnvDefaults(private_env, config);\n  config.trustHost ??= true;\n  const { request: req, url: { protocol } } = event;\n  const sessionUrl = createActionURL(\"session\", protocol, req.headers, private_env, config.basePath);\n  const request = new Request(sessionUrl, {\n    headers: { cookie: req.headers.get(\"cookie\") ?? \"\" }\n  });\n  const response = await Auth(request, config);\n  const authCookies = parse(response.headers.getSetCookie());\n  for (const cookie of authCookies) {\n    const { name, value, ...options } = cookie;\n    event.cookies.set(name, value, { path: \"/\", ...options });\n  }\n  const { status = 200 } = response;\n  const data = await response.json();\n  if (!data || !Object.keys(data).length)\n    return null;\n  if (status === 200)\n    return data;\n  throw new Error(data.message);\n}\nconst authorizationParamsPrefix = \"authorizationParams-\";\nfunction SvelteKitAuth(config) {\n  return {\n    signIn: async (event) => {\n      if (building)\n        return;\n      const { request } = event;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const formData = await request.formData();\n      const { providerId: provider, ...options } = Object.fromEntries(formData);\n      let authorizationParams = {};\n      let _options = {};\n      for (const key in options) {\n        if (key.startsWith(authorizationParamsPrefix)) {\n          authorizationParams[key.slice(authorizationParamsPrefix.length)] = options[key];\n        } else {\n          _options[key] = options[key];\n        }\n      }\n      await signIn(provider, _options, authorizationParams, _config, event);\n    },\n    signOut: async (event) => {\n      if (building)\n        return;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const options = Object.fromEntries(await event.request.formData());\n      await signOut(options, _config, event);\n    },\n    async handle({ event, resolve }) {\n      if (building) {\n        event.locals.auth ??= async () => null;\n        event.locals.getSession ??= event.locals.auth;\n        return resolve(event);\n      }\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const { url, request } = event;\n      event.locals.auth ??= () => auth(event, _config);\n      event.locals.getSession ??= event.locals.auth;\n      const action = url.pathname.slice(\n        // @ts-expect-error - basePath is defined in setEnvDefaults\n        _config.basePath.length + 1\n      ).split(\"/\")[0];\n      if (isAuthAction(action) && url.pathname.startsWith(_config.basePath + \"/\")) {\n        return Auth(request, _config);\n      }\n      return resolve(event);\n    }\n  };\n}\nfunction sequence(...handlers) {\n  const length = handlers.length;\n  if (!length) return ({ event, resolve }) => resolve(event);\n  return ({ event, resolve }) => {\n    return apply_handle(0, event, {});\n    function apply_handle(i, event2, parent_options) {\n      const handle2 = handlers[i];\n      return handle2({\n        event: event2,\n        resolve: (event3, options) => {\n          const transformPageChunk = async ({ html, done }) => {\n            if (options?.transformPageChunk) {\n              html = await options.transformPageChunk({ html, done }) ?? \"\";\n            }\n            if (parent_options?.transformPageChunk) {\n              html = await parent_options.transformPageChunk({ html, done }) ?? \"\";\n            }\n            return html;\n          };\n          const filterSerializedResponseHeaders = parent_options?.filterSerializedResponseHeaders ?? options?.filterSerializedResponseHeaders;\n          const preload = parent_options?.preload ?? options?.preload;\n          return i < length - 1 ? apply_handle(i + 1, event3, {\n            transformPageChunk,\n            filterSerializedResponseHeaders,\n            preload\n          }) : resolve(event3, { transformPageChunk, filterSerializedResponseHeaders, preload });\n        }\n      });\n    }\n  };\n}\nconst PRISMA_LOG_LEVELS = [\"silent\", \"writes\", \"all\"];\nfunction isValidLogLevel(level) {\n  return PRISMA_LOG_LEVELS.some((l) => l === level);\n}\nfunction getPrismaLogLevel() {\n  if (isValidLogLevel(private_env.PRISMA_LOG_LEVEL)) {\n    return private_env.PRISMA_LOG_LEVEL;\n  }\n  if (process.env[\"NODE_ENV\"] === \"production\") {\n    return \"writes\";\n  }\n  return \"silent\";\n}\nfunction isWrite(operation) {\n  const MODIFY_OPERATIONS = [`create`, `up`, `delete`];\n  return MODIFY_OPERATIONS.some((op) => operation.startsWith(op));\n}\nconst logLevel = getPrismaLogLevel();\nconst loggingExtension = (studentId) => Prisma.defineExtension({\n  name: \"logging\",\n  query: {\n    $allModels: {},\n    $allOperations({ model, operation, args, query }) {\n      if (logLevel === \"silent\") {\n        return query(args);\n      }\n      if (logLevel === \"writes\" && !isWrite(operation)) {\n        return query(args);\n      }\n      console.log(\n        `${studentId ?? \"anonymous\"} called ${model}.${operation} with args:`,\n        JSON.stringify(args)\n      );\n      return query(args);\n    }\n  }\n});\nconst translatedModelFields = {\n  alert: {\n    message: \"messageEn\"\n  },\n  articleRequest: {\n    notificationBody: \"notificationBodyEn\"\n  },\n  article: {\n    header: \"headerEn\",\n    body: \"bodyEn\"\n  },\n  bookableCategory: {\n    name: \"nameEn\"\n  },\n  bookable: {\n    name: \"nameEn\"\n  },\n  committee: {\n    name: \"nameEn\",\n    description: \"descriptionEn\"\n  },\n  customAuthor: {\n    name: \"nameEn\"\n  },\n  election: {\n    markdown: \"markdownEn\"\n  },\n  event: {\n    title: \"titleEn\",\n    description: \"descriptionEn\",\n    shortDescription: \"shortDescriptionEn\"\n  },\n  markdown: {\n    markdown: \"markdownEn\"\n  },\n  position: {\n    name: \"nameEn\",\n    description: \"descriptionEn\"\n  },\n  tag: {\n    name: \"nameEn\"\n  },\n  shoppable: {\n    title: \"titleEn\",\n    description: \"descriptionEn\"\n  },\n  itemQuestion: {\n    title: \"titleEn\",\n    description: \"descriptionEn\"\n  },\n  itemQuestionOption: {\n    answer: \"answerEn\"\n  }\n};\nconst translatedExtension = (lang) => Prisma.defineExtension({\n  name: \"translations\",\n  result: Object.entries(translatedModelFields).reduce(\n    (acc, [model, fieldTranslationMap]) => {\n      const modelFields = Object.keys(fieldTranslationMap);\n      return {\n        ...acc,\n        [model]: modelFields.reduce((acc2, field) => {\n          const translatedField = fieldTranslationMap[field];\n          return {\n            ...acc2,\n            [field]: {\n              needs: {\n                [field]: true,\n                [translatedField]: true\n              },\n              compute(data) {\n                return lang === \"en\" && data[translatedField] ? data[translatedField] : data[field];\n              }\n            }\n          };\n        }, {})\n      };\n    },\n    {}\n  )\n});\nconst fetchAccessPolicies = async (prisma, roles, studentId) => {\n  const isNollning = await isNollningPeriod();\n  return prisma.accessPolicy.findMany({\n    where: {\n      OR: [{ role: { in: roles } }, { studentId }]\n    }\n  }).then((policies) => policies.map((p) => p.apiName)).then((policies) => {\n    if (!isNollning && !policies.includes(apiNames.MEMBER.SEE_STABEN)) {\n      policies.push(apiNames.MEMBER.SEE_STABEN);\n    }\n    return policies;\n  });\n};\nconst CACHE_TTL = 10 * 60 * 1e3;\nconst accessPoliciesCache = {\n  policies: [],\n  lastUpdated: null\n};\nconst hasCacheExpired = (cache) => !cache.lastUpdated || // no cache\nDate.now() - cache.lastUpdated > CACHE_TTL;\nconst getAccessPolicies = async (prisma, roles, studentId) => {\n  if (!!studentId && dev) {\n    return getAllAccessPolicies(prisma);\n  }\n  if (roles.length === 1) {\n    if (hasCacheExpired(accessPoliciesCache)) {\n      accessPoliciesCache.policies = await fetchAccessPolicies(\n        prisma,\n        roles,\n        void 0\n      );\n      accessPoliciesCache.lastUpdated = Date.now();\n    }\n    return accessPoliciesCache.policies;\n  }\n  return await fetchAccessPolicies(prisma, roles, studentId);\n};\nconst getAllAccessPolicies = async (prisma) => prisma.accessPolicy.findMany({ distinct: \"apiName\" }).then((policies) => policies.map((p) => p.apiName));\nconst { default: RPCApiHandler = __cjsInterop2__ } = __cjsInterop2__?.default?.__esModule ? __cjsInterop2__.default : __cjsInterop2__;\nconst { default: zenstack = __cjsInterop1__ } = __cjsInterop1__?.default?.__esModule ? __cjsInterop1__.default : __cjsInterop1__;\nconst { handle: authHandle } = SvelteKitAuth({\n  secret: private_env.AUTH_SECRET,\n  trustHost: true,\n  providers: [\n    Keycloak({\n      clientId: private_env.KEYCLOAK_CLIENT_ID,\n      clientSecret: private_env.KEYCLOAK_CLIENT_SECRET,\n      issuer: private_env.KEYCLOAK_CLIENT_ISSUER,\n      profile: (profile, tokens) => {\n        return {\n          id_token: tokens.id_token,\n          id: profile.sub,\n          given_name: profile.given_name,\n          family_name: profile.family_name,\n          email: profile.email,\n          student_id: profile.preferred_username,\n          // The keycloak client doesn't guarantee this field\n          // to be present, but we assume it always is.\n          group_list: profile[\"group_list\"] ?? []\n        };\n      }\n    })\n  ],\n  callbacks: {\n    jwt({ token, user }) {\n      if (user) {\n        token.student_id = user.student_id;\n        token.group_list = user.group_list ?? [];\n        token.id_token = user.id_token;\n        token.given_name = user.given_name;\n        token.family_name = user.family_name;\n        token.email = user.email;\n      }\n      return token;\n    },\n    session(params) {\n      const { session } = params;\n      if (\"token\" in params && params.session?.user) {\n        const { token } = params;\n        session.user.student_id = token.student_id;\n        session.user.email = token.email ?? \"\";\n        session.user.group_list = token.group_list;\n        session.user.given_name = token.given_name;\n        session.user.family_name = token.family_name;\n      }\n      return session;\n    }\n  },\n  events: {\n    async signOut(message) {\n      if (!(\"token\" in message)) {\n        return;\n      }\n      const idToken = message.token?.id_token;\n      const params = new URLSearchParams();\n      params.append(\"id_token_hint\", idToken);\n      await fetch(\n        `${private_env.KEYCLOAK_CLIENT_ISSUER}/protocol/openid-connect/logout?${params.toString()}`\n      );\n    }\n  }\n});\nconst prismaClient = authorizedPrismaClient;\nconst databaseHandle = async ({ event, resolve }) => {\n  const lang = isAvailableLanguageTag(event.locals.paraglide?.lang) ? event.locals.paraglide?.lang : sourceLanguageTag;\n  event.locals.language = lang;\n  const session = await event.locals.getSession();\n  const prisma = prismaClient.$extends(translatedExtension(lang)).$extends(loggingExtension(session?.user.student_id));\n  if (!session?.user) {\n    let externalCode = event.cookies.get(\"externalCode\");\n    if (!externalCode) {\n      externalCode = randomBytes(16).toString(\"hex\");\n      event.cookies.set(\"externalCode\", externalCode, {\n        httpOnly: false,\n        // Make the cookie accessible to client-side JavaScript\n        path: \"/\",\n        // Cookie is available on all pages\n        secure: process.env[\"NODE_ENV\"] === \"production\"\n        // Only send cookie over HTTPS in production\n      });\n    }\n    const roles = getDerivedRoles(void 0, false);\n    const policies = await getAccessPolicies(prisma, roles);\n    const user = {\n      studentId: void 0,\n      memberId: void 0,\n      policies,\n      externalCode,\n      // For anonymous users\n      roles\n    };\n    event.locals.prisma = enhance(prisma, {\n      user\n    });\n    event.locals.user = user;\n  } else {\n    const existingMember = await prisma.member.findUnique({\n      where: { studentId: session.user.student_id }\n    });\n    const member = existingMember || await createMember(prisma, {\n      studentId: session.user.student_id,\n      firstName: session.user.given_name,\n      lastName: session.user.family_name,\n      email: session.user.email\n    });\n    if (i18n.route(event.url.pathname) != \"/onboarding\" && (!member.classProgramme || !member.classYear)) {\n      redirect$1(302, \"/onboarding\");\n    }\n    const roles = getDerivedRoles(\n      session.user.group_list,\n      !!session.user.student_id,\n      member.classYear ?? void 0\n    );\n    const user = {\n      studentId: session.user.student_id,\n      memberId: member.id,\n      policies: await getAccessPolicies(prisma, roles, session.user.student_id),\n      roles\n    };\n    event.locals.prisma = enhance(prisma, { user });\n    event.locals.user = user;\n    event.locals.member = member;\n  }\n  return resolve(event);\n};\nconst apiHandle = zenstack.SvelteKitHandler({\n  prefix: \"/api/model\",\n  getPrisma: (event) => event.locals.prisma,\n  handler: (req) => {\n    if (req.method !== \"GET\") error(403);\n    return RPCApiHandler()(req);\n  }\n});\nconst APP_INSETS_REGEX = /APP-INSETS\\s*\\(([^)]*)\\)/;\nconst appHandle = async ({ event, resolve }) => {\n  const userAgent = event.request.headers.get(\"user-agent\");\n  if (userAgent?.startsWith(\"DSEK-APP\") || private_env.MOCK_IS_APP === \"true\") {\n    event.locals.isApp = true;\n    const insetsJson = APP_INSETS_REGEX.exec(userAgent ?? \"\")?.[1];\n    const insets = JSON.parse(insetsJson ?? \"{}\");\n    event.locals.appInfo = {\n      insets: {\n        top: insets?.top ? Number(insets.top) : 0,\n        bottom: insets?.bottom ? Number(insets.bottom) : 0,\n        left: insets?.left ? Number(insets.left) : 0,\n        right: insets?.right ? Number(insets.right) : 0\n      }\n    };\n  } else {\n    event.locals.isApp = false;\n    event.locals.appInfo = void 0;\n  }\n  return resolve(event);\n};\nconst themeHandle = async ({ event, resolve }) => {\n  let theme = event.cookies.get(\"theme\");\n  if (!theme || !themes.includes(theme)) {\n    theme = \"dark\";\n  }\n  event.locals.theme = theme;\n  return await resolve(event, {\n    transformPageChunk: ({ html }) => {\n      return html.replace(\"%theme%\", theme);\n    }\n  });\n};\nschedule.scheduleJob(\"0 0 * * *\", () => keycloak.sync(authorizedPrismaClient));\nconst handle = sequence(\n  authHandle,\n  i18n.handle(),\n  databaseHandle,\n  apiHandle,\n  appHandle,\n  themeHandle\n);\nexport {\n  handle\n};\n"],"names":["parse"],"mappings":"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"}