{"version":3,"file":"_page.svelte-CGVpmORM.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(nollning)/nollning/events/_page.svelte.js"],"sourcesContent":["import { a as subscribe, g as getContext } from \"../../../../../chunks/lifecycle.js\";\nimport { c as create_ssr_component, b as escape, e as each, v as validate_component, a as add_attribute } from \"../../../../../chunks/ssr.js\";\nimport { p as page } from \"../../../../../chunks/stores.js\";\nimport { S as SetPageTitle } from \"../../../../../chunks/SetPageTitle.js\";\nimport { k2 as nollning_events_ticketCTA, B as events, k3 as events_calendar_week, dT as events_calendar_subscribe, dU as events_calendar_subscribe_details } from \"../../../../../chunks/messages.js\";\nimport { M as MarkdownBody } from \"../../../../../chunks/MarkdownBody.js\";\nimport { a as apiNames } from \"../../../../../chunks/apiNames.js\";\nimport { i as isAuthorized } from \"../../../../../chunks/authorization.js\";\nimport dayjs from \"dayjs\";\nimport { T as TagChip } from \"../../../../../chunks/TagChip.js\";\nimport { N as NOLLNING_TAG_PREFIX } from \"../../../../../chunks/types2.js\";\nconst Event = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { event } = $$props;\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.event === void 0 && $$bindings.event && event !== void 0) $$bindings.event(event);\n  $$unsubscribe_page();\n  return `<div class=\"collapse collapse-arrow rounded-btn border-2 border-base-200 bg-base-200 bg-transparent has-[input[type='radio']:checked]:border-base-content\"><input type=\"radio\" name=\"nolla-event-list\"> <div class=\"collapse-title flex flex-col\"> <span class=\"text-sm font-medium capitalize text-primary\">${escape(dayjs(event.startDatetime).format(\"dddd HH:mm\"))} - ${escape(dayjs(event.endDatetime).format(\"HH:mm\"))}</span> <span class=\"text-base\">${escape(event.title)}</span> ${event.location ? `<span class=\"text-sm font-medium text-neutral\">${escape(event.location)}</span>` : ``} <div class=\"mt-4 flex gap-2\">${each(event.tags, (tag) => {\n    return `${!tag.name.startsWith(NOLLNING_TAG_PREFIX) ? `${validate_component(TagChip, \"TagChip\").$$render($$result, { tag }, {}, {})}` : ``}`;\n  })}</div></div> <div class=\"collapse-content flex flex-col\">${event.shortDescription ? `<span class=\"text-xl font-medium text-neutral\">${escape(event.shortDescription)}</span>` : ``} <p>${validate_component(MarkdownBody, \"MarkdownBody\").$$render(\n    $$result,\n    {\n      body: event.description,\n      class: \"leading-tight\"\n    },\n    {},\n    {}\n  )}</p>  ${event.link ? `<a${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(event.link, void 0), 0)} class=\"btn btn-primary mt-4 self-start\">${escape(nollning_events_ticketCTA())}</a>` : ``} ${isAuthorized(apiNames.EVENT.UPDATE, $page.data.user) ? `<a${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(`/events/${event.slug}`, void 0), 0)} class=\"btn btn-secondary mt-8 self-start\"><span class=\"i-mdi-edit\"></span></a>` : ``}</div></div>`;\n});\nconst PostRevealSelect = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { title } = $$props;\n  let { checked } = $$props;\n  if ($$props.title === void 0 && $$bindings.title && title !== void 0) $$bindings.title(title);\n  if ($$props.checked === void 0 && $$bindings.checked && checked !== void 0) $$bindings.checked(checked);\n  return `<div class=\"collapse z-10 w-auto !grid-rows-[min-content_0fr] rounded-btn border-2 border-neutral bg-neutral duration-300 has-[input[type='checkbox']:checked]:!grid-rows-[min-content_1fr] has-[input[type='checkbox']:checked]:border-base-content has-[input[type='checkbox']:checked]:bg-base-100\"><input type=\"checkbox\" class=\"peer min-h-0\"${add_attribute(\"checked\", checked, 1)}> <div class=\"collapse-title flex h-9 min-h-0 items-center gap-2 p-2 font-medium peer-checked:[&>span]:rotate-0\">${escape(title)} <span class=\"i-mdi-chevron-down rotate-90 transition-transform duration-300 ease-out-back\"></span></div> <div class=\"collapse-content px-0 peer-checked:!pb-0\">${slots.default ? slots.default({}) : ``}</div></div>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let events$1;\n  let weeks;\n  let eventsSubscribeUrl;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  let weekCollapseOpen = false;\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    events$1 = data.events;\n    weeks = Array(data.weeks).fill(0).map((_, i) => i);\n    eventsSubscribeUrl = `${$page.url.origin}${$page.url.pathname}/subscribe`;\n    $$rendered = `<div class=\"mx-auto max-w-4xl\">${validate_component(SetPageTitle, \"SetPageTitle\").$$render($$result, { title: events() }, {}, {})} <div class=\"mb-4 flex items-start justify-between\"><details class=\"dropdown\"><summary class=\"btn btn-lg !h-10\">${escape(events_calendar_subscribe())} <span class=\"i-mdi-calendar-sync\"></span></summary> <div class=\"dropdown-content z-20 -ml-8 w-[calc(100dvw-1rem)] rounded-box bg-base-300 p-4 shadow md:max-w-2xl\"><p>${escape(events_calendar_subscribe_details())}</p> <p class=\"my-2 w-full select-all overflow-x-auto rounded border p-2 font-mono text-sm\">${escape(eventsSubscribeUrl)}</p></div></details> ${validate_component(PostRevealSelect, \"PostRevealSelect\").$$render(\n      $$result,\n      {\n        title: events_calendar_week().toLowerCase() + \" \" + data.week,\n        checked: weekCollapseOpen\n      },\n      {\n        checked: ($$value) => {\n          weekCollapseOpen = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `<ul class=\"flex flex-col\">${each(weeks, (i) => {\n            let isCurrent = i === data.week;\n            return ` <li class=\"${[\"px-2 py-1 last:pb-2\", isCurrent ? \"bg-primary\" : \"\"].join(\" \").trim()}\"><a class=\"font-medium\"${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(`?week=${i}`, void 0), 0)}>${escape(events_calendar_week().toLowerCase())} ${escape(i)}</a> </li>`;\n          })}</ul>`;\n        }\n      }\n    )}</div> <div class=\"flex flex-col gap-4\">${events$1.length > 0 ? `${each(events$1, (event) => {\n      return `${validate_component(Event, \"Event\").$$render($$result, { event }, {}, {})}`;\n    })}` : `<span class=\"mt-8 text-center text-4xl\" data-svelte-h=\"svelte-dnhzs1\">ðŸ¤«</span>`}</div></div> `;\n  } while (!$$settled);\n  $$unsubscribe_page();\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}