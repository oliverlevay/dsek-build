{"version":3,"file":"SettingsPage-BH448ypx.js","sources":["../../../.svelte-kit/adapter-node/chunks/SettingsPage.js"],"sourcesContent":["import { c as create_ssr_component, a as add_attribute, e as each, b as escape, v as validate_component } from \"./ssr.js\";\nimport { P as PageHeader } from \"./PageHeader.js\";\nimport { b as NotificationSettingType } from \"./types3.js\";\nimport { gw as setting_title, gx as setting_notification, gy as setting_push, gz as setting_subscription, gA as setting_apply, gB as setting_like, gC as setting_comment, gD as setting_mention, gE as setting_new_article, gF as setting_event_going, gG as setting_create_mandate, gH as setting_booking_request, gI as setting_ping, gJ as setting_purchases } from \"./messages.js\";\nconst SubscriptionTags = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { subscribedTags } = $$props;\n  let { tags } = $$props;\n  let selectedTags = tags.map((tag) => {\n    if (subscribedTags.find((subTag) => subTag.id == tag.id)) return tag.id;\n    else return \"\";\n  }).filter((t) => t != \"\");\n  if ($$props.subscribedTags === void 0 && $$bindings.subscribedTags && subscribedTags !== void 0) $$bindings.subscribedTags(subscribedTags);\n  if ($$props.tags === void 0 && $$bindings.tags && tags !== void 0) $$bindings.tags(tags);\n  return `<div${add_attribute(\"class\", \"flex flex-col items-center xl:grid xl:grid-cols-2\", 0)}>${each(tags, (tag) => {\n    return `<div class=\"m-1 flex w-full justify-self-center\"><label class=\"ml-auto mr-auto flex max-w-full cursor-pointer items-center rounded-full border pl-2\"${add_attribute(\"style\", \"border-color: \" + tag.color + \";\", 0)}><input type=\"checkbox\" class=\"peer sr-only\" name=\"tag\"${add_attribute(\"value\", tag.id, 0)}${~selectedTags.indexOf(tag.id) ? add_attribute(\"checked\", true, 1) : \"\"}> <span class=\"ms-3 box-border max-w-80 break-words pb-1 pt-1 text-center text-sm font-medium xl:max-w-44\">${escape(tag.name)}</span> <div class=\"peer relative ml-2 mr-1 h-5 w-9 rounded-full bg-gray-300 pr-9 after:absolute after:start-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-gray-800 rtl:peer-checked:after:-translate-x-full\"></div></label> </div>`;\n  })}</div>`;\n});\nconst SettingsPage = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let subscribedTags;\n  let tags;\n  let { data } = $$props;\n  let subscriptionGroup = data.subscriptions;\n  let pushGroup = data.pushSubscriptions;\n  const notificationText = {\n    LIKE: setting_like,\n    COMMENT: setting_comment,\n    MENTION: setting_mention,\n    NEW_ARTICLE: setting_new_article,\n    EVENT_GOING: setting_event_going,\n    CREATE_MANDATE: setting_create_mandate,\n    BOOKING_REQUEST: setting_booking_request,\n    PING: setting_ping,\n    PURCHASES: setting_purchases\n  };\n  const getNotificationText = (text) => {\n    return notificationText[text]();\n  };\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  subscribedTags = data.subscribedTags;\n  tags = data.tags;\n  return `${validate_component(PageHeader, \"PageHeader\").$$render(\n    $$result,\n    {\n      title: setting_title(),\n      class: \"text-center\"\n    },\n    {},\n    {}\n  )} <div class=\"relative\"><form method=\"POST\" class=\"mt-2 flex w-full flex-col items-center justify-start gap-8 pb-24 lg:flex-row lg:items-start lg:justify-center\"><div class=\"flex w-full max-w-2xl flex-col items-center lg:p-0\"><h2 class=\"mb-2 self-center text-2xl font-bold\">${escape(setting_notification())}</h2> <ul class=\"w-full divide-y-2 [&>*]:py-4\">${each(Object.entries(NotificationSettingType), (notificationSettingType) => {\n    return `<li class=\"w-full space-y-2 first:pt-0 last:pb-0\"> <label class=\"flex cursor-pointer flex-row justify-between\"><span class=\"flex-1 text-wrap text-sm font-medium\">${escape(getNotificationText(notificationSettingType[1]))}</span> <input type=\"checkbox\"${add_attribute(\"value\", notificationSettingType[0], 0)} name=\"subscription\" class=\"peer sr-only\"${~subscriptionGroup.indexOf(notificationSettingType[0]) ? add_attribute(\"checked\", true, 1) : \"\"}> <div class=\"peer relative h-6 w-11 rounded-full bg-gray-300 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full\"></div></label>  <label${add_attribute(\n      \"class\",\n      !subscriptionGroup.find((a) => a == notificationSettingType[0]) ? \"hidden\" : \"flex cursor-pointer flex-row justify-between\",\n      0\n    )}><span class=\"ms-3 text-sm\">${escape(setting_push())}</span> <input type=\"checkbox\"${add_attribute(\"value\", notificationSettingType[0], 0)} name=\"push\" class=\"peer sr-only\"${~pushGroup.indexOf(notificationSettingType[0]) ? add_attribute(\"checked\", true, 1) : \"\"}> <div class=\"peer relative h-6 w-11 rounded-full bg-gray-300 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-400 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-gray-800 rtl:peer-checked:after:-translate-x-full\"></div></label> </li>`;\n  })}</ul></div> <div class=\"flex w-full max-w-2xl flex-col items-center lg:p-0\"><h2 class=\"mb-2 self-center text-2xl font-bold\">${escape(setting_subscription())}</h2> ${validate_component(SubscriptionTags, \"SubscriptionTags\").$$render(\n    $$result,\n    {\n      tags,\n      subscribedTags: subscribedTags.subscribedTags\n    },\n    {},\n    {}\n  )}</div> <button class=\"btn btn-primary absolute bottom-0 mb-4 mt-4 w-full max-w-xl bg-primary\" type=\"submit\">${escape(setting_apply())}</button></form></div>`;\n});\nexport {\n  SettingsPage as S\n};\n"],"names":[],"mappings":"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"}