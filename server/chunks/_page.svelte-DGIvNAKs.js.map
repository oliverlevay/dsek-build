{"version":3,"file":"_page.svelte-DGIvNAKs.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/medals/_page.svelte.js"],"sourcesContent":["import { g as getContext, a as subscribe } from \"../../../../chunks/lifecycle.js\";\nimport { c as create_ssr_component, b as escape, v as validate_component, a as add_attribute, e as each } from \"../../../../chunks/ssr.js\";\nimport { a as apiNames } from \"../../../../chunks/apiNames.js\";\nimport { i as isAuthorized } from \"../../../../chunks/authorization.js\";\nimport { S as SetPageTitle } from \"../../../../chunks/SetPageTitle.js\";\nimport { P as Pagination } from \"../../../../chunks/Pagination.js\";\nimport { M as MemberAvatar } from \"../../../../chunks/MemberAvatar.js\";\nimport { g as getFullName } from \"../../../../chunks/member.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { N as medals } from \"../../../../chunks/messages.js\";\nimport { d as dateToSemester, t as toString, p as parseSemester, a as semesterFromYearAndTerm } from \"../../../../chunks/semesters.js\";\nconst ScrollIndicatedBox = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { element } = $$props;\n  if ($$props.element === void 0 && $$bindings.element && element !== void 0) $$bindings.element(element);\n  {\n    (() => {\n      if (element && element.onscroll == null) {\n        element.onscroll = () => {\n          element = element;\n        };\n      }\n    })();\n  }\n  return `<div class=\"relative\">${slots.default ? slots.default({}) : ``} <div class=\"${\"arrow-indicator pointer-events-none absolute right-1/2 top-2 translate-x-1/2 rounded-md bg-primary/40 px-2 text-xl transition-opacity \" + escape(\n    element && element.scrollTop > 20 ? \"opacity-100\" : \"opacity-0\",\n    true\n  )}\">↑</div> <div class=\"${\"arrow-indicator pointer-events-none absolute bottom-2 right-1/2 translate-x-1/2 rounded-md bg-primary/40 px-2 text-xl transition-opacity \" + escape(\n    element && element.scrollHeight > element.clientHeight && element.scrollTop + element.clientHeight < element.scrollHeight - 20 ? \"opacity-100\" : \"opacity-0\",\n    true\n  )}\">↓</div></div>`;\n});\nconst MedalCard = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { medal } = $$props;\n  let { recipients } = $$props;\n  let mandatesBox;\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.medal === void 0 && $$bindings.medal && medal !== void 0) $$bindings.medal(medal);\n  if ($$props.recipients === void 0 && $$bindings.recipients && recipients !== void 0) $$bindings.recipients(recipients);\n  return `<article class=\"card bg-base-200 shadow-xl transition-all\"><div class=\"card-body\"><h2 class=\"card-title\">${escape(medal)} ${recipients.length > 1 ? `(${escape(recipients.length)} st)` : ``}</h2> ${validate_component(ScrollIndicatedBox, \"ScrollIndicatedBox\").$$render($$result, { element: mandatesBox }, {}, {\n    default: () => {\n      return `<div class=\"max-h-80 overflow-y-auto\"${add_attribute(\"this\", mandatesBox, 0)}><ul class=\"menu menu-vertical p-0\">${each(recipients, (recipient) => {\n        return `<li><a${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(`/members/${recipient.studentId}`, void 0), 0)}><div class=\"flex flex-row items-center gap-2\">${validate_component(MemberAvatar, \"MemberAvatar\").$$render($$result, { member: recipient }, {}, {})} <div><h3 class=\"font-medium\">${escape(getFullName(recipient))} </h3></div> </div></a> </li>`;\n      })}</ul></div>`;\n    }\n  })}</div></article>`;\n});\nconst MedalGrid = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let everyOtherGroup;\n  let everyOtherGroup2;\n  let { groups } = $$props;\n  if ($$props.groups === void 0 && $$bindings.groups && groups !== void 0) $$bindings.groups(groups);\n  everyOtherGroup = groups.filter((_, i) => i % 2 === 0);\n  everyOtherGroup2 = groups.filter((_, i) => i % 2 === 1);\n  return `<div class=\"hidden grid-cols-2 gap-4 md:grid\"><div class=\"flex flex-col items-stretch gap-4\">${each(everyOtherGroup, (group) => {\n    return `${validate_component(MedalCard, \"MedalCard\").$$render(\n      $$result,\n      {\n        medal: group.medal,\n        recipients: group.recipients\n      },\n      {},\n      {}\n    )}`;\n  })}</div> <div class=\"flex flex-col items-stretch gap-4\">${each(everyOtherGroup2, (group) => {\n    return `${validate_component(MedalCard, \"MedalCard\").$$render(\n      $$result,\n      {\n        medal: group.medal,\n        recipients: group.recipients\n      },\n      {},\n      {}\n    )}`;\n  })}</div></div> <div class=\"grid gap-4 md:hidden\">${each(groups, (group) => {\n    return `${validate_component(MedalCard, \"MedalCard\").$$render(\n      $$result,\n      {\n        medal: group.medal,\n        recipients: group.recipients\n      },\n      {},\n      {}\n    )}`;\n  })}</div>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let currentSemester;\n  let recipients;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  const firstSemester = semesterFromYearAndTerm(1982);\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  currentSemester = dateToSemester(\n    /* @__PURE__ */ new Date()\n  );\n  recipients = data.recipients;\n  $$unsubscribe_page();\n  return `${validate_component(SetPageTitle, \"SetPageTitle\").$$render($$result, { title: medals() }, {}, {})} <div class=\"space-y-2\">${validate_component(Pagination, \"Pagination\").$$render(\n    $$result,\n    {\n      count: currentSemester - firstSemester,\n      getPageName: (i) => toString(currentSemester - i),\n      getPageNumber: (page2) => currentSemester - parseSemester(page2),\n      fieldName: \"semester\",\n      showFirst: true,\n      showLast: true,\n      class: \"max-w\"\n    },\n    {},\n    {}\n  )} ${isAuthorized(apiNames.MEDALS.MANAGE, data.user) ? `<a class=\"btn btn-primary\"${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute($page.url.pathname + \"/download-csv?\" + $page.url.searchParams, void 0), 0)}><span class=\"i-mdi-file-delimited\"></span>CSV</a>` : ``} ${validate_component(MedalGrid, \"MedalGrid\").$$render($$result, { groups: recipients }, {}, {})}</div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}