{"version":3,"file":"EventPage-tKrLi1Uo.js","sources":["../../../.svelte-kit/adapter-node/chunks/EventPage.js"],"sourcesContent":["import { g as getContext, a as subscribe } from \"./lifecycle.js\";\nimport { c as create_ssr_component, e as each, b as escape, a as add_attribute, v as validate_component } from \"./ssr.js\";\nimport { p as page } from \"./stores.js\";\nimport { P as Pagination } from \"./Pagination.js\";\nimport { S as SearchBar } from \"./SearchBar.js\";\nimport { T as TagSelector } from \"./TagSelector.js\";\nimport { dW as events_cancelled, B as events, dX as events_coming, dY as events_past, dZ as events_filter } from \"./messages.js\";\nimport { r as relativeDate } from \"./datetime.js\";\nimport { I as InterestedGoingButtons } from \"./InterestedGoingButtons.js\";\nimport { I as InterestedGoingList } from \"./InterestedGoingList.js\";\nimport { M as MarkdownBody } from \"./MarkdownBody.js\";\nimport { e as eventLink } from \"./redirect.js\";\nimport { l as languageTag } from \"./runtime.js\";\nimport { S as SetPageTitle } from \"./SetPageTitle.js\";\nconst SmallEventCard = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { event } = $$props;\n  let { interestedGoingForm } = $$props;\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.event === void 0 && $$bindings.event && event !== void 0) $$bindings.event(event);\n  if ($$props.interestedGoingForm === void 0 && $$bindings.interestedGoingForm && interestedGoingForm !== void 0) $$bindings.interestedGoingForm(interestedGoingForm);\n  return `<article class=\"row-span-2 grid grid-rows-subgrid gap-0 overflow-hidden rounded-xl bg-base-200\"><div class=\"flex justify-between gap-4 bg-base-300 p-4\"><div class=\"flex flex-wrap gap-2\">${each(event.tags, (tag) => {\n    return `<span class=\"badge text-xs text-neutral-400\">${escape(tag.name)}</span>`;\n  })}</div></div> <div class=\"flex flex-col p-8\"><a${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(eventLink(event), void 0), 0)}><div class=\"flex items-end\"><h2 class=\"${[\"text-2xl font-bold\", event.isCancelled ? \"line-through\" : \"\"].join(\" \").trim()}\">${escape(event.title)} ${event.removedAt ? `<span class=\"badge badge-error badge-sm relative -top-1 !text-xs font-semibold\" data-svelte-h=\"svelte-1nx81be\">Raderat</span>` : ``}</h2> ${event.isCancelled ? `<span class=\"badge badge-error badge-md relative -top-1 ml-2 font-semibold\">${escape(events_cancelled())}</span>` : ``}</div></a> <section class=\"${[\"text-primary\", event.isCancelled ? \"line-through\" : \"\"].join(\" \").trim()}\">${Math.abs(event.startDatetime.valueOf() - event.endDatetime.valueOf()) < 24 * 60 * 60 * 1e3 ? `<span class=\"font-semibold\">${escape(relativeDate(event.startDatetime))}</span> <br> ${escape(event.startDatetime?.toLocaleTimeString([languageTag()], { hour: \"2-digit\", minute: \"2-digit\" }))} →\n        ${escape(event.endDatetime?.toLocaleTimeString([languageTag()], { hour: \"2-digit\", minute: \"2-digit\" }))}` : `<div class=\"flex flex-row items-center gap-4\"><div><span class=\"font-semibold\">${escape(relativeDate(event.startDatetime))}</span> <br> ${escape(event.startDatetime?.toLocaleTimeString([languageTag()], { hour: \"2-digit\", minute: \"2-digit\" }))}</div>\n          →\n          <div><span class=\"font-semibold\">${escape(relativeDate(event.endDatetime))}</span> <br> ${escape(event.endDatetime?.toLocaleTimeString([languageTag()], { hour: \"2-digit\", minute: \"2-digit\" }))}</div></div>`}</section> ${validate_component(InterestedGoingButtons, \"InterestedGoingButtons\").$$render(\n    $$result,\n    {\n      eventId: event.id,\n      interestedGoingForm,\n      going: event.going,\n      interested: event.interested\n    },\n    {},\n    {}\n  )} <div class=\"my-3 flex flex-col items-start gap-2\">${event.shortDescription ? `${validate_component(MarkdownBody, \"MarkdownBody\").$$render(\n    $$result,\n    {\n      body: event.shortDescription,\n      class: \"mb-2 text-xl font-semibold !leading-snug\"\n    },\n    {},\n    {}\n  )}` : ``} ${validate_component(MarkdownBody, \"MarkdownBody\").$$render(\n    $$result,\n    {\n      body: event.description,\n      class: \"line-clamp-4 text-ellipsis\"\n    },\n    {},\n    {}\n  )}</div> <div class=\"my-3 flex flex-col items-start gap-0.5\">${validate_component(InterestedGoingList, \"InterestedGoingList\").$$render(\n    $$result,\n    {\n      going: event.going,\n      interested: event.interested\n    },\n    {},\n    {}\n  )}</div></div></article>`;\n});\nconst EventPage = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let isPast;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  let filteredTags = data.allTags.filter((tag) => $page.url.searchParams.getAll(\"tags\").includes(tag.name));\n  let filterButton;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    isPast = $page.url.searchParams.get(\"past\") == \"on\";\n    $$rendered = `${validate_component(SetPageTitle, \"SetPageTitle\").$$render($$result, { title: events() }, {}, {})} <section class=\"flex flex-col gap-2\">${slots.default ? slots.default({}) : ``} <form method=\"get\" class=\"form-control flex-1 gap-2 md:flex-row md:items-center\" id=\"filter-form\"><div class=\"join\"><label class=\"${\"btn btn-primary join-item \" + escape(!isPast ? \"pointer-events-none\" : \"btn-outline\", true)}\">${escape(events_coming())} <input type=\"radio\" name=\"past\" value=\"off\" ${!isPast ? \"checked\" : \"\"} class=\"hidden\"></label> <label class=\"${\"btn btn-primary join-item \" + escape(isPast ? \"pointer-events-none\" : \"btn-outline\", true)}\">${escape(events_past())} <input type=\"radio\" name=\"past\" value=\"on\" ${isPast ? \"checked\" : \"\"} class=\"hidden\"></label></div> ${validate_component(TagSelector, \"TagSelector\").$$render(\n      $$result,\n      {\n        allTags: data.allTags,\n        selectedTags: filteredTags\n      },\n      {\n        selectedTags: ($$value) => {\n          filteredTags = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )} ${validate_component(SearchBar, \"SearchBar\").$$render($$result, {}, {}, {})} ${each(filteredTags, (tag) => {\n      return `<input type=\"hidden\" name=\"tags\"${add_attribute(\"value\", tag.name, 0)}>`;\n    })} <button type=\"submit\" class=\"btn btn-primary\"${add_attribute(\"this\", filterButton, 0)}>${escape(events_filter())}</button></form> ${each(data.events, (event) => {\n      return `${validate_component(SmallEventCard, \"SmallEventCard\").$$render(\n        $$result,\n        {\n          event,\n          interestedGoingForm: data.interestedGoingForm\n        },\n        {},\n        {}\n      )}`;\n    })} ${validate_component(Pagination, \"Pagination\").$$render($$result, { count: data.pageCount }, {}, {})}</section>`;\n  } while (!$$settled);\n  $$unsubscribe_page();\n  return $$rendered;\n});\nexport {\n  EventPage as E\n};\n"],"names":[],"mappings":"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"}