{"version":3,"file":"StatusComponent-NzEeBhxw.js","sources":["../../../.svelte-kit/adapter-node/chunks/StatusComponent.js"],"sourcesContent":["import { c as create_ssr_component, a as add_attribute, b as escape } from \"./ssr.js\";\nimport dayjs from \"dayjs\";\nimport { co as booking_accepted, cp as booking_denied, cq as booking_pending, cr as booking_conflictWith, cs as booking_conflict } from \"./messages.js\";\nimport { twMerge } from \"tailwind-merge\";\nconst StatusComponent = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let otherBookingRequests;\n  let start;\n  let end;\n  let conflict;\n  let conflictingBookables;\n  let conflictError;\n  let conflictWarning;\n  let { bookingRequest } = $$props;\n  let { bookingRequests } = $$props;\n  let { class: clazz = void 0 } = $$props;\n  if ($$props.bookingRequest === void 0 && $$bindings.bookingRequest && bookingRequest !== void 0) $$bindings.bookingRequest(bookingRequest);\n  if ($$props.bookingRequests === void 0 && $$bindings.bookingRequests && bookingRequests !== void 0) $$bindings.bookingRequests(bookingRequests);\n  if ($$props.class === void 0 && $$bindings.class && clazz !== void 0) $$bindings.class(clazz);\n  otherBookingRequests = bookingRequests.filter((br) => br.id !== bookingRequest.id && br.status !== \"DENIED\");\n  start = dayjs(bookingRequest.start);\n  end = dayjs(bookingRequest.end);\n  conflict = otherBookingRequests.find((br) => dayjs(br.start).isBefore(end) && dayjs(br.end).isAfter(start) && br.bookables.some((ba) => bookingRequest.bookables.map((ba2) => ba2.id).includes(ba.id)));\n  conflictingBookables = conflict?.bookables.filter((b) => bookingRequest.bookables.map((ba) => ba.id).includes(b.id)).map((b) => b.name).join(\", \");\n  conflictError = bookingRequest.status !== \"DENIED\" && conflict?.status === \"ACCEPTED\";\n  conflictWarning = conflict && !conflictError;\n  return `<div${add_attribute(\"class\", twMerge(\"flex gap-1\", clazz), 0)}>${bookingRequest.status === \"ACCEPTED\" ? `<div class=\"badge badge-success\"><span class=\"i-mdi-check-circle mr-1\"></span>${escape(booking_accepted())}</div>` : `${bookingRequest.status === \"DENIED\" ? `<div class=\"badge badge-error\"><span class=\"i-mdi-denied mr-1\"></span>${escape(booking_denied())}</div>` : `${bookingRequest.status === \"PENDING\" ? `<div class=\"badge badge-info\"><span class=\"i-mdi-hourglass mr-1\"></span>${escape(booking_pending())}</div>` : ``}`}`} ${conflict ? `<div class=\"${[\n    \"badge\",\n    (conflictError ? \"badge-error\" : \"\") + \" \" + (conflictWarning ? \"badge-secondary\" : \"\")\n  ].join(\" \").trim()}\"><div class=\"tooltip flex items-center\"${add_attribute(\n    \"data-tip\",\n    booking_conflictWith({\n      event: `${conflict.event}`,\n      bookables: `${conflictingBookables}`\n    }),\n    0\n  )}><span class=\"i-mdi-info mr-1\"></span>${escape(booking_conflict())}</div></div>` : ``}</div>`;\n});\nexport {\n  StatusComponent as S\n};\n"],"names":[],"mappings":"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"}