{"version":3,"file":"actions-Bi16y7PO.js","sources":["../../../.svelte-kit/adapter-node/chunks/actions.js"],"sourcesContent":["import { P as PUBLIC_BUCKETS_FILES } from \"./public.js\";\nimport { e as eventSchema, b as isRecurringType, g as getIncrementType, a as actionType } from \"./schema3.js\";\nimport { u as uploadFile } from \"./uploadFiles.js\";\nimport { a as authorizedPrismaClient } from \"./authorizedPrisma.js\";\nimport { z } from \"zod\";\nimport { r as redirect } from \"./redirect.js\";\nimport { s as slugify, a as slugWithCount } from \"./slugify.js\";\nimport { ef as events_errors_eventNotFound, eD as events_eventUpdated } from \"./messages.js\";\nimport { e as error } from \"./index.js\";\nimport dayjs from \"dayjs\";\nimport DOMPurify from \"isomorphic-dompurify\";\nimport \"./client.js\";\nimport \"just-clone\";\nimport \"ts-deepmerge\";\nimport \"./superForm.js\";\nimport \"devalue\";\nimport { s as superValidate, f as fail } from \"./superValidate.js\";\nimport \"memoize-weak\";\nimport { z as zod } from \"./zod.js\";\nconst uploadImage = async (user, image, slug) => {\n  const imageUrl = await uploadFile(\n    user,\n    image,\n    `public/events/${slug}`,\n    PUBLIC_BUCKETS_FILES,\n    \"header\",\n    {\n      resize: {\n        width: 1920\n      }\n    }\n  );\n  return imageUrl;\n};\nconst createEvent = async (event) => {\n  const { request, locals } = event;\n  const { prisma, user } = locals;\n  const form = await superValidate(request, zod(eventSchema));\n  if (!form.valid) return fail(400, { form });\n  const {\n    tags,\n    image,\n    recurringType,\n    separationCount,\n    isRecurring,\n    recurringEndDatetime,\n    ...eventData\n  } = form.data;\n  const slug = slugify(form.data.title);\n  let slugCount = await authorizedPrismaClient.event.count({\n    where: {\n      slug: {\n        startsWith: slug\n      }\n    }\n  });\n  if (image) eventData.imageUrl = await uploadImage(user, image, slug);\n  const tagIds = tags.filter((tag) => !!tag).map((tag) => ({\n    id: tag.id\n  }));\n  eventData.description = DOMPurify.sanitize(eventData.description);\n  eventData.descriptionEn = eventData.descriptionEn ? DOMPurify.sanitize(eventData.descriptionEn) : eventData.descriptionEn;\n  if (isRecurring) {\n    let recurType;\n    if (isRecurringType(recurringType)) {\n      recurType = recurringType;\n    } else {\n      throw error(500);\n    }\n    const recurringEventParent = await prisma.recurringEvent.create({\n      data: {\n        startDatetime: eventData.startDatetime,\n        recurringType: recurType,\n        endDatetime: recurringEndDatetime,\n        author: {\n          connect: {\n            studentId: user?.studentId\n          }\n        },\n        separationCount\n      }\n    });\n    const incrementType = getIncrementType(recurType);\n    const dates = [];\n    const dayjsEndDate = dayjs(form.data.recurringEndDatetime);\n    let date = dayjs(form.data.startDatetime);\n    const startEndDiff = dayjs(form.data.endDatetime).diff(date);\n    while (date.isBefore(dayjsEndDate, \"day\") || date.isSame(dayjsEndDate, \"day\")) {\n      dates.push(date.toDate());\n      date = date.add(form.data.separationCount + 1, incrementType);\n    }\n    await prisma.$transaction(async (tx) => {\n      for (const date2 of dates) {\n        await tx.event.create({\n          data: {\n            ...eventData,\n            recurringParentId: recurringEventParent.id,\n            startDatetime: date2,\n            isDetatched: false,\n            authorId: user?.memberId ?? error(500, \"No user\"),\n            endDatetime: dayjs(date2).add(startEndDiff).toDate(),\n            slug: slugWithCount(slug, slugCount),\n            tags: {\n              connect: tagIds\n            }\n          }\n        });\n        slugCount += 1;\n      }\n    });\n    redirect(\n      `/events/${slugWithCount(slug, slugCount - dates.length)}`,\n      // first one created\n      {\n        message: \"Evenemang skapat\",\n        type: \"success\"\n      },\n      event\n    );\n  } else {\n    const result = await prisma.event.create({\n      data: {\n        slug: slugWithCount(slug, slugCount),\n        ...eventData,\n        author: {\n          connect: {\n            studentId: user?.studentId\n          }\n        },\n        tags: {\n          connect: tagIds\n        }\n      }\n    });\n    throw redirect(\n      `/events/${result.slug}`,\n      {\n        message: \"Evenemang skapat\",\n        type: \"success\"\n      },\n      event\n    );\n  }\n};\nconst updateEvent = async (event) => {\n  const { request, locals, params } = event;\n  const { user, prisma } = locals;\n  const slug = params.slug;\n  const form = await superValidate(\n    request,\n    zod(eventSchema.and(z.object({ editType: actionType })))\n  );\n  if (!form.valid) return fail(400, { form });\n  const { isRecurring, recurringEndDatetime, ...recurringEventData } = form.data;\n  const {\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars --\n     * To avoid lint complaining about unused vars\n     **/\n    recurringType,\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars --\n     * To avoid lint complaining about unused vars\n     **/\n    separationCount,\n    tags,\n    image,\n    editType,\n    ...eventData\n  } = recurringEventData;\n  eventData.description = DOMPurify.sanitize(eventData.description);\n  eventData.descriptionEn = eventData.descriptionEn ? DOMPurify.sanitize(eventData.descriptionEn) : eventData.descriptionEn;\n  const existingEvent = await prisma.event.findUnique({\n    where: {\n      slug\n    },\n    select: {\n      id: true,\n      recurringParentId: true,\n      startDatetime: true,\n      endDatetime: true\n    }\n  });\n  if (!existingEvent) {\n    throw error(404, events_errors_eventNotFound());\n  }\n  if (image) eventData.imageUrl = await uploadImage(user, image, slug);\n  if (!isRecurring || editType === \"THIS\") {\n    await prisma.event.update({\n      where: {\n        id: existingEvent.id\n      },\n      data: {\n        ...eventData,\n        author: void 0,\n        tags: {\n          set: tags.map(({ id }) => ({ id }))\n        }\n      }\n    });\n  } else if (editType === \"FUTURE\" || editType === \"ALL\") {\n    const eventsToBeUpdated = await prisma.event.findMany({\n      where: {\n        recurringParentId: existingEvent.recurringParentId,\n        startDatetime: editType === \"FUTURE\" ? { gte: existingEvent.startDatetime } : void 0\n      }\n    });\n    const startTimeDiff = dayjs(eventData.startDatetime).diff(\n      dayjs(existingEvent.startDatetime)\n    );\n    const endTimeDiff = dayjs(eventData.endDatetime).diff(\n      dayjs(existingEvent.endDatetime)\n    );\n    await Promise.all(\n      eventsToBeUpdated.map((e) => {\n        const { startDatetime, endDatetime, id, ...oldData } = e;\n        const newData = {\n          ...oldData,\n          ...eventData,\n          startDatetime: dayjs(startDatetime).add(startTimeDiff, \"ms\").format(),\n          endDatetime: dayjs(endDatetime).add(endTimeDiff, \"ms\").format(),\n          author: void 0,\n          tags: {\n            set: tags.map(({ id: id2 }) => ({ id: id2 }))\n          }\n        };\n        return prisma.event.update({\n          where: {\n            id\n          },\n          data: {\n            ...newData\n          }\n        });\n      })\n    );\n  }\n  throw redirect(\n    `/events/${slug}`,\n    {\n      message: events_eventUpdated(),\n      type: \"success\"\n    },\n    event\n  );\n};\nexport {\n  createEvent as c,\n  updateEvent as u\n};\n"],"names":[],"mappings":"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"}