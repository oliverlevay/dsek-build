{"version":3,"file":"mutations.server-BasbvG3q.js","sources":["../../../.svelte-kit/adapter-node/chunks/mutations.server.js"],"sourcesContent":["import { a as authorizedPrismaClient } from \"./authorizedPrisma.js\";\nimport { a as apiNames } from \"./apiNames.js\";\nimport { i as isAuthorized } from \"./authorization.js\";\nimport DOMPurify from \"isomorphic-dompurify\";\nconst updateMarkdown = async (user, prisma, markdown) => {\n  const prismaToUse = isAuthorized(\n    apiNames.MARKDOWNS.PAGE(markdown.name).UPDATE,\n    user\n  ) ? authorizedPrismaClient : prisma;\n  return await prismaToUse.markdown.update({\n    where: {\n      name: markdown.name\n    },\n    data: {\n      markdown: DOMPurify.sanitize(markdown.markdown),\n      markdownEn: markdown.markdownEn ? DOMPurify.sanitize(markdown.markdownEn) : markdown.markdownEn\n    }\n  });\n};\nexport {\n  updateMarkdown as u\n};\n"],"names":[],"mappings":";;;;;AAIK,MAAC,cAAc,GAAG,OAAO,IAAI,EAAE,MAAM,EAAE,QAAQ,KAAK;AACzD,EAAE,MAAM,WAAW,GAAG,YAAY;AAClC,IAAI,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAM;AACjD,IAAI,IAAI;AACR,GAAG,GAAG,sBAAsB,GAAG,MAAM,CAAC;AACtC,EAAE,OAAO,MAAM,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC;AAC3C,IAAI,KAAK,EAAE;AACX,MAAM,IAAI,EAAE,QAAQ,CAAC,IAAI;AACzB,KAAK;AACL,IAAI,IAAI,EAAE;AACV,MAAM,QAAQ,EAAE,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;AACrD,MAAM,UAAU,EAAE,QAAQ,CAAC,UAAU,GAAG,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,QAAQ,CAAC,UAAU;AACrG,KAAK;AACL,GAAG,CAAC,CAAC;AACL;;;;"}