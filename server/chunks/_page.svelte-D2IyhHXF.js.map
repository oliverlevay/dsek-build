{"version":3,"file":"_page.svelte-D2IyhHXF.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/admin/settings/_page.svelte.js"],"sourcesContent":["import { a as subscribe, g as getContext } from \"../../../../../chunks/lifecycle.js\";\nimport { c as create_ssr_component, v as validate_component, a as add_attribute, b as escape, e as each } from \"../../../../../chunks/ssr.js\";\nimport \"devalue\";\nimport \"../../../../../chunks/client.js\";\nimport { D as DateInput } from \"../../../../../chunks/DateInput.js\";\nimport { I as Input } from \"../../../../../chunks/Input.js\";\nimport { L as Labeled } from \"../../../../../chunks/Labeled.js\";\nimport { L as LoadingButton } from \"../../../../../chunks/LoadingButton.js\";\nimport { P as PageHeader } from \"../../../../../chunks/PageHeader.js\";\nimport { s as superForm } from \"../../../../../chunks/superForms.js\";\nimport { i as isAuthorized } from \"../../../../../chunks/authorization.js\";\nimport { a as apiNames } from \"../../../../../chunks/apiNames.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $updateConstraints, $$unsubscribe_updateConstraints;\n  let $updateErrors, $$unsubscribe_updateErrors;\n  let $updateSubmitting, $$unsubscribe_updateSubmitting;\n  let $nollningErrors, $$unsubscribe_nollningErrors;\n  let $nollningConstraints, $$unsubscribe_nollningConstraints;\n  let $nollningSubmitting, $$unsubscribe_nollningSubmitting;\n  let { data } = $$props;\n  const { enhance: updateEnhance, submitting: updateSubmitting, errors: updateErrors, constraints: updateConstraints } = superForm(data.updateForm);\n  $$unsubscribe_updateSubmitting = subscribe(updateSubmitting, (value) => $updateSubmitting = value);\n  $$unsubscribe_updateErrors = subscribe(updateErrors, (value) => $updateErrors = value);\n  $$unsubscribe_updateConstraints = subscribe(updateConstraints, (value) => $updateConstraints = value);\n  const { enhance: nollningEnhance, submitting: nollningSubmitting, errors: nollningErrors, constraints: nollningConstraints } = superForm(data.updateNollningForm);\n  $$unsubscribe_nollningSubmitting = subscribe(nollningSubmitting, (value) => $nollningSubmitting = value);\n  $$unsubscribe_nollningErrors = subscribe(nollningErrors, (value) => $nollningErrors = value);\n  $$unsubscribe_nollningConstraints = subscribe(nollningConstraints, (value) => $nollningConstraints = value);\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$unsubscribe_updateConstraints();\n  $$unsubscribe_updateErrors();\n  $$unsubscribe_updateSubmitting();\n  $$unsubscribe_nollningErrors();\n  $$unsubscribe_nollningConstraints();\n  $$unsubscribe_nollningSubmitting();\n  return `${validate_component(PageHeader, \"PageHeader\").$$render($$result, { title: \"Admininst√§llningar\" }, {}, {})} <div class=\"flex flex-col gap-4\">${isAuthorized(apiNames.ADMIN.SETTINGS.CREATE, data.user) || isAuthorized(apiNames.ADMIN.SETTINGS.UPDATE, data.user) ? `<form class=\"form-control gap-2 rounded-box bg-base-300 p-4\" method=\"POST\"${add_attribute(\"action\", pArAgLiDe_translate_attribute_pass_translateAttribute(`?/update`, void 0), 0)}>${`<h3 class=\"text-lg font-semibold\" data-svelte-h=\"svelte-19kqtza\">Skapa ny</h3> ${validate_component(Input, \"Input\").$$render($$result, Object.assign({}, { label: \"Key\" }, { name: \"key\" }, $updateConstraints.key, { error: $updateErrors.key }), {}, {})}`} ${validate_component(Input, \"Input\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { label: \"Value\" },\n      { name: \"value\" },\n      {\n        value: void 0\n      },\n      $updateConstraints.value,\n      { error: $updateErrors.value }\n    ),\n    {},\n    {}\n  )} ${validate_component(LoadingButton, \"LoadingButton\").$$render(\n    $$result,\n    {\n      class: \"btn btn-primary mt-4\",\n      isLoading: $updateSubmitting,\n      type: \"submit\"\n    },\n    {},\n    {\n      default: () => {\n        return `${escape(\"Skapa\")}`;\n      }\n    }\n  )}</form>` : ``} <table class=\"table rounded-box bg-base-300\"><thead data-svelte-h=\"svelte-11jk77j\"><tr><th>Key</th> <th>Value</th> <th>Edit</th> <th>Remove</th></tr></thead> ${each(data.settings, (setting) => {\n    return `<tr><td>${escape(setting.key)}</td> <td>${escape(setting.value)}</td> <td><button ${!isAuthorized(apiNames.ADMIN.SETTINGS.UPDATE, data.user) ? \"disabled\" : \"\"} class=\"btn btn-ghost\"><span class=\"i-mdi-edit\"></span> </button></td> <td><form method=\"POST\"${add_attribute(\"action\", pArAgLiDe_translate_attribute_pass_translateAttribute(`?/remove`, void 0), 0)}><input type=\"hidden\" name=\"key\"${add_attribute(\"value\", setting.key, 0)}> ${validate_component(LoadingButton, \"LoadingButton\").$$render(\n      $$result,\n      {\n        type: \"submit\",\n        class: \"btn btn-error\",\n        disabled: !isAuthorized(apiNames.ADMIN.SETTINGS.DELETE, data.user)\n      },\n      {},\n      {\n        default: () => {\n          return `<span class=\"i-mdi-delete\"></span> `;\n        }\n      }\n    )} </form></td> </tr>`;\n  })}</table> ${data.nollning && isAuthorized(apiNames.ADMIN.SETTINGS.UPDATE, data.user) ? `<form method=\"POST\"${add_attribute(\"action\", pArAgLiDe_translate_attribute_pass_translateAttribute(`?/updateNollning`, void 0), 0)} class=\"form-control justify-between gap-2 rounded-box bg-base-300 p-4 md:flex-row\">${validate_component(Labeled, \"Labeled\").$$render($$result, Object.assign({}, { label: \"Nollning start\" }, { class: \"md:flex-1\" }, { error: $nollningErrors.start }, $nollningConstraints.start), {}, {\n    default: () => {\n      return `${validate_component(DateInput, \"DateInput\").$$render($$result, Object.assign({}, { name: \"start\" }, { date: data.nollning.start }, $nollningConstraints.start), {}, {})}`;\n    }\n  })} ${validate_component(Labeled, \"Labeled\").$$render($$result, Object.assign({}, { class: \"md:flex-1\" }, { label: \"Nollning start\" }, { error: $nollningErrors.end }, $nollningConstraints.end), {}, {\n    default: () => {\n      return `${validate_component(DateInput, \"DateInput\").$$render($$result, Object.assign({}, { name: \"end\" }, { date: data.nollning.end }, $nollningConstraints.end, { error: $nollningErrors.end }), {}, {})}`;\n    }\n  })} ${validate_component(LoadingButton, \"LoadingButton\").$$render(\n    $$result,\n    {\n      class: \"btn btn-primary mt-4 self-end\",\n      isLoading: $nollningSubmitting,\n      type: \"submit\"\n    },\n    {},\n    {\n      default: () => {\n        return `Spara`;\n      }\n    }\n  )}</form>` : ``}</div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}