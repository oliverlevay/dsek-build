{"version":3,"file":"CommentSection-BzSYxX4l.js","sources":["../../../.svelte-kit/adapter-node/chunks/CommentSection.js"],"sourcesContent":["import { a as subscribe, g as getContext } from \"./lifecycle.js\";\nimport { c as create_ssr_component, v as validate_component, a as add_attribute, s as spread, d as escape_object, b as escape, g as escape_attribute_value, e as each } from \"./ssr.js\";\nimport { p as page } from \"./stores.js\";\nimport { M as MemberSearch } from \"./MemberSearch.js\";\nimport { M as MemberAvatar } from \"./MemberAvatar.js\";\nimport { g as getFullName } from \"./member.js\";\nimport { s as superForm } from \"./superForms.js\";\nimport { M as MarkdownBody } from \"./MarkdownBody.js\";\nimport { a as apiNames } from \"./apiNames.js\";\nimport { i as isAuthorized } from \"./authorization.js\";\nimport { t as tagRegex } from \"./commentTagging.js\";\nimport { r as relativeDate } from \"./datetime.js\";\nconst CommentInput = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $constraints, $$unsubscribe_constraints;\n  let $form, $$unsubscribe_form;\n  let $errors, $$unsubscribe_errors;\n  let { author } = $$props;\n  let { commentForm } = $$props;\n  const { form, errors, constraints, enhance } = superForm(commentForm, { resetForm: true });\n  $$unsubscribe_form = subscribe(form, (value) => $form = value);\n  $$unsubscribe_errors = subscribe(errors, (value) => $errors = value);\n  $$unsubscribe_constraints = subscribe(constraints, (value) => $constraints = value);\n  const onReply = (comment) => {\n    const tagString = `[@${getFullName(comment.member)}](/members/${comment.member.studentId}) `;\n    form.update((f) => {\n      if (f.content.trim().startsWith(\"[@\") || f.content.trim().length === 0) {\n        f.content = tagString;\n      } else {\n        f.content = `${tagString}${f.content}`;\n      }\n      return f;\n    });\n  };\n  let handleSearch;\n  let indexOfTagStart = -1;\n  let inputEl;\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.author === void 0 && $$bindings.author && author !== void 0) $$bindings.author(author);\n  if ($$props.commentForm === void 0 && $$bindings.commentForm && commentForm !== void 0) $$bindings.commentForm(commentForm);\n  if ($$props.onReply === void 0 && $$bindings.onReply && onReply !== void 0) $$bindings.onReply(onReply);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `<div class=\"flex items-end gap-4\">${validate_component(MemberAvatar, \"MemberAvatar\").$$render($$result, { member: author, class: \"w-12 rounded-lg\" }, {}, {})} <div class=\"flex flex-1 flex-col flex-nowrap\"><label class=\"label w-auto self-start\" for=\"comment\" data-svelte-h=\"svelte-14efiw1\"><span class=\"label-text\">Kommentera</span></label> <form class=\"join join-horizontal w-full\" method=\"POST\"${add_attribute(\"action\", pArAgLiDe_translate_attribute_pass_translateAttribute(`?/comment`, void 0), 0)}>${validate_component(MemberSearch, \"MemberSearch\").$$render(\n      $$result,\n      {\n        class: \"dropdown-top flex-1\",\n        onSelect: (selectedMember) => {\n          form.update((f) => {\n            f.content = `${f.content.substring(0, indexOfTagStart)}[@${getFullName(selectedMember)}](/members/${selectedMember.studentId}) `;\n            return f;\n          });\n          inputEl.focus();\n        },\n        handleSearch\n      },\n      {\n        handleSearch: ($$value) => {\n          handleSearch = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `<input${spread(\n            [\n              { autocomplete: \"off\" },\n              { id: \"comment\" },\n              { name: \"content\" },\n              { type: \"text\" },\n              {\n                class: \"input join-item input-bordered w-full\"\n              },\n              { placeholder: \"Kommentera något kul...\" },\n              escape_object($constraints)\n            ],\n            {}\n          )}${add_attribute(\"this\", inputEl, 0)}${add_attribute(\"value\", $form.content, 0)}>`;\n        }\n      }\n    )} <button type=\"submit\" class=\"btn btn-primary join-item\" data-svelte-h=\"svelte-1r94vh1\">Skicka</button></form></div></div> ${$errors.content ? `<p class=\"text-error\">${escape($errors.content)}</p>` : ``}`;\n  } while (!$$settled);\n  $$unsubscribe_constraints();\n  $$unsubscribe_form();\n  $$unsubscribe_errors();\n  return $$rendered;\n});\nconst CommentRow = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let fixedContent;\n  let $page, $$unsubscribe_page;\n  let $constraints, $$unsubscribe_constraints;\n  let $errors, $$unsubscribe_errors;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { type } = $$props;\n  let { comment } = $$props;\n  let { author } = $$props;\n  let { taggedMembers } = $$props;\n  let { onReply } = $$props;\n  let { removeCommentForm } = $$props;\n  const { errors, constraints, enhance } = superForm(removeCommentForm, { id: comment.id });\n  $$unsubscribe_errors = subscribe(errors, (value) => $errors = value);\n  $$unsubscribe_constraints = subscribe(constraints, (value) => $constraints = value);\n  const getReplacementValue = (studentId) => {\n    const member = taggedMembers.find((member2) => member2.studentId === studentId);\n    if (!member) return \"@Unknown User\";\n    return `@${getFullName(member)}`;\n  };\n  function replaceTag(inputText) {\n    return inputText.replace(tagRegex, (_, __, studentId) => {\n      const replacement = getReplacementValue(studentId);\n      return `[${replacement}](/members/${studentId})`;\n    });\n  }\n  const pArAgLiDe_translate_attribute_pass_context = getContext(\"$paraglide-adapter-sveltekit:context\");\n  function pArAgLiDe_translate_attribute_pass_translateAttribute(value, lang_value) {\n    if (typeof value !== \"string\") return value;\n    if (!pArAgLiDe_translate_attribute_pass_context) return value;\n    return pArAgLiDe_translate_attribute_pass_context.translateHref(value, lang_value);\n  }\n  if ($$props.type === void 0 && $$bindings.type && type !== void 0) $$bindings.type(type);\n  if ($$props.comment === void 0 && $$bindings.comment && comment !== void 0) $$bindings.comment(comment);\n  if ($$props.author === void 0 && $$bindings.author && author !== void 0) $$bindings.author(author);\n  if ($$props.taggedMembers === void 0 && $$bindings.taggedMembers && taggedMembers !== void 0) $$bindings.taggedMembers(taggedMembers);\n  if ($$props.onReply === void 0 && $$bindings.onReply && onReply !== void 0) $$bindings.onReply(onReply);\n  if ($$props.removeCommentForm === void 0 && $$bindings.removeCommentForm && removeCommentForm !== void 0) $$bindings.removeCommentForm(removeCommentForm);\n  fixedContent = replaceTag(comment.content ?? \"\");\n  $$unsubscribe_page();\n  $$unsubscribe_constraints();\n  $$unsubscribe_errors();\n  return `<section aria-label=\"${\"Comment by \" + escape(getFullName(author), true)}\" class=\"relative mb-4\" id=\"comment-section\"><div class=\"grid grid-cols-[auto_1fr_auto] items-start gap-2\"><a${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(`/members/${author.studentId}`, void 0), 0)}>${validate_component(MemberAvatar, \"MemberAvatar\").$$render($$result, { member: author, class: \"w-8 rounded-lg\" }, {}, {})}</a> <div class=\"min-w-0 text-xs\"><a${add_attribute(\"href\", pArAgLiDe_translate_attribute_pass_translateAttribute(`/members/${author.studentId}`, void 0), 0)} class=\"link link-primary block truncate no-underline\"${add_attribute(\"title\", getFullName(author), 0)}>${escape(getFullName(author))}</a> <span class=\"font-semibold opacity-50\">${escape(relativeDate(comment.published))}</span></div> <div class=\"flex gap-1\">${isAuthorized(apiNames[type].COMMENT, $page.data.user) ? `<button class=\"btn btn-square btn-ghost btn-md\" data-svelte-h=\"svelte-16tztez\"><span class=\"i-mdi-reply text-xl\"></span></button>` : ``} ${isAuthorized(apiNames[type].COMMENT_DELETE, $page.data.user) || comment.memberId === $page.data.user?.memberId ? `<form method=\"POST\"${add_attribute(\"action\", pArAgLiDe_translate_attribute_pass_translateAttribute(`?/removeComment`, void 0), 0)}><input${spread(\n    [\n      { type: \"hidden\" },\n      { name: \"commentId\" },\n      {\n        value: escape_attribute_value(comment.id)\n      },\n      escape_object($constraints.commentId)\n    ],\n    {}\n  )}> ${$errors.commentId ? `<p class=\"text-error\">${escape($errors.commentId)}</p>` : ``} <button type=\"submit\" class=\"btn btn-square btn-ghost btn-md\" data-svelte-h=\"svelte-l7tz6c\"><span class=\"i-mdi-delete text-xl\"></span></button></form>` : ``}</div></div> ${validate_component(MarkdownBody, \"MarkdownBody\").$$render($$result, { body: fixedContent }, {}, {})}</section>`;\n});\nconst ALWAYS_SHOWN_COMMENTS = 3;\nconst CommentSection = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { comments } = $$props;\n  let { type } = $$props;\n  let { taggedMembers } = $$props;\n  let { commentForm } = $$props;\n  let { removeCommentForm } = $$props;\n  let onReply;\n  if ($$props.comments === void 0 && $$bindings.comments && comments !== void 0) $$bindings.comments(comments);\n  if ($$props.type === void 0 && $$bindings.type && type !== void 0) $$bindings.type(type);\n  if ($$props.taggedMembers === void 0 && $$bindings.taggedMembers && taggedMembers !== void 0) $$bindings.taggedMembers(taggedMembers);\n  if ($$props.commentForm === void 0 && $$bindings.commentForm && commentForm !== void 0) $$bindings.commentForm(commentForm);\n  if ($$props.removeCommentForm === void 0 && $$bindings.removeCommentForm && removeCommentForm !== void 0) $$bindings.removeCommentForm(removeCommentForm);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `${comments.length > 0 ? `<div class=\"${[\n      \"collapse bg-base-200\",\n      comments.length <= ALWAYS_SHOWN_COMMENTS ? \"collapse-open\" : \"\"\n    ].join(\" \").trim()}\"><input type=\"checkbox\"> <div class=\"px-4\">${each(comments.slice(comments.length - ALWAYS_SHOWN_COMMENTS), (comment) => {\n      return `${validate_component(CommentRow, \"CommentRow\").$$render(\n        $$result,\n        {\n          comment,\n          author: comment.member,\n          taggedMembers,\n          onReply: () => onReply(comment),\n          type,\n          removeCommentForm\n        },\n        {},\n        {}\n      )}`;\n    })}</div> <div class=\"collapse-title text-xl font-medium\">Kommentarer ${escape(comments.length > ALWAYS_SHOWN_COMMENTS ? `(tryck för att visa ${comments.length - ALWAYS_SHOWN_COMMENTS} till)` : \"\")}</div> <div class=\"collapse-content !pb-0\">${each(comments.slice(0, comments.length - ALWAYS_SHOWN_COMMENTS), (comment) => {\n      return `${validate_component(CommentRow, \"CommentRow\").$$render(\n        $$result,\n        {\n          comment,\n          author: comment.member,\n          taggedMembers,\n          onReply: () => onReply(comment),\n          type,\n          removeCommentForm\n        },\n        {},\n        {}\n      )}`;\n    })}</div></div>` : ``} ${isAuthorized(apiNames[type].COMMENT, $page.data.user) && $page.data.member ? `${validate_component(CommentInput, \"CommentInput\").$$render(\n      $$result,\n      {\n        author: $page.data.member,\n        commentForm,\n        onReply\n      },\n      {\n        onReply: ($$value) => {\n          onReply = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}` : ``}`;\n  } while (!$$settled);\n  $$unsubscribe_page();\n  return $$rendered;\n});\nexport {\n  CommentSection as C\n};\n"],"names":[],"mappings":"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"}