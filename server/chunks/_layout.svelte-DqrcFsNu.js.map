{"version":3,"file":"_layout.svelte-DqrcFsNu.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_layout.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as each, a as add_attribute, v as validate_component } from \"../../chunks/ssr.js\";\nimport { g as getPathInfo, a as getCanonicalPath, b as getTranslatedPath, s as serializeRoute, n as normaliseBase, P as PARAGLIDE_CONTEXT_KEY, i as i18n } from \"../../chunks/i18n.js\";\nimport { a as subscribe, s as setContext, g as getContext, b as get_store_value } from \"../../chunks/lifecycle.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nimport { b as base } from \"../../chunks/paths.js\";\nimport \"../../chunks/client.js\";\nimport { l as languageTag } from \"../../chunks/runtime.js\";\nimport dayjs from \"dayjs\";\nimport \"@stripe/stripe-js\";\nfunction getHrefBetween(from, to) {\n  if (from.protocol !== to.protocol) {\n    return to.href;\n  }\n  if (to.password || to.username) {\n    const credentials = [to.username, to.password].filter(Boolean).join(\":\");\n    return \"//\" + credentials + \"@\" + to.host + to.pathname + to.search + to.hash;\n  }\n  if (from.host !== to.host) {\n    return \"//\" + to.host + to.pathname + to.search + to.hash;\n  }\n  return to.pathname + to.search + to.hash;\n}\nfunction isExternal(url, currentUrl, base2) {\n  const absoluteBase = new URL(base2, currentUrl).pathname;\n  if (url.origin !== currentUrl.origin) {\n    return true;\n  }\n  if (!url.pathname.startsWith(absoluteBase)) {\n    return true;\n  }\n  return false;\n}\nfunction translatePath(path, targetLanguage, translations, opts) {\n  const { path: targetedPathSource, lang, dataSuffix } = getPathInfo(path, {\n    base: opts.base,\n    availableLanguageTags: opts.availableLanguageTags,\n    defaultLanguageTag: opts.defaultLanguageTag\n  });\n  const canonicalPath = getCanonicalPath(targetedPathSource, lang, translations);\n  const translatedPathTarget = getTranslatedPath(canonicalPath, targetLanguage, translations);\n  return serializeRoute({\n    path: translatedPathTarget,\n    base: opts.base,\n    dataSuffix,\n    includeLanguage: true,\n    lang: targetLanguage,\n    defaultLanguageTag: opts.defaultLanguageTag,\n    prefixDefaultLanguage: opts.prefixDefaultLanguage\n  });\n}\nconst ParaglideJS = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let autodetectedLanguage;\n  let lang;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  const absoluteBase = normaliseBase(base, new URL($page.url)) || \"/\";\n  let { languageTag: languageTag2 = void 0 } = $$props;\n  let { i18n: i18n2 } = $$props;\n  function translateHref(href, hreflang) {\n    const from = new URL(get_store_value(page).url);\n    const original_to = new URL(href, new URL(from));\n    if (isExternal(original_to, from, absoluteBase)) {\n      return href;\n    }\n    if (i18n2.config.exclude(original_to.pathname)) {\n      return href;\n    }\n    const language = hreflang ?? lang;\n    const { path: canonicalPath } = getPathInfo(original_to.pathname, {\n      base: absoluteBase,\n      availableLanguageTags: i18n2.config.runtime.availableLanguageTags,\n      defaultLanguageTag: i18n2.config.defaultLanguageTag\n    });\n    const translatedPath = getTranslatedPath(canonicalPath, language, i18n2.config.translations);\n    const newPathname = serializeRoute({\n      base: absoluteBase,\n      lang: language,\n      path: translatedPath,\n      dataSuffix: void 0,\n      includeLanguage: true,\n      defaultLanguageTag: i18n2.config.defaultLanguageTag,\n      prefixDefaultLanguage: i18n2.config.prefixDefaultLanguage\n    });\n    const to = new URL(original_to);\n    to.pathname = newPathname;\n    return getHrefBetween(from, to);\n  }\n  setContext(PARAGLIDE_CONTEXT_KEY, { translateHref });\n  getContext(\"$paraglide-adapter-sveltekit:context\");\n  if ($$props.languageTag === void 0 && $$bindings.languageTag && languageTag2 !== void 0) $$bindings.languageTag(languageTag2);\n  if ($$props.i18n === void 0 && $$bindings.i18n && i18n2 !== void 0) $$bindings.i18n(i18n2);\n  autodetectedLanguage = i18n2.getLanguageFromUrl($page.url);\n  lang = languageTag2 ?? autodetectedLanguage;\n  {\n    i18n2.config.runtime.setLanguageTag(lang);\n  }\n  $$unsubscribe_page();\n  return `  ${$$result.head += `<!-- HEAD_svelte-gz0ys9_START -->${i18n2.config.seo.noAlternateLinks !== true && !i18n2.config.exclude($page.url.pathname) ? ` ${i18n2.config.runtime.availableLanguageTags.length >= 1 ? `${each(i18n2.config.runtime.availableLanguageTags, (lang2) => {\n    let path = translatePath($page.url.pathname, lang2, i18n2.config.translations, {\n      base: absoluteBase,\n      availableLanguageTags: i18n2.config.runtime.availableLanguageTags,\n      defaultLanguageTag: i18n2.config.defaultLanguageTag,\n      prefixDefaultLanguage: i18n2.config.prefixDefaultLanguage\n    }), fullUrl = new URL(path, new URL($page.url));\n    return `   <link rel=\"alternate\"${add_attribute(\"hreflang\", lang2, 0)}${add_attribute(\"href\", fullUrl.href, 0)}>`;\n  })}` : ``}` : ``}<!-- HEAD_svelte-gz0ys9_END -->`, \"\"}  ${slots.default ? slots.default({}) : ``}`;\n});\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  {\n    (() => {\n      const locale = languageTag();\n      dayjs.locale(locale);\n    })();\n  }\n  return `${$$result.head += `<!-- HEAD_svelte-1y6ea49_START -->${data.isApp ? `<meta name=\"viewport\" content=\"initial-scale=1.0, maximum-scale=1.0\">` : ``}<!-- HEAD_svelte-1y6ea49_END -->`, \"\"} ${validate_component(ParaglideJS, \"ParaglideJS\").$$render($$result, { i18n }, {}, {\n    default: () => {\n      return `${slots.default ? slots.default({}) : ``}`;\n    }\n  })}`;\n});\nexport {\n  Layout as default\n};\n"],"names":["normaliseBase"],"mappings":"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"}