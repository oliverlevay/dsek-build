import{s as Gt,e as r,j as I,t as k,a as c,b as v,k as x,E as H,o as y,d as p,f as u,i as pt,q as t,S as Z,n as Nt,R as Dt,l as Kt,a3 as Qt,m as Wt,G as Xt}from"../chunks/scheduler.DK5noefF.js";import{e as dt}from"../chunks/each.Dbd03sI1.js";import{S as Yt,i as Zt}from"../chunks/index.OECaLbXR.js";import{v as Vt}from"../chunks/123.BVaw0gZK.js";import{p as $t}from"../chunks/stores.BdoTh84D.js";import{i as qt}from"../chunks/authorization.BfNSR1Nc.js";import{b as te}from"../chunks/index.Bt-Xh7oU.js";const nt=[],Ht=l=>{if(!nt.includes(l)||!te)return!1;const e=localStorage.getItem(l);return!(e===null||e==="false")},ee=(l,e)=>nt.includes(l)?(localStorage.setItem(l,e.toString()),!0):!1;function Rt(l,e,a){const h=l.slice();return h[9]=e[a],h}function Bt(l,e,a){const h=l.slice();return h[12]=e[a],h}function Jt(l){let e,a,h="Actions",f,o,m,L="Sync with Keycloak",T,d,g="This will push mandates and pull email addresses.",i,_,w,z="Sync with Meilisearch",A,D,G="This will update Meilisearch's sync index.";return{c(){e=r("section"),a=r("h1"),a.textContent=h,f=I(),o=r("form"),m=r("button"),m.textContent=L,T=I(),d=r("p"),d.textContent=g,i=I(),_=r("form"),w=r("button"),w.textContent=z,A=I(),D=r("p"),D.textContent=G,this.h()},l(N){e=c(N,"SECTION",{class:!0});var O=v(e);a=c(O,"H1",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-3fnbi2"&&(a.textContent=h),f=x(O),o=c(O,"FORM",{action:!0,method:!0,class:!0});var P=v(o);m=c(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(m)!=="svelte-88ppl6"&&(m.textContent=L),T=x(P),d=c(P,"P",{"data-svelte-h":!0}),H(d)!=="svelte-i6xq1n"&&(d.textContent=g),P.forEach(p),i=x(O),_=c(O,"FORM",{action:!0,method:!0,class:!0});var M=v(_);w=c(M,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(w)!=="svelte-mufdv1"&&(w.textContent=z),A=x(M),D=c(M,"P",{"data-svelte-h":!0}),H(D)!=="svelte-1lwv6iq"&&(D.textContent=G),M.forEach(p),O.forEach(p),this.h()},h(){u(a,"class","text-lg font-semibold"),u(m,"type","submit"),u(m,"class","btn"),u(o,"action",l[5]("?/keycloakSync",void 0)),u(o,"method","POST"),u(o,"class","flex items-center gap-4"),u(w,"type","submit"),u(w,"class","btn"),u(_,"action",l[5]("?/meilisearchSync",void 0)),u(_,"method","POST"),u(_,"class","flex items-center gap-4"),u(e,"class","mb-4 space-y-2")},m(N,O){pt(N,e,O),t(e,a),t(e,f),t(e,o),t(o,m),t(o,T),t(o,d),t(e,i),t(e,_),t(_,w),t(_,A),t(_,D)},p:Nt,d(N){N&&p(e)}}}function jt(l){let e,a=l[12]+"",h;return{c(){e=r("li"),h=k(a)},l(f){e=c(f,"LI",{});var o=v(e);h=y(o,a),o.forEach(p)},m(f,o){pt(f,e,o),t(e,h)},p(f,o){o&8&&a!==(a=f[12]+"")&&Z(h,a)},d(f){f&&p(e)}}}function zt(l){let e,a,h,f,o,m,L,T;function d(){return l[6](l[9])}return{c(){e=r("div"),a=k(l[9]),h=I(),f=r("input"),m=I(),this.h()},l(g){e=c(g,"DIV",{class:!0});var i=v(e);a=y(i,l[9]),h=x(i),f=c(i,"INPUT",{type:!0,class:!0}),m=x(i),i.forEach(p),this.h()},h(){u(f,"type","checkbox"),u(f,"class","toggle toggle-primary"),f.checked=o=l[2].get(l[9]),u(e,"class","flex gap-5")},m(g,i){pt(g,e,i),t(e,a),t(e,h),t(e,f),t(e,m),L||(T=Xt(f,"change",d),L=!0)},p(g,i){l=g,i&4&&o!==(o=l[2].get(l[9]))&&(f.checked=o)},d(g){g&&p(e),L=!1,T()}}}function le(l){let e,a,h=qt("core:admin",l[4].data.user),f,o,m,L="Metadata",T,d,g,i,_,w,z,A,D="?",G,N,O,P,M=l[0].prismaLogLevel+"",ot,mt,K,_t,$=l[0].isNollning+"",it,gt,Q,vt,tt=l[0].isApp+"",rt,bt,W,Ct,et=JSON.stringify(l[0].appInfo)+"",ct,Et,V,R,It,lt=(l[1].studentId??l[1].externalCode)+"",ft,xt,B,St,st,q,J,Ot="Feature flags",kt,S=h&&Jt(l),X=dt(l[3]),C=[];for(let n=0;n<X.length;n+=1)C[n]=jt(Bt(l,X,n));let Y=dt(nt),E=[];for(let n=0;n<Y.length;n+=1)E[n]=zt(Rt(l,Y,n));return{c(){e=r("div"),a=r("div"),S&&S.c(),f=I(),o=r("section"),m=r("h1"),m.textContent=L,T=I(),d=r("ul"),g=r("li"),i=k(`Version:
          `),_=r("pre"),w=k(Vt),z=I(),A=r("span"),A.textContent=D,G=I(),N=r("li"),O=k(`Prisma log level:
          `),P=r("pre"),ot=k(M),mt=I(),K=r("li"),_t=k("Is nollning: "),it=k($),gt=I(),Q=r("li"),vt=k("Is app: "),rt=k(tt),bt=I(),W=r("li"),Ct=k("App info: "),ct=k(et),Et=I(),V=r("section"),R=r("h1"),It=k("User: "),ft=k(lt),xt=I(),B=r("ul");for(let n=0;n<C.length;n+=1)C[n].c();St=I(),st=r("div"),q=r("section"),J=r("h1"),J.textContent=Ot,kt=I();for(let n=0;n<E.length;n+=1)E[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var b=v(e);a=c(b,"DIV",{});var s=v(a);S&&S.l(s),f=x(s),o=c(s,"SECTION",{});var F=v(o);m=c(F,"H1",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-15wxd3c"&&(m.textContent=L),T=x(F),d=c(F,"UL",{class:!0});var U=v(d);g=c(U,"LI",{});var at=v(g);i=y(at,`Version:
          `),_=c(at,"PRE",{class:!0});var Pt=v(_);w=y(Pt,Vt),Pt.forEach(p),z=x(at),A=c(at,"SPAN",{class:!0,"data-tip":!0,"data-svelte-h":!0}),H(A)!=="svelte-7c4bpu"&&(A.textContent=D),at.forEach(p),G=x(U),N=c(U,"LI",{});var yt=v(N);O=y(yt,`Prisma log level:
          `),P=c(yt,"PRE",{class:!0});var Mt=v(P);ot=y(Mt,M),Mt.forEach(p),yt.forEach(p),mt=x(U),K=c(U,"LI",{});var Lt=v(K);_t=y(Lt,"Is nollning: "),it=y(Lt,$),Lt.forEach(p),gt=x(U),Q=c(U,"LI",{});var Tt=v(Q);vt=y(Tt,"Is app: "),rt=y(Tt,tt),Tt.forEach(p),bt=x(U),W=c(U,"LI",{});var wt=v(W);Ct=y(wt,"App info: "),ct=y(wt,et),wt.forEach(p),U.forEach(p),F.forEach(p),Et=x(s),V=c(s,"SECTION",{class:!0});var ut=v(V);R=c(ut,"H1",{class:!0});var At=v(R);It=y(At,"User: "),ft=y(At,lt),At.forEach(p),xt=x(ut),B=c(ut,"UL",{class:!0});var Ft=v(B);for(let j=0;j<C.length;j+=1)C[j].l(Ft);Ft.forEach(p),ut.forEach(p),s.forEach(p),St=x(b),st=c(b,"DIV",{});var Ut=v(st);q=c(Ut,"SECTION",{});var ht=v(q);J=c(ht,"H1",{class:!0,"data-svelte-h":!0}),H(J)!=="svelte-79mkho"&&(J.textContent=Ot),kt=x(ht);for(let j=0;j<E.length;j+=1)E[j].l(ht);ht.forEach(p),Ut.forEach(p),b.forEach(p),this.h()},h(){u(m,"class","text-lg font-semibold"),u(_,"class","inline"),u(A,"class","badge badge-neutral tooltip tooltip-bottom aspect-square px-1"),u(A,"data-tip","This is guaranteed to match the version of the code that is running and is retrieved at build-time. It optionally suffixes the tag name with the number of additional commits on top of the tagged commit (i.e -2) and the abbreviated hash of the most recent commit (i.e -g<hash>)."),u(P,"class","inline"),u(d,"class","ml-4 list-disc"),u(R,"class","text-lg font-semibold"),u(B,"class","ml-4 list-disc text-sm"),u(V,"class","mt-4"),u(J,"class","text-lg font-semibold"),u(e,"class","flex flex-row gap-10")},m(n,b){pt(n,e,b),t(e,a),S&&S.m(a,null),t(a,f),t(a,o),t(o,m),t(o,T),t(o,d),t(d,g),t(g,i),t(g,_),t(_,w),t(g,z),t(g,A),t(d,G),t(d,N),t(N,O),t(N,P),t(P,ot),t(d,mt),t(d,K),t(K,_t),t(K,it),t(d,gt),t(d,Q),t(Q,vt),t(Q,rt),t(d,bt),t(d,W),t(W,Ct),t(W,ct),t(a,Et),t(a,V),t(V,R),t(R,It),t(R,ft),t(V,xt),t(V,B);for(let s=0;s<C.length;s+=1)C[s]&&C[s].m(B,null);t(e,St),t(e,st),t(st,q),t(q,J),t(q,kt);for(let s=0;s<E.length;s+=1)E[s]&&E[s].m(q,null)},p(n,[b]){if(b&16&&(h=qt("core:admin",n[4].data.user)),h?S?S.p(n,b):(S=Jt(n),S.c(),S.m(a,f)):S&&(S.d(1),S=null),b&1&&M!==(M=n[0].prismaLogLevel+"")&&Z(ot,M),b&1&&$!==($=n[0].isNollning+"")&&Z(it,$),b&1&&tt!==(tt=n[0].isApp+"")&&Z(rt,tt),b&1&&et!==(et=JSON.stringify(n[0].appInfo)+"")&&Z(ct,et),b&2&&lt!==(lt=(n[1].studentId??n[1].externalCode)+"")&&Z(ft,lt),b&8){X=dt(n[3]);let s;for(s=0;s<X.length;s+=1){const F=Bt(n,X,s);C[s]?C[s].p(F,b):(C[s]=jt(F),C[s].c(),C[s].m(B,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=X.length}if(b&4){Y=dt(nt);let s;for(s=0;s<Y.length;s+=1){const F=Rt(n,Y,s);E[s]?E[s].p(F,b):(E[s]=zt(F),E[s].c(),E[s].m(q,null))}for(;s<E.length;s+=1)E[s].d(1);E.length=Y.length}},i:Nt,o:Nt,d(n){n&&p(e),S&&S.d(),Dt(C,n),Dt(E,n)}}}function se(l,e,a){let h,f,o,m;Kt(l,$t,i=>a(4,m=i));let{data:L}=e;Qt(()=>{const i=new Map;nt.forEach(_=>{i.set(_,Ht(_)),a(2,o=i)})});const T=Wt("$paraglide-adapter-sveltekit:context");function d(i,_){return typeof i!="string"||!T?i:T.translateHref(i,_)}const g=i=>{ee(i,!Ht(i))};return l.$$set=i=>{"data"in i&&a(0,L=i.data)},l.$$.update=()=>{l.$$.dirty&1&&a(1,h=L.user),l.$$.dirty&2&&a(3,f=h.policies.toSorted())},a(2,o=new Map),[L,h,o,f,m,d,g]}class ue extends Yt{constructor(e){super(),Zt(this,e,se,le,Gt,{data:0})}}export{ue as component};
