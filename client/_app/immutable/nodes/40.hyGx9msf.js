import{s as ve,j as M,e as A,k as L,a as I,b as P,E as ee,d as k,f as w,i as G,q as E,l as K,m as Ee,D as y,Q as ne,t as W,o as X,S as te,G as he,w as ke,n as Te}from"../chunks/scheduler.DK5noefF.js";import{S as Se,i as De,c as O,a as R,m as H,t as D,b as C,e as Z,d as j,g as x}from"../chunks/index.OECaLbXR.js";import{e as fe,u as Ne,o as Ae}from"../chunks/each.Dbd03sI1.js";import{g as z,a as Q}from"../chunks/spread.CgU5AtxT.js";import{e as Ie}from"../chunks/forms.DDTWXYJD.js";import{D as $e}from"../chunks/DateInput.DrwfZnu4.js";import{I as le}from"../chunks/Input.B5KtvBzm.js";import{L as pe}from"../chunks/Labeled.DSKh_Z0I.js";import{L as ae}from"../chunks/LoadingButton.CMLw8r2v.js";import{P as we}from"../chunks/PageHeader.C1QSjqnO.js";import{s as de}from"../chunks/superForms.37TMp2uc.js";import{i as F}from"../chunks/authorization.BfNSR1Nc.js";import{a as q}from"../chunks/apiNames.G3FqMHey.js";function me(a,e,t){const l=a.slice();return l[21]=e[t],l}function _e(a){let e,t,l,o,n,i,m,u,b,_;const S=[Me,Ce],$=[];function h(p,c){return p[1]!==null?0:1}t=h(a),l=$[t]=S[t](a);const r=[{label:"Value"},{name:"value"},{value:a[1]?a[1].value:void 0},a[2].value,{error:a[3].value}];let s={};for(let p=0;p<r.length;p+=1)s=y(s,r[p]);return n=new le({props:s}),m=new ae({props:{class:"btn btn-primary mt-4",isLoading:a[4],type:"submit",$$slots:{default:[Le]},$$scope:{ctx:a}}}),{c(){e=A("form"),l.c(),o=M(),O(n.$$.fragment),i=M(),O(m.$$.fragment),this.h()},l(p){e=I(p,"FORM",{class:!0,method:!0,action:!0});var c=P(e);l.l(c),o=L(c),R(n.$$.fragment,c),i=L(c),R(m.$$.fragment,c),c.forEach(k),this.h()},h(){w(e,"class","form-control gap-2 rounded-box bg-base-300 p-4"),w(e,"method","POST"),w(e,"action",a[16]("?/update",void 0))},m(p,c){G(p,e,c),$[t].m(e,null),E(e,o),H(n,e,null),E(e,i),H(m,e,null),u=!0,b||(_=ne(a[8].call(null,e)),b=!0)},p(p,c){let g=t;t=h(p),t===g?$[t].p(p,c):(x(),C($[g],1,1,()=>{$[g]=null}),Z(),l=$[t],l?l.p(p,c):(l=$[t]=S[t](p),l.c()),D(l,1),l.m(e,o));const f=c&14?z(r,[r[0],r[1],c&2&&{value:p[1]?p[1].value:void 0},c&4&&Q(p[2].value),c&8&&{error:p[3].value}]):{};n.$set(f);const d={};c&16&&(d.isLoading=p[4]),c&16777218&&(d.$$scope={dirty:c,ctx:p}),m.$set(d)},i(p){u||(D(l),D(n.$$.fragment,p),D(m.$$.fragment,p),u=!0)},o(p){C(l),C(n.$$.fragment,p),C(m.$$.fragment,p),u=!1},d(p){p&&k(e),$[t].d(),j(n),j(m),b=!1,_()}}}function Ce(a){let e,t="Skapa ny",l,o,n;const i=[{label:"Key"},{name:"key"},a[2].key,{error:a[3].key}];let m={};for(let u=0;u<i.length;u+=1)m=y(m,i[u]);return o=new le({props:m}),{c(){e=A("h3"),e.textContent=t,l=M(),O(o.$$.fragment),this.h()},l(u){e=I(u,"H3",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-19kqtza"&&(e.textContent=t),l=L(u),R(o.$$.fragment,u),this.h()},h(){w(e,"class","text-lg font-semibold")},m(u,b){G(u,e,b),G(u,l,b),H(o,u,b),n=!0},p(u,b){const _=b&12?z(i,[i[0],i[1],b&4&&Q(u[2].key),b&8&&{error:u[3].key}]):{};o.$set(_)},i(u){n||(D(o.$$.fragment,u),n=!0)},o(u){C(o.$$.fragment,u),n=!1},d(u){u&&(k(e),k(l)),j(o,u)}}}function Me(a){let e,t,l="Redigerar",o,n,i="Sluta redigera",m,u,b,_,S,$;return u=new le({props:{class:"input-disabled pointer-events-none",label:"Key",name:"key",value:a[1].key,readonly:!0}}),{c(){e=A("div"),t=A("h3"),t.textContent=l,o=M(),n=A("button"),n.textContent=i,m=M(),O(u.$$.fragment),b=W(`
        />`),this.h()},l(h){e=I(h,"DIV",{class:!0});var r=P(e);t=I(r,"H3",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1v6249a"&&(t.textContent=l),o=L(r),n=I(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-gq4014"&&(n.textContent=i),r.forEach(k),m=L(h),R(u.$$.fragment,h),b=X(h,`
        />`),this.h()},h(){w(t,"class","text-lg font-semibold"),w(n,"class","btn btn-ghost"),w(e,"class","flex justify-between")},m(h,r){G(h,e,r),E(e,t),E(e,o),E(e,n),G(h,m,r),H(u,h,r),G(h,b,r),_=!0,S||($=he(n,"click",a[17]),S=!0)},p(h,r){const s={};r&2&&(s.value=h[1].key),u.$set(s)},i(h){_||(D(u.$$.fragment,h),_=!0)},o(h){C(u.$$.fragment,h),_=!1},d(h){h&&(k(e),k(m),k(b)),j(u,h),S=!1,$()}}}function Le(a){let e=a[1]!==null?"Uppdatera":"Skapa",t;return{c(){t=W(e)},l(l){t=X(l,e)},m(l,o){G(l,t,o)},p(l,o){o&2&&e!==(e=l[1]!==null?"Uppdatera":"Skapa")&&te(t,e)},d(l){l&&k(t)}}}function Pe(a){let e;return{c(){e=A("span"),this.h()},l(t){e=I(t,"SPAN",{class:!0}),P(e).forEach(k),this.h()},h(){w(e,"class","i-mdi-delete")},m(t,l){G(t,e,l)},p:Te,d(t){t&&k(e)}}}function ce(a,e){let t,l,o=e[21].key+"",n,i,m,u=e[21].value+"",b,_,S,$,h,r,s,p,c,g,f,d,T,B,v,J,re;function be(){return e[18](e[21])}return T=new ae({props:{type:"submit",class:"btn btn-error",disabled:!F(q.ADMIN.SETTINGS.DELETE,e[0].user),$$slots:{default:[Pe]},$$scope:{ctx:e}}}),{key:a,first:null,c(){t=A("tr"),l=A("td"),n=W(o),i=M(),m=A("td"),b=W(u),_=M(),S=A("td"),$=A("button"),h=A("span"),s=M(),p=A("td"),c=A("form"),g=A("input"),d=M(),O(T.$$.fragment),B=M(),this.h()},l(U){t=I(U,"TR",{});var N=P(t);l=I(N,"TD",{});var V=P(l);n=X(V,o),V.forEach(k),i=L(N),m=I(N,"TD",{});var se=P(m);b=X(se,u),se.forEach(k),_=L(N),S=I(N,"TD",{});var oe=P(S);$=I(oe,"BUTTON",{class:!0});var ie=P($);h=I(ie,"SPAN",{class:!0}),P(h).forEach(k),ie.forEach(k),oe.forEach(k),s=L(N),p=I(N,"TD",{});var ue=P(p);c=I(ue,"FORM",{method:!0,action:!0});var Y=P(c);g=I(Y,"INPUT",{type:!0,name:!0}),d=L(Y),R(T.$$.fragment,Y),Y.forEach(k),ue.forEach(k),B=L(N),N.forEach(k),this.h()},h(){w(h,"class","i-mdi-edit"),$.disabled=r=!F(q.ADMIN.SETTINGS.UPDATE,e[0].user),w($,"class","btn btn-ghost"),w(g,"type","hidden"),w(g,"name","key"),g.value=f=e[21].key,w(c,"method","POST"),w(c,"action",e[16]("?/remove",void 0)),this.first=t},m(U,N){G(U,t,N),E(t,l),E(l,n),E(t,i),E(t,m),E(m,b),E(t,_),E(t,S),E(S,$),E($,h),E(t,s),E(t,p),E(p,c),E(c,g),E(c,d),H(T,c,null),E(t,B),v=!0,J||(re=[he($,"click",be),ne(Ie.call(null,c))],J=!0)},p(U,N){e=U,(!v||N&1)&&o!==(o=e[21].key+"")&&te(n,o),(!v||N&1)&&u!==(u=e[21].value+"")&&te(b,u),(!v||N&1&&r!==(r=!F(q.ADMIN.SETTINGS.UPDATE,e[0].user)))&&($.disabled=r),(!v||N&1&&f!==(f=e[21].key))&&(g.value=f);const V={};N&1&&(V.disabled=!F(q.ADMIN.SETTINGS.DELETE,e[0].user)),N&16777216&&(V.$$scope={dirty:N,ctx:e}),T.$set(V)},i(U){v||(D(T.$$.fragment,U),v=!0)},o(U){C(T.$$.fragment,U),v=!1},d(U){U&&k(t),j(T),J=!1,ke(re)}}}function ge(a){let e,t,l,o,n,i,m,u,b;const _=[{label:"Nollning start"},{class:"md:flex-1"},{error:a[5].start},a[6].start];let S={$$slots:{default:[Ge]},$$scope:{ctx:a}};for(let r=0;r<_.length;r+=1)S=y(S,_[r]);t=new pe({props:S});const $=[{class:"md:flex-1"},{label:"Nollning start"},{error:a[5].end},a[6].end];let h={$$slots:{default:[Ue]},$$scope:{ctx:a}};for(let r=0;r<$.length;r+=1)h=y(h,$[r]);return o=new pe({props:h}),i=new ae({props:{class:"btn btn-primary mt-4 self-end",isLoading:a[7],type:"submit",$$slots:{default:[Oe]},$$scope:{ctx:a}}}),{c(){e=A("form"),O(t.$$.fragment),l=M(),O(o.$$.fragment),n=M(),O(i.$$.fragment),this.h()},l(r){e=I(r,"FORM",{method:!0,action:!0,class:!0});var s=P(e);R(t.$$.fragment,s),l=L(s),R(o.$$.fragment,s),n=L(s),R(i.$$.fragment,s),s.forEach(k),this.h()},h(){w(e,"method","POST"),w(e,"action",a[16]("?/updateNollning",void 0)),w(e,"class","form-control justify-between gap-2 rounded-box bg-base-300 p-4 md:flex-row")},m(r,s){G(r,e,s),H(t,e,null),E(e,l),H(o,e,null),E(e,n),H(i,e,null),m=!0,u||(b=ne(a[12].call(null,e)),u=!0)},p(r,s){const p=s&96?z(_,[_[0],_[1],s&32&&{error:r[5].start},s&64&&Q(r[6].start)]):{};s&16777281&&(p.$$scope={dirty:s,ctx:r}),t.$set(p);const c=s&96?z($,[$[0],$[1],s&32&&{error:r[5].end},s&64&&Q(r[6].end)]):{};s&16777313&&(c.$$scope={dirty:s,ctx:r}),o.$set(c);const g={};s&128&&(g.isLoading=r[7]),s&16777216&&(g.$$scope={dirty:s,ctx:r}),i.$set(g)},i(r){m||(D(t.$$.fragment,r),D(o.$$.fragment,r),D(i.$$.fragment,r),m=!0)},o(r){C(t.$$.fragment,r),C(o.$$.fragment,r),C(i.$$.fragment,r),m=!1},d(r){r&&k(e),j(t),j(o),j(i),u=!1,b()}}}function Ge(a){let e,t;const l=[{name:"start"},{date:a[0].nollning.start},a[6].start];let o={};for(let n=0;n<l.length;n+=1)o=y(o,l[n]);return e=new $e({props:o}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const m=i&65?z(l,[l[0],i&1&&{date:n[0].nollning.start},i&64&&Q(n[6].start)]):{};e.$set(m)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ue(a){let e,t;const l=[{name:"end"},{date:a[0].nollning.end},a[6].end,{error:a[5].end}];let o={};for(let n=0;n<l.length;n+=1)o=y(o,l[n]);return e=new $e({props:o}),{c(){O(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const m=i&97?z(l,[l[0],i&1&&{date:n[0].nollning.end},i&64&&Q(n[6].end),i&32&&{error:n[5].end}]):{};e.$set(m)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Oe(a){let e;return{c(){e=W("Spara")},l(t){e=X(t,"Spara")},m(t,l){G(t,e,l)},d(t){t&&k(e)}}}function Re(a){let e,t,l,o=a[1]===null&&F(q.ADMIN.SETTINGS.CREATE,a[0].user)||F(q.ADMIN.SETTINGS.UPDATE,a[0].user),n,i,m,u="<tr><th>Key</th> <th>Value</th> <th>Edit</th> <th>Remove</th></tr>",b,_=[],S=new Map,$,h=a[0].nollning&&F(q.ADMIN.SETTINGS.UPDATE,a[0].user),r;e=new we({props:{title:"AdmininstÃ¤llningar"}});let s=o&&_e(a),p=fe(a[0].settings);const c=f=>f[21].key;for(let f=0;f<p.length;f+=1){let d=me(a,p,f),T=c(d);S.set(T,_[f]=ce(T,d))}let g=h&&ge(a);return{c(){O(e.$$.fragment),t=M(),l=A("div"),s&&s.c(),n=M(),i=A("table"),m=A("thead"),m.innerHTML=u,b=M();for(let f=0;f<_.length;f+=1)_[f].c();$=M(),g&&g.c(),this.h()},l(f){R(e.$$.fragment,f),t=L(f),l=I(f,"DIV",{class:!0});var d=P(l);s&&s.l(d),n=L(d),i=I(d,"TABLE",{class:!0});var T=P(i);m=I(T,"THEAD",{"data-svelte-h":!0}),ee(m)!=="svelte-11jk77j"&&(m.innerHTML=u),b=L(T);for(let B=0;B<_.length;B+=1)_[B].l(T);T.forEach(k),$=L(d),g&&g.l(d),d.forEach(k),this.h()},h(){w(i,"class","table rounded-box bg-base-300"),w(l,"class","flex flex-col gap-4")},m(f,d){H(e,f,d),G(f,t,d),G(f,l,d),s&&s.m(l,null),E(l,n),E(l,i),E(i,m),E(i,b);for(let T=0;T<_.length;T+=1)_[T]&&_[T].m(i,null);E(l,$),g&&g.m(l,null),r=!0},p(f,[d]){d&3&&(o=f[1]===null&&F(q.ADMIN.SETTINGS.CREATE,f[0].user)||F(q.ADMIN.SETTINGS.UPDATE,f[0].user)),o?s?(s.p(f,d),d&3&&D(s,1)):(s=_e(f),s.c(),D(s,1),s.m(l,n)):s&&(x(),C(s,1,1,()=>{s=null}),Z()),d&65539&&(p=fe(f[0].settings),x(),_=Ne(_,d,c,1,f,p,S,i,Ae,ce,null,me),Z()),d&1&&(h=f[0].nollning&&F(q.ADMIN.SETTINGS.UPDATE,f[0].user)),h?g?(g.p(f,d),d&1&&D(g,1)):(g=ge(f),g.c(),D(g,1),g.m(l,null)):g&&(x(),C(g,1,1,()=>{g=null}),Z())},i(f){if(!r){D(e.$$.fragment,f),D(s);for(let d=0;d<p.length;d+=1)D(_[d]);D(g),r=!0}},o(f){C(e.$$.fragment,f),C(s);for(let d=0;d<_.length;d+=1)C(_[d]);C(g),r=!1},d(f){f&&(k(t),k(l)),j(e,f),s&&s.d();for(let d=0;d<_.length;d+=1)_[d].d();g&&g.d()}}}function He(a,e,t){let l,o,n,i,m,u,{data:b}=e,_=null;const{enhance:S,submitting:$,errors:h,constraints:r}=de(b.updateForm);K(a,$,v=>t(4,n=v)),K(a,h,v=>t(3,o=v)),K(a,r,v=>t(2,l=v));const{enhance:s,submitting:p,errors:c,constraints:g}=de(b.updateNollningForm);K(a,p,v=>t(7,u=v)),K(a,c,v=>t(5,i=v)),K(a,g,v=>t(6,m=v));const f=Ee("$paraglide-adapter-sveltekit:context");function d(v,J){return typeof v!="string"||!f?v:f.translateHref(v,J)}const T=()=>t(1,_=null),B=v=>t(1,_=v);return a.$$set=v=>{"data"in v&&t(0,b=v.data)},[b,_,l,o,n,i,m,u,S,$,h,r,s,p,c,g,d,T,B]}class Ze extends Se{constructor(e){super(),De(this,e,He,Re,ve,{data:0})}}export{Ze as component};
