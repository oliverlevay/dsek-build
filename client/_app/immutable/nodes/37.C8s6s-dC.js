import{s as Ne,e as _,t as J,j as A,a as p,b as I,o as K,d as m,k as U,f as r,i as Y,q as a,Q as oe,S as _e,n as ve,w as De,m as Oe,r as He,G as Be,l as me,C as be,D as vt,F as Xe,T as bt,Z as ze,U as Ae,P as Je,Y as mt,V as gt}from"../chunks/scheduler.DK5noefF.js";import{S as Ve,i as Me,c as ge,a as Se,m as Ee,e as Pe,t as le,b as ae,d as ke,f as _t,g as Te}from"../chunks/index.OECaLbXR.js";import{e as ce,u as Ue,d as St,o as Le}from"../chunks/each.Dbd03sI1.js";import{g as Et}from"../chunks/spread.CgU5AtxT.js";import{p as kt}from"../chunks/stores.BdoTh84D.js";import{P as yt}from"../chunks/PageHeader.C1QSjqnO.js";import{s as se}from"../chunks/superForms.37TMp2uc.js";import{fU as Ft,fV as It,fW as Rt,fX as Pt,fY as Ke,ao as $e,ac as Tt,fZ as wt,ai as pt,f_ as At,f$ as Ut,H as Nt,g0 as Dt,g1 as Ot,g2 as Vt,g3 as Mt}from"../chunks/messages.DZzIl59o.js";import{I as ht}from"../chunks/Input.B5KtvBzm.js";function Lt(i){let e,t;return{c(){e=_("input"),this.h()},l(l){e=p(l,"INPUT",{type:!0,class:!0}),this.h()},h(){r(e,"type","checkbox"),r(e,"class","toggle toggle-primary pointer-events-none"),e.checked=t=i[0].canSend},m(l,s){Y(l,e,s)},p(l,s){s&1&&t!==(t=l[0].canSend)&&(e.checked=t)},d(l){l&&m(e)}}}function Ht(i){let e,t,l,s;return{c(){e=_("input"),this.h()},l(n){e=p(n,"INPUT",{type:!0,name:!0,id:!0,class:!0}),this.h()},h(){r(e,"type","checkbox"),r(e,"name","canSend"),r(e,"id","canSend"),r(e,"class","toggle toggle-primary"),e.checked=t=i[0].canSend},m(n,o){Y(n,e,o),l||(s=Be(e,"click",i[8]),l=!0)},p(n,o){o&1&&t!==(t=n[0].canSend)&&(e.checked=t)},d(n){n&&m(e),l=!1,s()}}}function xe(i){let e,t=It()+"",l;return{c(){e=_("button"),l=J(t),this.h()},l(s){e=p(s,"BUTTON",{class:!0,type:!0});var n=I(e);l=K(n,t),n.forEach(m),this.h()},h(){r(e,"class","btn btn-error btn-xs"),r(e,"type","submit")},m(s,n){Y(s,e,n),a(e,l)},d(s){s&&m(e)}}}function Bt(i){let e,t,l,s,n=i[0].position.name+"",o,c,v,d,S,T,E,y,h,D=i[0].positionId+"",M,k,b,R=Ft()+"",g,C,j,O,V,N,F,q,W,G,P,L,H,w,ie;function ue(X,z){return X[1]?Ht:Lt}let ne=ue(i),ee=ne(i),B=i[1]&&xe();return{c(){e=_("div"),t=_("form"),l=_("div"),s=_("h1"),o=J(n),c=A(),v=_("input"),S=A(),T=_("input"),y=A(),h=_("p"),M=J(D),k=A(),b=_("label"),g=J(R),C=A(),ee.c(),j=A(),O=_("form"),V=_("input"),F=A(),q=_("input"),G=A(),P=_("input"),H=A(),B&&B.c(),this.h()},l(X){e=p(X,"DIV",{class:!0});var z=I(e);t=p(z,"FORM",{action:!0,method:!0,class:!0});var de=I(t);l=p(de,"DIV",{class:!0});var te=I(l);s=p(te,"H1",{class:!0});var ye=I(s);o=K(ye,n),ye.forEach(m),c=U(te),v=p(te,"INPUT",{type:!0,name:!0}),S=U(te),T=p(te,"INPUT",{type:!0,name:!0}),y=U(te),h=p(te,"P",{class:!0});var fe=I(h);M=K(fe,D),fe.forEach(m),k=U(te),b=p(te,"LABEL",{for:!0});var Fe=I(b);g=K(Fe,R),Fe.forEach(m),C=U(te),ee.l(te),te.forEach(m),de.forEach(m),j=U(z),O=p(z,"FORM",{action:!0,method:!0,class:!0});var Q=I(O);V=p(Q,"INPUT",{type:!0,name:!0}),F=U(Q),q=p(Q,"INPUT",{type:!0,name:!0}),G=U(Q),P=p(Q,"INPUT",{type:!0,name:!0}),H=U(Q),B&&B.l(Q),Q.forEach(m),z.forEach(m),this.h()},h(){r(s,"class","font-medium"),r(v,"type","hidden"),r(v,"name","aliasId"),v.value=d=i[0].id,r(T,"type","hidden"),r(T,"name","canSend"),T.value=E=i[0].canSend,r(h,"class","font-mono"),r(b,"for","canSend"),r(l,"class","my-4 flex flex-row gap-6"),r(t,"action",i[5]("?/setCanSend",void 0)),r(t,"method","post"),r(t,"class","flex flex-row"),r(V,"type","hidden"),r(V,"name","aliasId"),V.value=N=i[0].id,r(q,"type","hidden"),r(q,"name","positionId"),q.value=W=i[0].positionId,r(P,"type","hidden"),r(P,"name","email"),P.value=L=i[0].email,r(O,"action",i[5]("?/removePosition",void 0)),r(O,"method","post"),r(O,"class","flex flex-row"),r(e,"class","flex flex-row items-center justify-between border-b border-neutral")},m(X,z){Y(X,e,z),a(e,t),a(t,l),a(l,s),a(s,o),a(l,c),a(l,v),a(l,S),a(l,T),a(l,y),a(l,h),a(h,M),a(l,k),a(l,b),a(b,g),a(l,C),ee.m(l,null),i[9](t),a(e,j),a(e,O),a(O,V),a(O,F),a(O,q),a(O,G),a(O,P),a(O,H),B&&B.m(O,null),w||(ie=[oe(i[3].call(null,t)),oe(i[4].call(null,O))],w=!0)},p(X,[z]){z&1&&n!==(n=X[0].position.name+"")&&_e(o,n),z&1&&d!==(d=X[0].id)&&(v.value=d),z&1&&E!==(E=X[0].canSend)&&(T.value=E),z&1&&D!==(D=X[0].positionId+"")&&_e(M,D),ne===(ne=ue(X))&&ee?ee.p(X,z):(ee.d(1),ee=ne(X),ee&&(ee.c(),ee.m(l,null))),z&1&&N!==(N=X[0].id)&&(V.value=N),z&1&&W!==(W=X[0].positionId)&&(q.value=W),z&1&&L!==(L=X[0].email)&&(P.value=L),X[1]?B||(B=xe(),B.c(),B.m(O,null)):B&&(B.d(1),B=null)},i:ve,o:ve,d(X){X&&m(e),ee.d(),i[9](null),B&&B.d(),w=!1,De(ie)}}}function jt(i,e,t){let{emailAlias:l}=e,{canSendForm:s}=e,{isEditing:n}=e;const{enhance:o}=se(s,{id:l.id});let c,{removePositionForm:v}=e;const{enhance:d}=se(v),S=Oe("$paraglide-adapter-sveltekit:context");function T(h,D){return typeof h!="string"||!S?h:S.translateHref(h,D)}const E=async()=>{t(0,l.canSend=!l.canSend,l),setTimeout(()=>{c.requestSubmit()},0)};function y(h){He[h?"unshift":"push"](()=>{c=h,t(2,c)})}return i.$$set=h=>{"emailAlias"in h&&t(0,l=h.emailAlias),"canSendForm"in h&&t(6,s=h.canSendForm),"isEditing"in h&&t(1,n=h.isEditing),"removePositionForm"in h&&t(7,v=h.removePositionForm)},[l,n,c,o,d,T,s,v,E,y]}class qt extends Ve{constructor(e){super(),Me(this,e,jt,Bt,Ne,{emailAlias:0,canSendForm:6,isEditing:1,removePositionForm:7})}}function et(i){let e,t=Rt()+"",l;return{c(){e=_("button"),l=J(t),this.h()},l(s){e=p(s,"BUTTON",{class:!0,type:!0});var n=I(e);l=K(n,t),n.forEach(m),this.h()},h(){r(e,"class","btn btn-error btn-xs"),r(e,"type","submit")},m(s,n){Y(s,e,n),a(e,l)},d(s){s&&m(e)}}}function Ct(i){let e,t,l=i[0].targetEmail+"",s,n,o,c,v,d,S,T,E,y,h,D,M,k,b=i[1]&&et();return{c(){e=_("div"),t=_("p"),s=J(l),n=A(),o=_("form"),c=_("input"),d=A(),S=_("input"),E=A(),y=_("input"),D=A(),b&&b.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var g=I(e);t=p(g,"P",{class:!0});var C=I(t);s=K(C,l),C.forEach(m),n=U(g),o=p(g,"FORM",{action:!0,method:!0,class:!0});var j=I(o);c=p(j,"INPUT",{type:!0,name:!0}),d=U(j),S=p(j,"INPUT",{type:!0,name:!0}),E=U(j),y=p(j,"INPUT",{type:!0,name:!0}),D=U(j),b&&b.l(j),j.forEach(m),g.forEach(m),this.h()},h(){r(t,"class","my-4 font-mono"),r(c,"type","hidden"),r(c,"name","id"),c.value=v=i[0].id,r(S,"type","hidden"),r(S,"name","email"),S.value=T=i[0].email,r(y,"type","hidden"),r(y,"name","targetEmailreceiver"),y.value=h=i[0].targetEmail,r(o,"action",i[3]("?/removeSpecialReceiver",void 0)),r(o,"method","post"),r(o,"class","flex flex-row"),r(e,"class","flex flex-row items-center justify-between border-b border-neutral")},m(R,g){Y(R,e,g),a(e,t),a(t,s),a(e,n),a(e,o),a(o,c),a(o,d),a(o,S),a(o,E),a(o,y),a(o,D),b&&b.m(o,null),M||(k=oe(i[2].call(null,o)),M=!0)},p(R,[g]){g&1&&l!==(l=R[0].targetEmail+"")&&_e(s,l),g&1&&v!==(v=R[0].id)&&(c.value=v),g&1&&T!==(T=R[0].email)&&(S.value=T),g&1&&h!==(h=R[0].targetEmail)&&(y.value=h),R[1]?b||(b=et(),b.c(),b.m(o,null)):b&&(b.d(1),b=null)},i:ve,o:ve,d(R){R&&m(e),b&&b.d(),M=!1,k()}}}function Gt(i,e,t){let{specialReceiver:l}=e,{isEditing:s}=e,{removeReceiverForm:n}=e;const{enhance:o}=se(n),c=Oe("$paraglide-adapter-sveltekit:context");function v(d,S){return typeof d!="string"||!c?d:c.translateHref(d,S)}return i.$$set=d=>{"specialReceiver"in d&&t(0,l=d.specialReceiver),"isEditing"in d&&t(1,s=d.isEditing),"removeReceiverForm"in d&&t(4,n=d.removeReceiverForm)},[l,s,o,v,n]}class Yt extends Ve{constructor(e){super(),Me(this,e,Gt,Ct,Ne,{specialReceiver:0,isEditing:1,removeReceiverForm:4})}}function tt(i){let e,t=Pt()+"",l;return{c(){e=_("button"),l=J(t),this.h()},l(s){e=p(s,"BUTTON",{class:!0,type:!0});var n=I(e);l=K(n,t),n.forEach(m),this.h()},h(){r(e,"class","btn btn-error btn-xs"),r(e,"type","submit")},m(s,n){Y(s,e,n),a(e,l)},d(s){s&&m(e)}}}function Zt(i){let e,t,l,s=i[0].studentId+"",n,o,c,v=i[0].keycloakId+"",d,S,T,E,y,h,D,M,k=i[1]&&tt();return{c(){e=_("div"),t=_("div"),l=_("p"),n=J(s),o=A(),c=_("p"),d=J(v),S=A(),T=_("form"),E=_("input"),h=A(),k&&k.c(),this.h()},l(b){e=p(b,"DIV",{class:!0});var R=I(e);t=p(R,"DIV",{class:!0});var g=I(t);l=p(g,"P",{class:!0});var C=I(l);n=K(C,s),C.forEach(m),o=U(g),c=p(g,"P",{class:!0});var j=I(c);d=K(j,v),j.forEach(m),g.forEach(m),S=U(R),T=p(R,"FORM",{action:!0,method:!0,class:!0});var O=I(T);E=p(O,"INPUT",{type:!0,name:!0}),h=U(O),k&&k.l(O),O.forEach(m),R.forEach(m),this.h()},h(){r(l,"class","font-mono"),r(c,"class","font-mono"),r(t,"class","my-4 flex flex-row gap-6"),r(E,"type","hidden"),r(E,"name","id"),E.value=y=i[0].id,r(T,"action",i[3]("?/removeSpecialSender",void 0)),r(T,"method","post"),r(T,"class","flex flex-row"),r(e,"class","flex flex-row items-center justify-between border-b border-neutral")},m(b,R){Y(b,e,R),a(e,t),a(t,l),a(l,n),a(t,o),a(t,c),a(c,d),a(e,S),a(e,T),a(T,E),a(T,h),k&&k.m(T,null),D||(M=oe(i[2].call(null,T)),D=!0)},p(b,[R]){R&1&&s!==(s=b[0].studentId+"")&&_e(n,s),R&1&&v!==(v=b[0].keycloakId+"")&&_e(d,v),R&1&&y!==(y=b[0].id)&&(E.value=y),b[1]?k||(k=tt(),k.c(),k.m(T,null)):k&&(k.d(1),k=null)},i:ve,o:ve,d(b){b&&m(e),k&&k.d(),D=!1,M()}}}function Qt(i,e,t){let{specialSender:l}=e,{isEditing:s}=e,{removeSenderForm:n}=e;const{enhance:o}=se(n),c=Oe("$paraglide-adapter-sveltekit:context");function v(d,S){return typeof d!="string"||!c?d:c.translateHref(d,S)}return i.$$set=d=>{"specialSender"in d&&t(0,l=d.specialSender),"isEditing"in d&&t(1,s=d.isEditing),"removeSenderForm"in d&&t(4,n=d.removeSenderForm)},[l,s,o,v,n]}class Wt extends Ve{constructor(e){super(),Me(this,e,Qt,Zt,Ne,{specialSender:0,isEditing:1,removeSenderForm:4})}}function lt(i,e,t){const l=i.slice();return l[31]=e[t],l}function it(i,e,t){const l=i.slice();return l[34]=e[t],l}function nt(i,e,t){const l=i.slice();return l[37]=e[t],l}function at(i,e,t){const l=i.slice();return l[40]=e[t],l}function rt(i,e){let t,l,s;return l=new qt({props:{isEditing:e[1],emailAlias:e[40],canSendForm:e[0].setCanSendForm,removePositionForm:e[0].removePositionForm}}),{key:i,first:null,c(){t=be(),ge(l.$$.fragment),this.h()},l(n){t=be(),Se(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){Y(n,t,o),Ee(l,n,o),s=!0},p(n,o){e=n;const c={};o[0]&2&&(c.isEditing=e[1]),o[0]&8&&(c.emailAlias=e[40]),o[0]&1&&(c.canSendForm=e[0].setCanSendForm),o[0]&1&&(c.removePositionForm=e[0].removePositionForm),l.$set(c)},i(n){s||(le(l.$$.fragment,n),s=!0)},o(n){ae(l.$$.fragment,n),s=!1},d(n){n&&m(t),ke(l,n)}}}function st(i){let e,t,l,s,n,o=wt()+"",c,v,d,S=[],T=new Map,E,y,h=pt()+"",D,M,k,b,R,g,C=At()+"",j,O,V,N,F=ce(i[2]);const q=P=>P[37].id;for(let P=0;P<F.length;P+=1){let L=nt(i,F,P),H=q(L);T.set(H,S[P]=ot(H,L))}let W=[{id:"positionId"},{name:"positionId"},{class:"select select-bordered w-full max-w-xs"},i[4].positionId,{required:!0}],G={};for(let P=0;P<W.length;P+=1)G=vt(G,W[P]);return{c(){e=_("div"),t=_("form"),l=_("input"),s=A(),n=_("label"),c=J(o),v=A(),d=_("select");for(let P=0;P<S.length;P+=1)S[P].c();E=A(),y=_("button"),D=J(h),M=A(),k=_("form"),b=_("input"),R=A(),g=_("button"),j=J(C),this.h()},l(P){e=p(P,"DIV",{class:!0});var L=I(e);t=p(L,"FORM",{action:!0,method:!0});var H=I(t);l=p(H,"INPUT",{type:!0,name:!0}),s=U(H),n=p(H,"LABEL",{for:!0});var w=I(n);c=K(w,o),w.forEach(m),v=U(H),d=p(H,"SELECT",{id:!0,name:!0,class:!0});var ie=I(d);for(let B=0;B<S.length;B+=1)S[B].l(ie);ie.forEach(m),E=U(H),y=p(H,"BUTTON",{class:!0,type:!0});var ue=I(y);D=K(ue,h),ue.forEach(m),H.forEach(m),M=U(L),k=p(L,"FORM",{action:!0,method:!0});var ne=I(k);b=p(ne,"INPUT",{type:!0,name:!0}),R=U(ne),g=p(ne,"BUTTON",{class:!0,type:!0});var ee=I(g);j=K(ee,C),ee.forEach(m),ne.forEach(m),L.forEach(m),this.h()},h(){r(l,"type","hidden"),r(l,"name","email"),l.value=i[10],r(n,"for","positionId"),Xe(d,G),i[5].positionId===void 0&&bt(()=>i[25].call(d)),r(y,"class","btn"),r(y,"type","submit"),r(t,"action",i[23]("?/addPosition",void 0)),r(t,"method","post"),r(b,"type","hidden"),r(b,"name","email"),b.value=i[10],r(g,"class","btn btn-error"),r(g,"type","submit"),g.disabled=O=i[3].length===0,r(k,"action",i[23]("?/deleteEmailAlias",void 0)),r(k,"method","post"),r(e,"class","my-2 flex flex-row justify-between")},m(P,L){Y(P,e,L),a(e,t),a(t,l),a(t,s),a(t,n),a(n,c),a(t,v),a(t,d);for(let H=0;H<S.length;H+=1)S[H]&&S[H].m(d,null);"value"in G&&(G.multiple?ze:Ae)(d,G.value),d.autofocus&&d.focus(),Ae(d,i[5].positionId,!0),a(t,E),a(t,y),a(y,D),a(e,M),a(e,k),a(k,b),a(k,R),a(k,g),a(g,j),V||(N=[Be(d,"change",i[25]),oe(i[13].call(null,t)),oe(i[20].call(null,k))],V=!0)},p(P,L){L[0]&4&&(F=ce(P[2]),S=Ue(S,L,q,1,P,F,T,d,St,ot,null,nt)),Xe(d,G=Et(W,[{id:"positionId"},{name:"positionId"},{class:"select select-bordered w-full max-w-xs"},L[0]&16&&P[4].positionId,{required:!0}])),L[0]&16&&"value"in G&&(G.multiple?ze:Ae)(d,G.value),L[0]&36&&Ae(d,P[5].positionId),L[0]&8&&O!==(O=P[3].length===0)&&(g.disabled=O)},d(P){P&&m(e);for(let L=0;L<S.length;L+=1)S[L].d();V=!1,De(N)}}}function ot(i,e){let t,l=e[37].name+"",s,n;return{key:i,first:null,c(){t=_("option"),s=J(l),this.h()},l(o){t=p(o,"OPTION",{});var c=I(t);s=K(c,l),c.forEach(m),this.h()},h(){t.__value=n=e[37].id,Je(t,t.__value),this.first=t},m(o,c){Y(o,t,c),a(t,s)},p(o,c){e=o,c[0]&4&&l!==(l=e[37].name+"")&&_e(s,l),c[0]&4&&n!==(n=e[37].id)&&(t.__value=n,Je(t,t.__value))},d(o){o&&m(t)}}}function ut(i,e){let t,l,s;return l=new Yt({props:{specialReceiver:e[34],isEditing:e[1],removeReceiverForm:e[0].removeSpecialReceiverForm}}),{key:i,first:null,c(){t=be(),ge(l.$$.fragment),this.h()},l(n){t=be(),Se(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){Y(n,t,o),Ee(l,n,o),s=!0},p(n,o){e=n;const c={};o[0]&1&&(c.specialReceiver=e[34]),o[0]&2&&(c.isEditing=e[1]),o[0]&1&&(c.removeReceiverForm=e[0].removeSpecialReceiverForm),l.$set(c)},i(n){s||(le(l.$$.fragment,n),s=!0)},o(n){ae(l.$$.fragment,n),s=!1},d(n){n&&m(t),ke(l,n)}}}function dt(i){let e,t,l,s,n,o,c,v,d=pt()+"",S,T,E,y,h,D,M=Ut()+"",k,b,R,g,C;function j(V){i[26](V)}let O={name:"targetEmailReceiver",label:Tt(),required:!0,error:i[7].targetEmailReceiver};return i[6].targetEmailReceiver!==void 0&&(O.value=i[6].targetEmailReceiver),n=new ht({props:O}),He.push(()=>_t(n,"value",j)),{c(){e=_("div"),t=_("form"),l=_("input"),s=A(),ge(n.$$.fragment),c=A(),v=_("button"),S=J(d),T=A(),E=_("form"),y=_("input"),h=A(),D=_("button"),k=J(M),this.h()},l(V){e=p(V,"DIV",{class:!0});var N=I(e);t=p(N,"FORM",{action:!0,method:!0});var F=I(t);l=p(F,"INPUT",{type:!0,name:!0}),s=U(F),Se(n.$$.fragment,F),c=U(F),v=p(F,"BUTTON",{class:!0,type:!0});var q=I(v);S=K(q,d),q.forEach(m),F.forEach(m),T=U(N),E=p(N,"FORM",{action:!0,method:!0});var W=I(E);y=p(W,"INPUT",{type:!0,name:!0}),h=U(W),D=p(W,"BUTTON",{class:!0,type:!0});var G=I(D);k=K(G,M),G.forEach(m),W.forEach(m),N.forEach(m),this.h()},h(){r(l,"type","hidden"),r(l,"name","email"),l.value=i[10],r(v,"class","btn align-bottom"),r(v,"type","submit"),r(t,"action",i[23]("?/addSpecialReceiver",void 0)),r(t,"method","post"),r(y,"type","hidden"),r(y,"name","email"),y.value=i[10],r(D,"class","btn btn-error"),r(D,"type","submit"),D.disabled=b=i[0].specialReceivers.length===0,r(E,"action",i[23]("?/deleteSpecialReceiver",void 0)),r(E,"method","post"),r(e,"class","my-2 flex flex-row justify-between")},m(V,N){Y(V,e,N),a(e,t),a(t,l),a(t,s),Ee(n,t,null),a(t,c),a(t,v),a(v,S),a(e,T),a(e,E),a(E,y),a(E,h),a(E,D),a(D,k),R=!0,g||(C=[oe(i[16].call(null,t)),oe(i[21].call(null,E))],g=!0)},p(V,N){const F={};N[0]&128&&(F.error=V[7].targetEmailReceiver),!o&&N[0]&64&&(o=!0,F.value=V[6].targetEmailReceiver,mt(()=>o=!1)),n.$set(F),(!R||N[0]&1&&b!==(b=V[0].specialReceivers.length===0))&&(D.disabled=b)},i(V){R||(le(n.$$.fragment,V),R=!0)},o(V){ae(n.$$.fragment,V),R=!1},d(V){V&&m(e),ke(n),g=!1,De(C)}}}function ft(i,e){let t,l,s;return l=new Wt({props:{specialSender:e[31],isEditing:e[1],removeSenderForm:e[0].removeSpecialSenderForm}}),{key:i,first:null,c(){t=be(),ge(l.$$.fragment),this.h()},l(n){t=be(),Se(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){Y(n,t,o),Ee(l,n,o),s=!0},p(n,o){e=n;const c={};o[0]&1&&(c.specialSender=e[31]),o[0]&2&&(c.isEditing=e[1]),o[0]&1&&(c.removeSenderForm=e[0].removeSpecialSenderForm),l.$set(c)},i(n){s||(le(l.$$.fragment,n),s=!0)},o(n){ae(l.$$.fragment,n),s=!1},d(n){n&&m(t),ke(l,n)}}}function ct(i){let e,t,l,s,n,o,c,v,d,S=Nt()+"",T,E,y,h,D,M,k=Dt()+"",b,R,g,C,j;function O(N){i[27](N)}let V={name:"usernameSender",label:"Username/studentId",required:!0,error:i[9].usernameSender};return i[8].usernameSender!==void 0&&(V.value=i[8].usernameSender),o=new ht({props:V}),He.push(()=>_t(o,"value",O)),{c(){e=_("div"),t=_("form"),l=_("input"),s=A(),n=_("div"),ge(o.$$.fragment),v=A(),d=_("button"),T=J(S),E=A(),y=_("form"),h=_("input"),D=A(),M=_("button"),b=J(k),this.h()},l(N){e=p(N,"DIV",{class:!0});var F=I(e);t=p(F,"FORM",{action:!0,method:!0});var q=I(t);l=p(q,"INPUT",{type:!0,name:!0}),s=U(q),n=p(q,"DIV",{});var W=I(n);Se(o.$$.fragment,W),W.forEach(m),v=U(q),d=p(q,"BUTTON",{class:!0,type:!0});var G=I(d);T=K(G,S),G.forEach(m),q.forEach(m),E=U(F),y=p(F,"FORM",{action:!0,method:!0});var P=I(y);h=p(P,"INPUT",{type:!0,name:!0}),D=U(P),M=p(P,"BUTTON",{class:!0,type:!0});var L=I(M);b=K(L,k),L.forEach(m),P.forEach(m),F.forEach(m),this.h()},h(){r(l,"type","hidden"),r(l,"name","email"),l.value=i[10],r(d,"class","btn"),r(d,"type","submit"),r(t,"action",i[23]("?/addSpecialSender",void 0)),r(t,"method","post"),r(h,"type","hidden"),r(h,"name","email"),h.value=i[10],r(M,"class","btn btn-error"),r(M,"type","submit"),M.disabled=R=i[0].specialSenders.length===0,r(y,"action",i[23]("?/deleteSpecialSender",void 0)),r(y,"method","post"),r(e,"class","my-2 flex flex-row justify-between")},m(N,F){Y(N,e,F),a(e,t),a(t,l),a(t,s),a(t,n),Ee(o,n,null),a(t,v),a(t,d),a(d,T),a(e,E),a(e,y),a(y,h),a(y,D),a(y,M),a(M,b),g=!0,C||(j=[oe(i[19].call(null,t)),oe(i[22].call(null,y))],C=!0)},p(N,F){const q={};F[0]&512&&(q.error=N[9].usernameSender),!c&&F[0]&256&&(c=!0,q.value=N[8].usernameSender,mt(()=>c=!1)),o.$set(q),(!g||F[0]&1&&R!==(R=N[0].specialSenders.length===0))&&(M.disabled=R)},i(N){g||(le(o.$$.fragment,N),g=!0)},o(N){ae(o.$$.fragment,N),g=!1},d(N){N&&m(e),ke(o),C=!1,De(j)}}}function Xt(i){let e,t,l,s,n=(i[1]?Ke():$e())+"",o,c,v,d,S,T=Ot()+"",E,y,h=[],D=new Map,M,k,b,R,g,C,j,O=Vt()+"",V,N,F=[],q=new Map,W,G,P,L,H,w,ie,ue=Mt()+"",ne,ee,B=[],X=new Map,z,de,te,ye;t=new yt({props:{title:i[10]}});let fe=ce(i[3]);const Fe=u=>u[40].id;for(let u=0;u<fe.length;u+=1){let f=at(i,fe,u),Z=Fe(f);D.set(Z,h[u]=rt(Z,f))}let Q=i[1]&&st(i),Ie=ce(i[0].specialReceivers);const je=u=>u[34].id;for(let u=0;u<Ie.length;u+=1){let f=it(i,Ie,u),Z=je(f);q.set(Z,F[u]=ut(Z,f))}let $=i[1]&&dt(i),Re=ce(i[0].specialSenders);const qe=u=>u[31].id;for(let u=0;u<Re.length;u+=1){let f=lt(i,Re,u),Z=qe(f);X.set(Z,B[u]=ft(Z,f))}let x=i[1]&&ct(i);return{c(){e=_("div"),ge(t.$$.fragment),l=A(),s=_("button"),o=J(n),c=A(),v=_("div"),d=_("div"),S=_("h1"),E=J(T),y=A();for(let u=0;u<h.length;u+=1)h[u].c();M=A(),Q&&Q.c(),k=A(),b=_("hr"),R=A(),g=_("div"),C=_("div"),j=_("h1"),V=J(O),N=A();for(let u=0;u<F.length;u+=1)F[u].c();W=A(),$&&$.c(),G=A(),P=_("hr"),L=A(),H=_("div"),w=_("div"),ie=_("h1"),ne=J(ue),ee=A();for(let u=0;u<B.length;u+=1)B[u].c();z=A(),x&&x.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var f=I(e);Se(t.$$.fragment,f),l=U(f),s=p(f,"BUTTON",{class:!0});var Z=I(s);o=K(Z,n),Z.forEach(m),f.forEach(m),c=U(u),v=p(u,"DIV",{class:!0});var we=I(v);d=p(we,"DIV",{class:!0});var Ce=I(d);S=p(Ce,"H1",{class:!0});var Ge=I(S);E=K(Ge,T),Ge.forEach(m),Ce.forEach(m),y=U(we);for(let re=0;re<h.length;re+=1)h[re].l(we);we.forEach(m),M=U(u),Q&&Q.l(u),k=U(u),b=p(u,"HR",{class:!0}),R=U(u),g=p(u,"DIV",{});var pe=I(g);C=p(pe,"DIV",{class:!0});var Ye=I(C);j=p(Ye,"H1",{class:!0});var Ze=I(j);V=K(Ze,O),Ze.forEach(m),Ye.forEach(m),N=U(pe);for(let re=0;re<F.length;re+=1)F[re].l(pe);W=U(pe),$&&$.l(pe),pe.forEach(m),G=U(u),P=p(u,"HR",{class:!0}),L=U(u),H=p(u,"DIV",{});var he=I(H);w=p(he,"DIV",{class:!0});var Qe=I(w);ie=p(Qe,"H1",{class:!0});var We=I(ie);ne=K(We,ue),We.forEach(m),Qe.forEach(m),ee=U(he);for(let re=0;re<B.length;re+=1)B[re].l(he);z=U(he),x&&x.l(he),he.forEach(m),this.h()},h(){r(s,"class","btn"),r(e,"class","flex flex-row justify-between"),r(S,"class","text-2xl font-semibold"),r(d,"class","flex flex-row justify-between"),r(v,"class","my-8"),r(b,"class","my-8"),r(j,"class","text-2xl font-semibold"),r(C,"class","flex flex-row justify-between"),r(P,"class","my-8"),r(ie,"class","py-2 text-2xl font-semibold"),r(w,"class","flex flex-row justify-between")},m(u,f){Y(u,e,f),Ee(t,e,null),a(e,l),a(e,s),a(s,o),Y(u,c,f),Y(u,v,f),a(v,d),a(d,S),a(S,E),a(v,y);for(let Z=0;Z<h.length;Z+=1)h[Z]&&h[Z].m(v,null);Y(u,M,f),Q&&Q.m(u,f),Y(u,k,f),Y(u,b,f),Y(u,R,f),Y(u,g,f),a(g,C),a(C,j),a(j,V),a(g,N);for(let Z=0;Z<F.length;Z+=1)F[Z]&&F[Z].m(g,null);a(g,W),$&&$.m(g,null),Y(u,G,f),Y(u,P,f),Y(u,L,f),Y(u,H,f),a(H,w),a(w,ie),a(ie,ne),a(H,ee);for(let Z=0;Z<B.length;Z+=1)B[Z]&&B[Z].m(H,null);a(H,z),x&&x.m(H,null),de=!0,te||(ye=Be(s,"click",i[24]),te=!0)},p(u,f){(!de||f[0]&2)&&n!==(n=(u[1]?Ke():$e())+"")&&_e(o,n),f[0]&11&&(fe=ce(u[3]),Te(),h=Ue(h,f,Fe,1,u,fe,D,v,Le,rt,null,at),Pe()),u[1]?Q?Q.p(u,f):(Q=st(u),Q.c(),Q.m(k.parentNode,k)):Q&&(Q.d(1),Q=null),f[0]&3&&(Ie=ce(u[0].specialReceivers),Te(),F=Ue(F,f,je,1,u,Ie,q,g,Le,ut,W,it),Pe()),u[1]?$?($.p(u,f),f[0]&2&&le($,1)):($=dt(u),$.c(),le($,1),$.m(g,null)):$&&(Te(),ae($,1,1,()=>{$=null}),Pe()),f[0]&3&&(Re=ce(u[0].specialSenders),Te(),B=Ue(B,f,qe,1,u,Re,X,H,Le,ft,z,lt),Pe()),u[1]?x?(x.p(u,f),f[0]&2&&le(x,1)):(x=ct(u),x.c(),le(x,1),x.m(H,null)):x&&(Te(),ae(x,1,1,()=>{x=null}),Pe())},i(u){if(!de){le(t.$$.fragment,u);for(let f=0;f<fe.length;f+=1)le(h[f]);for(let f=0;f<Ie.length;f+=1)le(F[f]);le($);for(let f=0;f<Re.length;f+=1)le(B[f]);le(x),de=!0}},o(u){ae(t.$$.fragment,u);for(let f=0;f<h.length;f+=1)ae(h[f]);for(let f=0;f<F.length;f+=1)ae(F[f]);ae($);for(let f=0;f<B.length;f+=1)ae(B[f]);ae(x),de=!1},d(u){u&&(m(e),m(c),m(v),m(M),m(k),m(b),m(R),m(g),m(G),m(P),m(L),m(H)),ke(t);for(let f=0;f<h.length;f+=1)h[f].d();Q&&Q.d(u);for(let f=0;f<F.length;f+=1)F[f].d();$&&$.d();for(let f=0;f<B.length;f+=1)B[f].d();x&&x.d(),te=!1,ye()}}}function zt(i,e,t){let l,s,n,o,c,v,d,S,T;me(i,kt,w=>t(28,n=w));let{data:E}=e;const{email:y}=n.params,{form:h,constraints:D,enhance:M}=se(E.addPositionForm);me(i,h,w=>t(5,c=w)),me(i,D,w=>t(4,o=w));const{form:k,errors:b,enhance:R}=se(E.addSpecialReceiverForm);me(i,k,w=>t(6,v=w)),me(i,b,w=>t(7,d=w));const{form:g,errors:C,enhance:j}=se(E.addSpecialSenderForm);me(i,g,w=>t(8,S=w)),me(i,C,w=>t(9,T=w));const{enhance:O}=se(E.deleteEmailAliasForm),{enhance:V}=se(E.deleteSpecialReceiverForm),{enhance:N}=se(E.deleteSpecialSenderForm);let F=!1;const q=Oe("$paraglide-adapter-sveltekit:context");function W(w,ie){return typeof w!="string"||!q?w:q.translateHref(w,ie)}const G=()=>{t(1,F=!F)};function P(){c.positionId=gt(this),h.set(c),t(2,s),t(0,E)}function L(w){i.$$.not_equal(v.targetEmailReceiver,w)&&(v.targetEmailReceiver=w,k.set(v))}function H(w){i.$$.not_equal(S.usernameSender,w)&&(S.usernameSender=w,g.set(S))}return i.$$set=w=>{"data"in w&&t(0,E=w.data)},i.$$.update=()=>{i.$$.dirty[0]&1&&t(3,l=E.emailAlias),i.$$.dirty[0]&1&&t(2,s=E.allPositions)},[E,F,s,l,o,c,v,d,S,T,y,h,D,M,k,b,R,g,C,j,O,V,N,W,G,P,L,H]}class al extends Ve{constructor(e){super(),Me(this,e,zt,Xt,Ne,{data:0},null,[-1,-1])}}export{al as component};
