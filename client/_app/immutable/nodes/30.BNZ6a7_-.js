import{s as Ee,D as Ne,j,e as _,t as B,k,a as p,b as h,o as C,d as i,f as b,F as _e,i as q,q as a,P as pe,G as ye,Q as Te,R as Pe,w as Ae,l as ae,m as De,S as ge}from"../chunks/scheduler.DK5noefF.js";import{S as Se,i as je,c as ke,a as He,m as we,t as Fe,b as Le,d as Oe}from"../chunks/index.OECaLbXR.js";import{e as de}from"../chunks/each.Dbd03sI1.js";import{g as Be}from"../chunks/spread.CgU5AtxT.js";import{s as Ce}from"../chunks/superForms.37TMp2uc.js";import{D as Re,E as Ie,F as qe,G as Ge,H as Ue}from"../chunks/messages.DZzIl59o.js";import{S as $e}from"../chunks/SetPageTitle.Cf9LBAU4.js";function he(s,t,l){const r=s.slice();return r[12]=t[l],r}function be(s){let t,l,r=s[12]+"",n,c,f,d,F=Re()+"",D,S,P;return{c(){t=_("tr"),l=_("td"),n=B(r),c=j(),f=_("td"),d=_("a"),D=B(F),P=j(),this.h()},l(E){t=p(E,"TR",{});var m=h(t);l=p(m,"TD",{class:!0});var u=h(l);n=C(u,r),u.forEach(i),c=k(m),f=p(m,"TD",{class:!0});var y=h(f);d=p(y,"A",{class:!0,href:!0});var H=h(d);D=C(H,F),H.forEach(i),y.forEach(i),P=k(m),m.forEach(i),this.h()},h(){b(l,"class","font-medium"),b(d,"class","btn btn-xs px-8"),b(d,"href",S=s[8](`access/${s[12]}`,void 0)),b(f,"class","text-right")},m(E,m){q(E,t,m),a(t,l),a(l,n),a(t,c),a(t,f),a(f,d),a(d,D),a(t,P)},p(E,m){m&1&&r!==(r=E[12]+"")&&ge(n,r),m&1&&S!==(S=E[8](`access/${E[12]}`,void 0))&&b(d,"href",S)},d(E){E&&i(t)}}}function ve(s){let t,l=s[1].apiName+"",r;return{c(){t=_("span"),r=B(l),this.h()},l(n){t=p(n,"SPAN",{class:!0});var c=h(t);r=C(c,l),c.forEach(i),this.h()},h(){b(t,"class","text-error")},m(n,c){q(n,t,c),a(t,r)},p(n,c){c&2&&l!==(l=n[1].apiName+"")&&ge(r,l)},d(n){n&&i(t)}}}function xe(s){let t,l,r,n,c,f,d,F=Ie()+"",D,S,P,E,m,u,y,H,se=qe()+"",V,Y,w,T,R,le=Ge()+"",J,K,A,$,W,x,O,re=Ue()+"",X,G,Z,ne;t=new $e({props:{title:"Access policies"}});let I=de(s[0].accessPolicies),v=[];for(let e=0;e<I.length;e+=1)v[e]=be(he(s,I,e));let ee=[{type:"text"},{name:"apiName"},{placeholder:"Policy name"},{"aria-invalid":$=s[1].apiName?"true":void 0},{class:"input join-item input-bordered input-primary md:flex-1"},s[2].apiName],z={};for(let e=0;e<ee.length;e+=1)z=Ne(z,ee[e]);let g=s[1].apiName&&ve(s);return{c(){ke(t.$$.fragment),l=j(),r=_("div"),n=_("table"),c=_("thead"),f=_("tr"),d=_("th"),D=B(F),S=j(),P=_("th"),E=j(),m=_("tbody");for(let e=0;e<v.length;e+=1)v[e].c();u=j(),y=_("section"),H=_("h2"),V=B(se),Y=j(),w=_("form"),T=_("label"),R=_("span"),J=B(le),K=j(),A=_("input"),W=j(),g&&g.c(),x=j(),O=_("button"),X=B(re),this.h()},l(e){He(t.$$.fragment,e),l=k(e),r=p(e,"DIV",{class:!0});var N=h(r);n=p(N,"TABLE",{class:!0});var o=h(n);c=p(o,"THEAD",{});var U=h(c);f=p(U,"TR",{class:!0});var M=h(f);d=p(M,"TH",{});var ie=h(d);D=C(ie,F),ie.forEach(i),S=k(M),P=p(M,"TH",{}),h(P).forEach(i),M.forEach(i),U.forEach(i),E=k(o),m=p(o,"TBODY",{});var oe=h(m);for(let te=0;te<v.length;te+=1)v[te].l(oe);oe.forEach(i),o.forEach(i),N.forEach(i),u=k(e),y=p(e,"SECTION",{class:!0});var Q=h(y);H=p(Q,"H2",{class:!0});var ce=h(H);V=C(ce,se),ce.forEach(i),Y=k(Q),w=p(Q,"FORM",{class:!0,method:!0,action:!0});var ue=h(w);T=p(ue,"LABEL",{class:!0});var L=h(T);R=p(L,"SPAN",{class:!0});var fe=h(R);J=C(fe,le),fe.forEach(i),K=k(L),A=p(L,"INPUT",{type:!0,name:!0,placeholder:!0,"aria-invalid":!0,class:!0}),W=k(L),g&&g.l(L),x=k(L),O=p(L,"BUTTON",{type:!0,class:!0});var me=h(O);X=C(me,re),me.forEach(i),L.forEach(i),ue.forEach(i),Q.forEach(i),this.h()},h(){b(f,"class","bg-base-200"),b(n,"class","table"),b(r,"class","overflow-x-auto"),b(H,"class","text-xl font-bold"),b(R,"class","label join-item bg-base-200 px-4"),_e(A,z),b(O,"type","submit"),b(O,"class","btn btn-primary join-item"),b(T,"class","join join-vertical md:join-horizontal"),b(w,"class","form-control gap-4"),b(w,"method","POST"),b(w,"action",s[8]("?/create",void 0)),b(y,"class","my-4 space-y-4")},m(e,N){we(t,e,N),q(e,l,N),q(e,r,N),a(r,n),a(n,c),a(c,f),a(f,d),a(d,D),a(f,S),a(f,P),a(n,E),a(n,m);for(let o=0;o<v.length;o+=1)v[o]&&v[o].m(m,null);q(e,u,N),q(e,y,N),a(y,H),a(H,V),a(y,Y),a(y,w),a(w,T),a(T,R),a(R,J),a(T,K),a(T,A),A.autofocus&&A.focus(),pe(A,s[3].apiName),a(T,W),g&&g.m(T,null),a(T,x),a(T,O),a(O,X),G=!0,Z||(ne=[ye(A,"input",s[9]),Te(s[7].call(null,w))],Z=!0)},p(e,[N]){if(N&257){I=de(e[0].accessPolicies);let o;for(o=0;o<I.length;o+=1){const U=he(e,I,o);v[o]?v[o].p(U,N):(v[o]=be(U),v[o].c(),v[o].m(m,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=I.length}_e(A,z=Be(ee,[{type:"text"},{name:"apiName"},{placeholder:"Policy name"},(!G||N&2&&$!==($=e[1].apiName?"true":void 0))&&{"aria-invalid":$},{class:"input join-item input-bordered input-primary md:flex-1"},N&4&&e[2].apiName])),N&8&&A.value!==e[3].apiName&&pe(A,e[3].apiName),e[1].apiName?g?g.p(e,N):(g=ve(e),g.c(),g.m(T,x)):g&&(g.d(1),g=null)},i(e){G||(Fe(t.$$.fragment,e),G=!0)},o(e){Le(t.$$.fragment,e),G=!1},d(e){e&&(i(l),i(r),i(u),i(y)),Oe(t,e),Pe(v,e),g&&g.d(),Z=!1,Ae(ne)}}}function ze(s,t,l){let r,n,c,{data:f}=t;const{form:d,errors:F,constraints:D,enhance:S}=Ce(f.form,{resetForm:!0});ae(s,d,u=>l(3,c=u)),ae(s,F,u=>l(1,r=u)),ae(s,D,u=>l(2,n=u));const P=De("$paraglide-adapter-sveltekit:context");function E(u,y){return typeof u!="string"||!P?u:P.translateHref(u,y)}function m(){c.apiName=this.value,d.set(c)}return s.$$set=u=>{"data"in u&&l(0,f=u.data)},[f,r,n,c,d,F,D,S,E,m]}class Xe extends Se{constructor(t){super(),je(this,t,ze,xe,Ee,{data:0})}}export{Xe as component};
