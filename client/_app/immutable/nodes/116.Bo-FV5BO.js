import{s as he,e as g,j as L,t as G,a as b,b as w,k as V,o as q,d as _,f as h,i as O,q as f,S as Z,R as Le,l as Ve,m as He,C as te,c as Me,G as pe,u as ze,g as je,h as Re,r as Ge,Y as qe,p as be,E as Be,n as de}from"../chunks/scheduler.DK5noefF.js";import{S as me,i as ge,c as ae,a as ne,m as re,t as z,g as fe,e as ue,b as B,d as ie,f as Oe}from"../chunks/index.OECaLbXR.js";import{e as le,u as We,o as Ye}from"../chunks/each.Dbd03sI1.js";import{p as Ue}from"../chunks/stores.BdoTh84D.js";import{S as Fe}from"../chunks/SetPageTitle.Cf9LBAU4.js";import{t as Xe}from"../chunks/toast.BUMyavxw.js";import{fv as Je,g as Ke,fw as _e,bi as Qe,bj as Ze,bk as xe}from"../chunks/messages.DZzIl59o.js";import{M as et}from"../chunks/MarkdownBody.Dj9odoYq.js";import{a as ve}from"../chunks/apiNames.G3FqMHey.js";import{i as ke}from"../chunks/authorization.BfNSR1Nc.js";import{d as ce}from"../chunks/dayjs.min.B27XEuZS.js";import{T as tt}from"../chunks/TagChip.BKSCnMT_.js";import{N as we}from"../chunks/types.CTZXezes.js";function Ee(n,e,a){const s=n.slice();return s[5]=e[a],s}function $e(n){let e,a=n[0].location+"",s;return{c(){e=g("span"),s=G(a),this.h()},l(t){e=b(t,"SPAN",{class:!0});var l=w(e);s=q(l,a),l.forEach(_),this.h()},h(){h(e,"class","text-sm font-medium text-neutral")},m(t,l){O(t,e,l),f(e,s)},p(t,l){l&1&&a!==(a=t[0].location+"")&&Z(s,a)},d(t){t&&_(e)}}}function Ae(n){let e,a;return e=new tt({props:{tag:n[5]}}),{c(){ae(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,t){re(e,s,t),a=!0},p(s,t){const l={};t&1&&(l.tag=s[5]),e.$set(l)},i(s){a||(z(e.$$.fragment,s),a=!0)},o(s){B(e.$$.fragment,s),a=!1},d(s){ie(e,s)}}}function De(n){let e=!n[5].name.startsWith(we),a,s,t=e&&Ae(n);return{c(){t&&t.c(),a=te()},l(l){t&&t.l(l),a=te()},m(l,r){t&&t.m(l,r),O(l,a,r),s=!0},p(l,r){r&1&&(e=!l[5].name.startsWith(we)),e?t?(t.p(l,r),r&1&&z(t,1)):(t=Ae(l),t.c(),z(t,1),t.m(a.parentNode,a)):t&&(fe(),B(t,1,1,()=>{t=null}),ue())},i(l){s||(z(t),s=!0)},o(l){B(t),s=!1},d(l){l&&_(a),t&&t.d(l)}}}function ye(n){let e,a=n[0].shortDescription+"",s;return{c(){e=g("span"),s=G(a),this.h()},l(t){e=b(t,"SPAN",{class:!0});var l=w(e);s=q(l,a),l.forEach(_),this.h()},h(){h(e,"class","text-xl font-medium text-neutral")},m(t,l){O(t,e,l),f(e,s)},p(t,l){l&1&&a!==(a=t[0].shortDescription+"")&&Z(s,a)},d(t){t&&_(e)}}}function Ne(n){let e,a=Je()+"",s,t;return{c(){e=g("a"),s=G(a),this.h()},l(l){e=b(l,"A",{href:!0,class:!0});var r=w(e);s=q(r,a),r.forEach(_),this.h()},h(){h(e,"href",t=n[2](n[0].link,void 0)),h(e,"class","btn btn-primary mt-4 self-start")},m(l,r){O(l,e,r),f(e,s)},p(l,r){r&1&&t!==(t=l[2](l[0].link,void 0))&&h(e,"href",t)},d(l){l&&_(e)}}}function Pe(n){let e,a,s;return{c(){e=g("a"),a=g("span"),this.h()},l(t){e=b(t,"A",{href:!0,class:!0});var l=w(e);a=b(l,"SPAN",{class:!0}),w(a).forEach(_),l.forEach(_),this.h()},h(){h(a,"class","i-mdi-edit"),h(e,"href",s=n[2](`/events/${n[0].slug}`,void 0)),h(e,"class","btn btn-secondary mt-8 self-start")},m(t,l){O(t,e,l),f(e,a)},p(t,l){l&1&&s!==(s=t[2](`/events/${t[0].slug}`,void 0))&&h(e,"href",s)},d(t){t&&_(e)}}}function lt(n){let e,a,s,t,l,r=ce(n[0].startDatetime).format("dddd HH:mm")+"",o,c,p=ce(n[0].endDatetime).format("HH:mm")+"",y,U,m,E=n[0].title+"",d,v,N,I,Y,S,j,Q,W,F,H,M=ke(ve.EVENT.UPDATE,n[1].data.user),R,P=n[0].location&&$e(n),J=le(n[0].tags),$=[];for(let i=0;i<J.length;i+=1)$[i]=De(Ee(n,J,i));const oe=i=>B($[i],1,1,()=>{$[i]=null});let T=n[0].shortDescription&&ye(n);W=new et({props:{body:n[0].description,class:"leading-tight"}});let D=n[0].link&&Ne(n),C=M&&Pe(n);return{c(){e=g("div"),a=g("input"),s=L(),t=g("div"),l=g("span"),o=G(r),c=G(" - "),y=G(p),U=L(),m=g("span"),d=G(E),v=L(),P&&P.c(),N=L(),I=g("div");for(let i=0;i<$.length;i+=1)$[i].c();Y=L(),S=g("div"),T&&T.c(),j=L(),Q=g("p"),ae(W.$$.fragment),F=L(),D&&D.c(),H=L(),C&&C.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=w(e);a=b(u,"INPUT",{type:!0,name:!0}),s=V(u),t=b(u,"DIV",{class:!0});var A=w(t);l=b(A,"SPAN",{class:!0});var k=w(l);o=q(k,r),c=q(k," - "),y=q(k,p),k.forEach(_),U=V(A),m=b(A,"SPAN",{class:!0});var K=w(m);d=q(K,E),K.forEach(_),v=V(A),P&&P.l(A),N=V(A),I=b(A,"DIV",{class:!0});var x=w(I);for(let ee=0;ee<$.length;ee+=1)$[ee].l(x);x.forEach(_),A.forEach(_),Y=V(u),S=b(u,"DIV",{class:!0});var X=w(S);T&&T.l(X),j=V(X),Q=b(X,"P",{});var se=w(Q);ne(W.$$.fragment,se),se.forEach(_),F=V(X),D&&D.l(X),H=V(X),C&&C.l(X),X.forEach(_),u.forEach(_),this.h()},h(){h(a,"type","radio"),h(a,"name","nolla-event-list"),h(l,"class","text-sm font-medium capitalize text-primary"),h(m,"class","text-base"),h(I,"class","mt-4 flex gap-2"),h(t,"class","collapse-title flex flex-col"),h(S,"class","collapse-content flex flex-col"),h(e,"class","collapse collapse-arrow rounded-btn border-2 border-base-200 bg-base-200 bg-transparent has-[input[type='radio']:checked]:border-base-content")},m(i,u){O(i,e,u),f(e,a),f(e,s),f(e,t),f(t,l),f(l,o),f(l,c),f(l,y),f(t,U),f(t,m),f(m,d),f(t,v),P&&P.m(t,null),f(t,N),f(t,I);for(let A=0;A<$.length;A+=1)$[A]&&$[A].m(I,null);f(e,Y),f(e,S),T&&T.m(S,null),f(S,j),f(S,Q),re(W,Q,null),f(S,F),D&&D.m(S,null),f(S,H),C&&C.m(S,null),R=!0},p(i,[u]){if((!R||u&1)&&r!==(r=ce(i[0].startDatetime).format("dddd HH:mm")+"")&&Z(o,r),(!R||u&1)&&p!==(p=ce(i[0].endDatetime).format("HH:mm")+"")&&Z(y,p),(!R||u&1)&&E!==(E=i[0].title+"")&&Z(d,E),i[0].location?P?P.p(i,u):(P=$e(i),P.c(),P.m(t,N)):P&&(P.d(1),P=null),u&1){J=le(i[0].tags);let k;for(k=0;k<J.length;k+=1){const K=Ee(i,J,k);$[k]?($[k].p(K,u),z($[k],1)):($[k]=De(K),$[k].c(),z($[k],1),$[k].m(I,null))}for(fe(),k=J.length;k<$.length;k+=1)oe(k);ue()}i[0].shortDescription?T?T.p(i,u):(T=ye(i),T.c(),T.m(S,j)):T&&(T.d(1),T=null);const A={};u&1&&(A.body=i[0].description),W.$set(A),i[0].link?D?D.p(i,u):(D=Ne(i),D.c(),D.m(S,H)):D&&(D.d(1),D=null),u&2&&(M=ke(ve.EVENT.UPDATE,i[1].data.user)),M?C?C.p(i,u):(C=Pe(i),C.c(),C.m(S,null)):C&&(C.d(1),C=null)},i(i){if(!R){for(let u=0;u<J.length;u+=1)z($[u]);z(W.$$.fragment,i),R=!0}},o(i){$=$.filter(Boolean);for(let u=0;u<$.length;u+=1)B($[u]);B(W.$$.fragment,i),R=!1},d(i){i&&_(e),P&&P.d(),Le($,i),T&&T.d(),ie(W),D&&D.d(),C&&C.d()}}}function st(n,e,a){let s;Ve(n,Ue,o=>a(1,s=o));let{event:t}=e;const l=He("$paraglide-adapter-sveltekit:context");function r(o,c){return typeof o!="string"||!l?o:l.translateHref(o,c)}return n.$$set=o=>{"event"in o&&a(0,t=o.event)},[t,s,r]}class at extends me{constructor(e){super(),ge(this,e,st,lt,he,{event:0})}}function nt(n){let e,a,s,t,l,r,o,c,p,y,U,m;const E=n[3].default,d=Me(E,n,n[2],null);return{c(){e=g("div"),a=g("input"),s=L(),t=g("div"),l=G(n[1]),r=L(),o=g("span"),c=L(),p=g("div"),d&&d.c(),this.h()},l(v){e=b(v,"DIV",{class:!0});var N=w(e);a=b(N,"INPUT",{type:!0,class:!0}),s=V(N),t=b(N,"DIV",{class:!0});var I=w(t);l=q(I,n[1]),r=V(I),o=b(I,"SPAN",{class:!0}),w(o).forEach(_),I.forEach(_),c=V(N),p=b(N,"DIV",{class:!0});var Y=w(p);d&&d.l(Y),Y.forEach(_),N.forEach(_),this.h()},h(){h(a,"type","checkbox"),h(a,"class","peer min-h-0"),h(o,"class","i-mdi-chevron-down rotate-90 transition-transform duration-300 ease-out-back"),h(t,"class","collapse-title flex h-9 min-h-0 items-center gap-2 p-2 font-medium peer-checked:[&>span]:rotate-0"),h(p,"class","collapse-content px-0 peer-checked:!pb-0"),h(e,"class","collapse z-10 w-auto !grid-rows-[min-content_0fr] rounded-btn border-2 border-neutral bg-neutral duration-300 has-[input[type='checkbox']:checked]:!grid-rows-[min-content_1fr] has-[input[type='checkbox']:checked]:border-base-content has-[input[type='checkbox']:checked]:bg-base-100")},m(v,N){O(v,e,N),f(e,a),a.checked=n[0],f(e,s),f(e,t),f(t,l),f(t,r),f(t,o),f(e,c),f(e,p),d&&d.m(p,null),y=!0,U||(m=pe(a,"change",n[4]),U=!0)},p(v,[N]){N&1&&(a.checked=v[0]),(!y||N&2)&&Z(l,v[1]),d&&d.p&&(!y||N&4)&&ze(d,E,v,v[2],y?Re(E,v[2],N,null):je(v[2]),null)},i(v){y||(z(d,v),y=!0)},o(v){B(d,v),y=!1},d(v){v&&_(e),d&&d.d(v),U=!1,m()}}}function rt(n,e,a){let{$$slots:s={},$$scope:t}=e,{title:l}=e,{checked:r}=e;function o(){r=this.checked,a(0,r)}return n.$$set=c=>{"title"in c&&a(1,l=c.title),"checked"in c&&a(0,r=c.checked),"$$scope"in c&&a(2,t=c.$$scope)},[r,l,t,s,o]}class it extends me{constructor(e){super(),ge(this,e,rt,nt,he,{title:1,checked:0})}}function Ie(n,e,a){const s=n.slice();return s[12]=e[a],s}function Se(n,e,a){const s=n.slice();s[15]=e[a];const t=s[15]===s[0].week;return s[16]=t,s}function Te(n){let e,a,s=_e().toLowerCase()+"",t,l,r=n[15]+"",o,c,p,y,U;return{c(){e=g("li"),a=g("a"),t=G(s),l=L(),o=G(r),p=L(),this.h()},l(m){e=b(m,"LI",{class:!0});var E=w(e);a=b(E,"A",{class:!0,href:!0});var d=w(a);t=q(d,s),l=V(d),o=q(d,r),d.forEach(_),p=V(E),E.forEach(_),this.h()},h(){h(a,"class","font-medium"),h(a,"href",c=n[5](`?week=${n[15]}`,void 0)),h(e,"class","px-2 py-1 last:pb-2"),be(e,"bg-primary",n[16])},m(m,E){O(m,e,E),f(e,a),f(a,t),f(a,l),f(a,o),f(e,p),y||(U=pe(a,"click",n[8]),y=!0)},p(m,E){E&8&&r!==(r=m[15]+"")&&Z(o,r),E&8&&c!==(c=m[5](`?week=${m[15]}`,void 0))&&h(a,"href",c),E&9&&be(e,"bg-primary",m[16])},d(m){m&&_(e),y=!1,U()}}}function ot(n){let e,a=le(n[3]),s=[];for(let t=0;t<a.length;t+=1)s[t]=Te(Se(n,a,t));return{c(){e=g("ul");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=b(t,"UL",{class:!0});var l=w(e);for(let r=0;r<s.length;r+=1)s[r].l(l);l.forEach(_),this.h()},h(){h(e,"class","flex flex-col")},m(t,l){O(t,e,l);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(t,l){if(l&43){a=le(t[3]);let r;for(r=0;r<a.length;r+=1){const o=Se(t,a,r);s[r]?s[r].p(o,l):(s[r]=Te(o),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&_(e),Le(s,t)}}}function ct(n){let e,a="ðŸ¤«";return{c(){e=g("span"),e.textContent=a,this.h()},l(s){e=b(s,"SPAN",{class:!0,"data-svelte-h":!0}),Be(e)!=="svelte-dnhzs1"&&(e.textContent=a),this.h()},h(){h(e,"class","mt-8 text-center text-4xl")},m(s,t){O(s,e,t)},p:de,i:de,o:de,d(s){s&&_(e)}}}function ft(n){let e=[],a=new Map,s,t,l=le(n[4]);const r=o=>o[12].id;for(let o=0;o<l.length;o+=1){let c=Ie(n,l,o),p=r(c);a.set(p,e[o]=Ce(p,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=te()},l(o){for(let c=0;c<e.length;c+=1)e[c].l(o);s=te()},m(o,c){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(o,c);O(o,s,c),t=!0},p(o,c){c&16&&(l=le(o[4]),fe(),e=We(e,c,r,1,o,l,a,s.parentNode,Ye,Ce,s,Ie),ue())},i(o){if(!t){for(let c=0;c<l.length;c+=1)z(e[c]);t=!0}},o(o){for(let c=0;c<e.length;c+=1)B(e[c]);t=!1},d(o){o&&_(s);for(let c=0;c<e.length;c+=1)e[c].d(o)}}}function Ce(n,e){let a,s,t;return s=new at({props:{event:e[12]}}),{key:n,first:null,c(){a=te(),ae(s.$$.fragment),this.h()},l(l){a=te(),ne(s.$$.fragment,l),this.h()},h(){this.first=a},m(l,r){O(l,a,r),re(s,l,r),t=!0},p(l,r){e=l;const o={};r&16&&(o.event=e[12]),s.$set(o)},i(l){t||(z(s.$$.fragment,l),t=!0)},o(l){B(s.$$.fragment,l),t=!1},d(l){l&&_(a),ie(s,l)}}}function ut(n){let e,a,s,t,l,r,o=Qe()+"",c,p,y,U,m,E,d=Ze()+"",v,N,I,Y,S,j,Q,W,F,H,M,R,P,J;a=new Fe({props:{title:Ke()}});function $(i){n[9](i)}let oe={title:_e().toLowerCase()+" "+n[0].week,$$slots:{default:[ot]},$$scope:{ctx:n}};n[1]!==void 0&&(oe.checked=n[1]),j=new it({props:oe}),Ge.push(()=>Oe(j,"checked",$));const T=[ft,ct],D=[];function C(i,u){return i[4].length>0?0:1}return H=C(n),M=D[H]=T[H](n),{c(){e=g("div"),ae(a.$$.fragment),s=L(),t=g("div"),l=g("details"),r=g("summary"),c=G(o),p=L(),y=g("span"),U=L(),m=g("div"),E=g("p"),v=G(d),N=L(),I=g("p"),Y=G(n[2]),S=L(),ae(j.$$.fragment),W=L(),F=g("div"),M.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var u=w(e);ne(a.$$.fragment,u),s=V(u),t=b(u,"DIV",{class:!0});var A=w(t);l=b(A,"DETAILS",{class:!0});var k=w(l);r=b(k,"SUMMARY",{class:!0});var K=w(r);c=q(K,o),p=V(K),y=b(K,"SPAN",{class:!0}),w(y).forEach(_),K.forEach(_),U=V(k),m=b(k,"DIV",{class:!0});var x=w(m);E=b(x,"P",{});var X=w(E);v=q(X,d),X.forEach(_),N=V(x),I=b(x,"P",{class:!0});var se=w(I);Y=q(se,n[2]),se.forEach(_),x.forEach(_),k.forEach(_),S=V(A),ne(j.$$.fragment,A),A.forEach(_),W=V(u),F=b(u,"DIV",{class:!0});var ee=w(F);M.l(ee),ee.forEach(_),u.forEach(_),this.h()},h(){h(y,"class","i-mdi-calendar-sync"),h(r,"class","btn btn-lg !h-10"),h(I,"class","my-2 w-full select-all overflow-x-auto rounded border p-2 font-mono text-sm"),h(m,"class","dropdown-content z-20 -ml-8 w-[calc(100dvw-1rem)] rounded-box bg-base-300 p-4 shadow md:max-w-2xl"),h(l,"class","dropdown"),h(t,"class","mb-4 flex items-start justify-between"),h(F,"class","flex flex-col gap-4"),h(e,"class","mx-auto max-w-4xl")},m(i,u){O(i,e,u),re(a,e,null),f(e,s),f(e,t),f(t,l),f(l,r),f(r,c),f(r,p),f(r,y),f(l,U),f(l,m),f(m,E),f(E,v),f(m,N),f(m,I),f(I,Y),f(t,S),re(j,t,null),f(e,W),f(e,F),D[H].m(F,null),R=!0,P||(J=pe(l,"toggle",n[7]),P=!0)},p(i,[u]){(!R||u&4)&&Z(Y,i[2]);const A={};u&1&&(A.title=_e().toLowerCase()+" "+i[0].week),u&524299&&(A.$$scope={dirty:u,ctx:i}),!Q&&u&2&&(Q=!0,A.checked=i[1],qe(()=>Q=!1)),j.$set(A);let k=H;H=C(i),H===k?D[H].p(i,u):(fe(),B(D[k],1,1,()=>{D[k]=null}),ue(),M=D[H],M?M.p(i,u):(M=D[H]=T[H](i),M.c()),z(M,1),M.m(F,null))},i(i){R||(z(a.$$.fragment,i),z(j.$$.fragment,i),z(M),R=!0)},o(i){B(a.$$.fragment,i),B(j.$$.fragment,i),B(M),R=!1},d(i){i&&_(e),ie(a),ie(j),D[H].d(),P=!1,J()}}}function dt(n,e,a){let s,t,l,r;Ve(n,Ue,d=>a(6,r=d));let{data:o}=e,c=!1;const p=He("$paraglide-adapter-sveltekit:context");function y(d,v){return typeof d!="string"||!p?d:p.translateHref(d,v)}const U=d=>{d.target instanceof HTMLDetailsElement&&d.target.open&&(navigator.clipboard.writeText(l),Xe(xe(),"success"))},m=()=>a(1,c=!1);function E(d){c=d,a(1,c)}return n.$$set=d=>{"data"in d&&a(0,o=d.data)},n.$$.update=()=>{n.$$.dirty&1&&a(4,s=o.events),n.$$.dirty&1&&a(3,t=Array(o.weeks).fill(0).map((d,v)=>v)),n.$$.dirty&64&&a(2,l=`${r.url.origin}${r.url.pathname}/subscribe`)},[o,c,l,t,s,y,r,U,m,E]}class yt extends me{constructor(e){super(),ge(this,e,dt,ut,he,{data:0})}}export{yt as component};
