import{s as ye,e as v,j as P,t as L,a as b,b as $,d as c,k as j,o as q,f as _,i as Y,q as u,S as R,R as Ie,m as Me,l as Ve,C as ge}from"../chunks/scheduler.DK5noefF.js";import{S as Ae,i as De,c as te,a as ae,m as re,t as O,b as G,d as le,e as Ye,g as xe}from"../chunks/index.OECaLbXR.js";import{e as se,u as Se,o as Ce}from"../chunks/each.Dbd03sI1.js";import{p as Ne}from"../chunks/stores.BdoTh84D.js";import{S as Pe}from"../chunks/SetPageTitle.Cf9LBAU4.js";import{g as ve}from"../chunks/member.Deknk2Gk.js";import{M as je}from"../chunks/MemberAvatar.DsenHHaP.js";import{d as z}from"../chunks/dayjs.min.B27XEuZS.js";import{M as Te}from"../chunks/MarkdownBody.Dj9odoYq.js";import{f as He}from"../chunks/messages.DZzIl59o.js";function be(n,t,a){const e=n.slice();return e[4]=t[a],e}function $e(n){let t,a=n[4].name+"",e;return{c(){t=v("span"),e=L(a),this.h()},l(r){t=b(r,"SPAN",{class:!0});var l=$(t);e=q(l,a),l.forEach(c),this.h()},h(){_(t,"class","badge text-xs text-neutral-600")},m(r,l){Y(r,t,l),u(t,e)},p(r,l){l&1&&a!==(a=r[4].name+"")&&R(e,a)},d(r){r&&c(t)}}}function ke(n){let t,a,e=n[0].author.mandate.position.name+"",r,l;return{c(){t=v("a"),a=v("p"),r=L(e),this.h()},l(o){t=b(o,"A",{href:!0});var m=$(t);a=b(m,"P",{class:!0});var w=$(a);r=q(w,e),w.forEach(c),m.forEach(c),this.h()},h(){_(a,"class","my-1 text-xs font-light hover:underline"),_(t,"href",l=n[1]("positions/"+n[0].author.mandate.position.id,void 0))},m(o,m){Y(o,t,m),u(t,a),u(a,r)},p(o,m){m&1&&e!==(e=o[0].author.mandate.position.name+"")&&R(r,e),m&1&&l!==(l=o[1]("positions/"+o[0].author.mandate.position.id,void 0))&&_(t,"href",l)},d(o){o&&c(t)}}}function Le(n){let t=z(n[0].createdAt).fromNow()+"",a;return{c(){a=L(t)},l(e){a=q(e,t)},m(e,r){Y(e,a,r)},p(e,r){r&1&&t!==(t=z(e[0].createdAt).fromNow()+"")&&R(a,t)},d(e){e&&c(a)}}}function qe(n){let t=z(n[0].createdAt).format("YYYY-MM-DD")+"",a;return{c(){a=L(t)},l(e){a=q(e,t)},m(e,r){Y(e,a,r)},p(e,r){r&1&&t!==(t=z(e[0].createdAt).format("YYYY-MM-DD")+"")&&R(a,t)},d(e){e&&c(a)}}}function Re(n){let t,a,e,r,l,o,m,w=n[0].header+"",i,f,d,ne,A,x,D,J,oe,I,M,S,T,B=ve(n[0].author.member)+"",K,Q,ie,fe,C,U,V,H=se(n[0].tags),p=[];for(let s=0;s<H.length;s+=1)p[s]=$e(be(n,H,s));d=new Te({props:{body:n[0].body,class:"prose prose-xl mb-8 mt-2 line-clamp-5 min-w-full text-ellipsis prose-headings:text-sm"}}),D=new je({props:{class:"size-10 hover:opacity-60",member:n[0].author.member}});let k=n[0].author.mandate&&ke(n);function ue(s,h){return h&1&&(U=null),U==null&&(U=z(s[0].createdAt).diff(z(),"week")<-1),U?qe:Le}let W=ue(n,-1),E=W(n);return{c(){t=v("article"),a=v("div"),e=v("div");for(let s=0;s<p.length;s+=1)p[s].c();r=P(),l=v("div"),o=v("div"),m=v("h1"),i=L(w),f=P(),te(d.$$.fragment),ne=P(),A=v("div"),x=v("a"),te(D.$$.fragment),oe=P(),I=v("div"),M=v("div"),S=v("a"),T=v("h2"),K=L(B),ie=P(),k&&k.c(),fe=P(),C=v("p"),E.c(),this.h()},l(s){t=b(s,"ARTICLE",{class:!0});var h=$(t);a=b(h,"DIV",{class:!0});var y=$(a);e=b(y,"DIV",{class:!0});var F=$(e);for(let ce=0;ce<p.length;ce+=1)p[ce].l(F);F.forEach(c),y.forEach(c),r=j(h),l=b(h,"DIV",{class:!0});var g=$(l);o=b(g,"DIV",{class:!0});var N=$(o);m=b(N,"H1",{class:!0});var me=$(m);i=q(me,w),me.forEach(c),f=j(N),ae(d.$$.fragment,N),N.forEach(c),ne=j(g),A=b(g,"DIV",{class:!0});var X=$(A);x=b(X,"A",{href:!0});var de=$(x);ae(D.$$.fragment,de),de.forEach(c),oe=j(X),I=b(X,"DIV",{class:!0});var Z=$(I);M=b(Z,"DIV",{});var ee=$(M);S=b(ee,"A",{href:!0});var he=$(S);T=b(he,"H2",{class:!0});var _e=$(T);K=q(_e,B),_e.forEach(c),he.forEach(c),ie=j(ee),k&&k.l(ee),ee.forEach(c),fe=j(Z),C=b(Z,"P",{class:!0});var pe=$(C);E.l(pe),pe.forEach(c),Z.forEach(c),X.forEach(c),g.forEach(c),h.forEach(c),this.h()},h(){_(e,"class","flex flex-wrap gap-2"),_(a,"class","flex justify-between gap-4 bg-base-300 p-4"),_(m,"class","text-2xl font-bold group-hover:underline"),_(o,"class","flex-1"),_(x,"href",J=n[1]("members/"+n[0].author.member.studentId,void 0)),_(T,"class","text-sm font-semibold text-primary hover:underline"),_(S,"href",Q=n[1]("members/"+n[0].author.member.studentId,void 0)),_(C,"class","my-1 self-end text-nowrap text-xs font-light text-neutral-600"),_(I,"class","flex w-full items-center justify-between gap-4"),_(A,"class","flex gap-4"),_(l,"class","overflow flex flex-col p-8"),_(t,"class","row-span-2 grid grid-rows-subgrid gap-0 overflow-hidden rounded-xl bg-base-200")},m(s,h){Y(s,t,h),u(t,a),u(a,e);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(e,null);u(t,r),u(t,l),u(l,o),u(o,m),u(m,i),u(o,f),re(d,o,null),u(l,ne),u(l,A),u(A,x),re(D,x,null),u(A,oe),u(A,I),u(I,M),u(M,S),u(S,T),u(T,K),u(M,ie),k&&k.m(M,null),u(I,fe),u(I,C),E.m(C,null),V=!0},p(s,[h]){if(h&1){H=se(s[0].tags);let g;for(g=0;g<H.length;g+=1){const N=be(s,H,g);p[g]?p[g].p(N,h):(p[g]=$e(N),p[g].c(),p[g].m(e,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=H.length}(!V||h&1)&&w!==(w=s[0].header+"")&&R(i,w);const y={};h&1&&(y.body=s[0].body),d.$set(y);const F={};h&1&&(F.member=s[0].author.member),D.$set(F),(!V||h&1&&J!==(J=s[1]("members/"+s[0].author.member.studentId,void 0)))&&_(x,"href",J),(!V||h&1)&&B!==(B=ve(s[0].author.member)+"")&&R(K,B),(!V||h&1&&Q!==(Q=s[1]("members/"+s[0].author.member.studentId,void 0)))&&_(S,"href",Q),s[0].author.mandate?k?k.p(s,h):(k=ke(s),k.c(),k.m(M,null)):k&&(k.d(1),k=null),W===(W=ue(s,h))&&E?E.p(s,h):(E.d(1),E=W(s),E&&(E.c(),E.m(C,null)))},i(s){V||(O(d.$$.fragment,s),O(D.$$.fragment,s),V=!0)},o(s){G(d.$$.fragment,s),G(D.$$.fragment,s),V=!1},d(s){s&&c(t),Ie(p,s),le(d),le(D),k&&k.d(),E.d()}}}function ze(n,t,a){let{article:e}=t;const r=Me("$paraglide-adapter-sveltekit:context");function l(o,m){return typeof o!="string"||!r?o:r.translateHref(o,m)}return n.$$set=o=>{"article"in o&&a(0,e=o.article)},[e,l]}class Be extends Ae{constructor(t){super(),De(this,t,ze,Re,ye,{article:0})}}function we(n,t,a){const e=n.slice();return e[2]=t[a],e}function Ee(n,t){let a,e,r;return e=new Be({props:{article:t[2]}}),{key:n,first:null,c(){a=ge(),te(e.$$.fragment),this.h()},l(l){a=ge(),ae(e.$$.fragment,l),this.h()},h(){this.first=a},m(l,o){Y(l,a,o),re(e,l,o),r=!0},p(l,o){t=l},i(l){r||(O(e.$$.fragment,l),r=!0)},o(l){G(e.$$.fragment,l),r=!1},d(l){l&&c(a),le(e,l)}}}function Fe(n){let t,a,e,r=[],l=new Map,o;t=new Pe({props:{title:He()}});let m=se(n[0].articles);const w=i=>i[2].id;for(let i=0;i<m.length;i+=1){let f=we(n,m,i),d=w(f);l.set(d,r[i]=Ee(d,f))}return{c(){te(t.$$.fragment),a=P(),e=v("section");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){ae(t.$$.fragment,i),a=j(i),e=b(i,"SECTION",{class:!0});var f=$(e);for(let d=0;d<r.length;d+=1)r[d].l(f);f.forEach(c),this.h()},h(){_(e,"class","flex flex-col gap-8 space-y-4 px-14")},m(i,f){re(t,i,f),Y(i,a,f),Y(i,e,f);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);o=!0},p(i,[f]){f&1&&(m=se(i[0].articles),xe(),r=Se(r,f,w,1,i,m,l,e,Ce,Ee,null,we),Ye())},i(i){if(!o){O(t.$$.fragment,i);for(let f=0;f<m.length;f+=1)O(r[f]);o=!0}},o(i){G(t.$$.fragment,i);for(let f=0;f<r.length;f+=1)G(r[f]);o=!1},d(i){i&&(c(a),c(e)),le(t,i);for(let f=0;f<r.length;f+=1)r[f].d()}}}function Oe(n,t,a){let e;return Ve(n,Ne,l=>a(1,e=l)),[e.data]}class at extends Ae{constructor(t){super(),De(this,t,Oe,Fe,ye,{})}}export{at as component};
