import{s as $e,e as p,j as A,t as w,a as v,b,k as $,o as D,d as m,L as ze,f as d,i as q,q as o,S as N,n as Fe,m as xe,C as de,l as et}from"./scheduler.DK5noefF.js";import{S as we,i as De,t as L,g as Ye,b as U,e as Ze,c as ie,a as ce,m as fe,d as ue}from"./index.OECaLbXR.js";import{P as tt}from"./PageHeader.C1QSjqnO.js";import{n as st}from"./date._flR9ob7.js";import{fq as at,eL as lt,fr as nt,fs as rt,i as ot,ft as it,fu as ct}from"./messages.DZzIl59o.js";import{e as Ge,u as ft,o as ut}from"./each.Dbd03sI1.js";import{d as oe}from"./dayjs.min.B27XEuZS.js";import{e as Re}from"./redirect.D99U8wwi.js";import{g as Oe}from"./client.B-kH8QcR.js";function Be(n){let e,l=n[1].description+"",t;return{c(){e=p("span"),t=w(l)},l(a){e=v(a,"SPAN",{});var s=b(e);t=D(s,l),s.forEach(m)},m(a,s){q(a,e,s),o(e,t)},p(a,s){s&2&&l!==(l=a[1].description+"")&&N(t,l)},d(a){a&&m(e)}}}function dt(n){let e,l,t,a,s,c,h,r,u,_=n[2].title+"",i,f,E,P=oe(n[2].startDatetime).format("dddd Do MMM")+"",M,me,H,B=n[2].shortDescription+"",X,_e,T,Ie=at()+"",he,pe,z,J=n[2].organizer+"",Y,ve,F,K=n[2].location+"",Z,x,ge,S,G,R,Q=n[1].title+"",ee,be,te,C,V,Se=lt()+"",Ee,ke,W=oe(n[0].purchasedAt).fromNow()+"",se,ye,j,Ne=nt()+"",Ae,ae,y=n[1].description&&Be(n);return{c(){e=p("div"),l=p("a"),t=p("figure"),a=p("img"),h=A(),r=p("div"),u=p("h6"),i=w(_),f=A(),E=p("span"),M=w(P),me=A(),H=p("span"),X=w(B),_e=A(),T=p("span"),he=w(Ie),pe=A(),z=p("span"),Y=w(J),ve=A(),F=p("span"),Z=w(K),ge=A(),S=p("div"),G=p("div"),R=p("span"),ee=w(Q),be=A(),y&&y.c(),te=A(),C=p("div"),V=p("div"),Ee=w(Se),ke=A(),se=w(W),ye=A(),j=p("a"),Ae=w(Ne),this.h()},l(g){e=v(g,"DIV",{class:!0});var k=b(e);l=v(k,"A",{href:!0,class:!0});var Pe=b(l);t=v(Pe,"FIGURE",{class:!0});var le=b(t);a=v(le,"IMG",{src:!0,alt:!0,class:!0}),h=$(le),r=v(le,"DIV",{class:!0});var I=b(r);u=v(I,"H6",{class:!0});var Me=b(u);i=D(Me,_),Me.forEach(m),f=$(I),E=v(I,"SPAN",{class:!0});var Ce=b(E);M=D(Ce,P),Ce.forEach(m),me=$(I),H=v(I,"SPAN",{class:!0});var Ve=b(H);X=D(Ve,B),Ve.forEach(m),_e=$(I),T=v(I,"SPAN",{class:!0});var je=b(T);he=D(je,Ie),je.forEach(m),pe=$(I),z=v(I,"SPAN",{class:!0});var Le=b(z);Y=D(Le,J),Le.forEach(m),ve=$(I),F=v(I,"SPAN",{class:!0});var Ue=b(F);Z=D(Ue,K),Ue.forEach(m),I.forEach(m),le.forEach(m),Pe.forEach(m),ge=$(k),S=v(k,"DIV",{class:!0});var O=b(S);G=v(O,"DIV",{class:!0});var qe=b(G);R=v(qe,"SPAN",{class:!0});var He=b(R);ee=D(He,Q),He.forEach(m),qe.forEach(m),be=$(O),y&&y.l(O),te=$(O),C=v(O,"DIV",{class:!0});var ne=b(C);V=v(ne,"DIV",{class:!0});var re=b(V);Ee=D(re,Se),ke=$(re),se=D(re,W),re.forEach(m),ye=$(ne),j=v(ne,"A",{href:!0,class:!0});var Te=b(j);Ae=D(Te,Ne),Te.forEach(m),ne.forEach(m),O.forEach(m),k.forEach(m),this.h()},h(){ze(a.src,s=Oe(n[2].imageUrl)??"https://minio.api.dsek.se/news/public/8c97c4c6-d4f4-44f5-9658-cff70110ad85.webp")||d(a,"src",s),d(a,"alt",c=n[2].title+" cover photo"),d(a,"class","aspect-video object-cover"),d(u,"class","text-xl font-semibold"),d(E,"class","-mt-1 text-sm opacity-80"),d(H,"class","mx-4 text-center"),d(T,"class","font-semibold text-primary underline underline-offset-8 transition-all group-hover:underline-offset-2 group-hover:opacity-80"),d(z,"class","absolute left-4 top-4"),d(F,"class","absolute right-4 top-4"),d(r,"class","absolute inset-0 flex flex-col items-center justify-center bg-base-100 bg-opacity-75"),d(t,"class","relative aspect-video"),d(l,"href",x=n[3](Re(n[2]),void 0)),d(l,"class","group"),d(R,"class","card-title"),d(G,"class","flex items-start justify-between"),d(V,"class","text-sm opacity-50"),d(j,"href",ae=n[3](`inventory/${n[0].id}`,void 0)),d(j,"class","btn btn-primary"),d(C,"class","card-actions items-end justify-between"),d(S,"class","card-body"),d(e,"class","card card-compact overflow-hidden bg-base-300 shadow-xl")},m(g,k){q(g,e,k),o(e,l),o(l,t),o(t,a),o(t,h),o(t,r),o(r,u),o(u,i),o(r,f),o(r,E),o(E,M),o(r,me),o(r,H),o(H,X),o(r,_e),o(r,T),o(T,he),o(r,pe),o(r,z),o(z,Y),o(r,ve),o(r,F),o(F,Z),o(e,ge),o(e,S),o(S,G),o(G,R),o(R,ee),o(S,be),y&&y.m(S,null),o(S,te),o(S,C),o(C,V),o(V,Ee),o(V,ke),o(V,se),o(C,ye),o(C,j),o(j,Ae)},p(g,[k]){k&4&&!ze(a.src,s=Oe(g[2].imageUrl)??"https://minio.api.dsek.se/news/public/8c97c4c6-d4f4-44f5-9658-cff70110ad85.webp")&&d(a,"src",s),k&4&&c!==(c=g[2].title+" cover photo")&&d(a,"alt",c),k&4&&_!==(_=g[2].title+"")&&N(i,_),k&4&&P!==(P=oe(g[2].startDatetime).format("dddd Do MMM")+"")&&N(M,P),k&4&&B!==(B=g[2].shortDescription+"")&&N(X,B),k&4&&J!==(J=g[2].organizer+"")&&N(Y,J),k&4&&K!==(K=g[2].location+"")&&N(Z,K),k&4&&x!==(x=g[3](Re(g[2]),void 0))&&d(l,"href",x),k&2&&Q!==(Q=g[1].title+"")&&N(ee,Q),g[1].description?y?y.p(g,k):(y=Be(g),y.c(),y.m(S,te)):y&&(y.d(1),y=null),k&1&&W!==(W=oe(g[0].purchasedAt).fromNow()+"")&&N(se,W),k&1&&ae!==(ae=g[3](`inventory/${g[0].id}`,void 0))&&d(j,"href",ae)},i:Fe,o:Fe,d(g){g&&m(e),y&&y.d()}}}function mt(n,e,l){let t,a,{consumable:s}=e;const c=xe("$paraglide-adapter-sveltekit:context");function h(r,u){return typeof r!="string"||!c?r:c.translateHref(r,u)}return n.$$set=r=>{"consumable"in r&&l(0,s=r.consumable)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=s.shoppable),n.$$.dirty&2&&l(2,a=t.event)},[s,t,a,h]}class _t extends we{constructor(e){super(),De(this,e,mt,dt,$e,{consumable:0})}}function Je(n,e,l){const t=n.slice();return t[2]=e[l],t}function Ke(n){let e,l,t,a,s,c=[],h=new Map,r,u=Ge(n[1]);const _=i=>i[2].id;for(let i=0;i<u.length;i+=1){let f=Je(n,u,i),E=_(f);h.set(E,c[i]=Qe(E,f))}return{c(){e=p("section"),l=p("h2"),t=w(n[0]),a=A(),s=p("div");for(let i=0;i<c.length;i+=1)c[i].c();this.h()},l(i){e=v(i,"SECTION",{});var f=b(e);l=v(f,"H2",{class:!0});var E=b(l);t=D(E,n[0]),E.forEach(m),a=$(f),s=v(f,"DIV",{class:!0});var P=b(s);for(let M=0;M<c.length;M+=1)c[M].l(P);P.forEach(m),f.forEach(m),this.h()},h(){d(l,"class","mb-1 text-lg font-semibold"),d(s,"class","grid grid-cols-1 items-stretch gap-2 sm:grid-cols-2 lg:grid-cols-3")},m(i,f){q(i,e,f),o(e,l),o(l,t),o(e,a),o(e,s);for(let E=0;E<c.length;E+=1)c[E]&&c[E].m(s,null);r=!0},p(i,f){(!r||f&1)&&N(t,i[0]),f&2&&(u=Ge(i[1]),Ye(),c=ft(c,f,_,1,i,u,h,s,ut,Qe,null,Je),Ze())},i(i){if(!r){for(let f=0;f<u.length;f+=1)L(c[f]);r=!0}},o(i){for(let f=0;f<c.length;f+=1)U(c[f]);r=!1},d(i){i&&m(e);for(let f=0;f<c.length;f+=1)c[f].d()}}}function Qe(n,e){let l,t,a;return t=new _t({props:{consumable:e[2]}}),{key:n,first:null,c(){l=de(),ie(t.$$.fragment),this.h()},l(s){l=de(),ce(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,c){q(s,l,c),fe(t,s,c),a=!0},p(s,c){e=s;const h={};c&2&&(h.consumable=e[2]),t.$set(h)},i(s){a||(L(t.$$.fragment,s),a=!0)},o(s){U(t.$$.fragment,s),a=!1},d(s){s&&m(l),ue(t,s)}}}function ht(n){let e,l,t=n[1].length>0&&Ke(n);return{c(){t&&t.c(),e=de()},l(a){t&&t.l(a),e=de()},m(a,s){t&&t.m(a,s),q(a,e,s),l=!0},p(a,[s]){a[1].length>0?t?(t.p(a,s),s&2&&L(t,1)):(t=Ke(a),t.c(),L(t,1),t.m(e.parentNode,e)):t&&(Ye(),U(t,1,1,()=>{t=null}),Ze())},i(a){l||(L(t),l=!0)},o(a){U(t),l=!1},d(a){a&&m(e),t&&t.d(a)}}}function pt(n,e,l){let{title:t}=e,{consumables:a}=e;return n.$$set=s=>{"title"in s&&l(0,t=s.title),"consumables"in s&&l(1,a=s.consumables)},[t,a]}class We extends we{constructor(e){super(),De(this,e,pt,ht,$e,{title:0,consumables:1})}}function Xe(n){let e,l=ct()+"",t;return{c(){e=p("span"),t=w(l),this.h()},l(a){e=v(a,"SPAN",{class:!0});var s=b(e);t=D(s,l),s.forEach(m),this.h()},h(){d(e,"class","text-lg font-semibold")},m(a,s){q(a,e,s),o(e,t)},d(a){a&&m(e)}}}function vt(n){let e,l,t,a,s,c,h,r;l=new tt({props:{title:rt()}});let u=n[0].length+n[1].length===0&&Xe();return s=new We({props:{title:ot(),consumables:n[1]}}),h=new We({props:{title:it(),consumables:n[0]}}),{c(){e=p("article"),ie(l.$$.fragment),t=A(),u&&u.c(),a=A(),ie(s.$$.fragment),c=A(),ie(h.$$.fragment),this.h()},l(_){e=v(_,"ARTICLE",{class:!0});var i=b(e);ce(l.$$.fragment,i),t=$(i),u&&u.l(i),a=$(i),ce(s.$$.fragment,i),c=$(i),ce(h.$$.fragment,i),i.forEach(m),this.h()},h(){d(e,"class","flex flex-col gap-4")},m(_,i){q(_,e,i),fe(l,e,null),o(e,t),u&&u.m(e,null),o(e,a),fe(s,e,null),o(e,c),fe(h,e,null),r=!0},p(_,[i]){_[0].length+_[1].length===0?u||(u=Xe(),u.c(),u.m(e,a)):u&&(u.d(1),u=null);const f={};i&2&&(f.consumables=_[1]),s.$set(f);const E={};i&1&&(E.consumables=_[0]),h.$set(E)},i(_){r||(L(l.$$.fragment,_),L(s.$$.fragment,_),L(h.$$.fragment,_),r=!0)},o(_){U(l.$$.fragment,_),U(s.$$.fragment,_),U(h.$$.fragment,_),r=!1},d(_){_&&m(e),ue(l),u&&u.d(),ue(s),ue(h)}}}function gt(n,e,l){let t,a,s,c;et(n,st,r=>l(4,c=r));let{data:h}=e;return n.$$set=r=>{"data"in r&&l(2,h=r.data)},n.$$.update=()=>{n.$$.dirty&4&&l(3,t=h.consumables),n.$$.dirty&24&&l(1,a=t.filter(r=>r.consumedAt===null||r.consumedAt<c)),n.$$.dirty&24&&l(0,s=t.filter(r=>r.consumedAt!==null&&r.consumedAt>=c))},[s,a,h,t,c]}class St extends we{constructor(e){super(),De(this,e,gt,vt,$e,{data:2})}}export{St as I};
