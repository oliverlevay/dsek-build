import{b as c}from"./123.BVaw0gZK.js";async function f(t,n,e){const{callbackUrl:a=window.location.href,redirect:s=!0}={},l=t==="email",w=`${`${c??""}/auth/signin/${t}`}?${new URLSearchParams(e)}`,i=await fetch(w,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...n,callbackUrl:a})}),r=await i.clone().json();if(s||!l){window.location.href=r.url??a,r.url.includes("#")&&window.location.reload();return}return i}async function m(t){const{callbackUrl:n=window.location.href}={},o=(await(await fetch(`${c??""}/auth/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({callbackUrl:n})})).json()).url??n;window.location.href=o,o.includes("#")&&window.location.reload()}export{f as a,m as s};
