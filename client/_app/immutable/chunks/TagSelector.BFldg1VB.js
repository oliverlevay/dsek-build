import{s as ie,D as G,e as w,j as O,a as L,b as j,k as V,d as T,F as J,f as p,i as U,q as C,P as K,G as H,w as ue,_ as Q,m as ce,H as fe,C as W,R as he,E as le,n as de,r as _e}from"./scheduler.DK5noefF.js";import{S as ge,i as me,t as I,g as R,b as z,e as A,c as ne,a as ae,m as oe,d as se}from"./index.OECaLbXR.js";import{e as q,u as pe,o as be}from"./each.Dbd03sI1.js";import{g as ke}from"./spread.CgU5AtxT.js";import{T as re}from"./TagChip.BKSCnMT_.js";function X(r,e,t){const l=r.slice();return l[19]=e[t],l}function Y(r,e,t){const l=r.slice();l[19]=e[t];const n=l[2].find(function(...a){return r[10](l[19],...a)});return l[22]=n,l}function Z(r){let e,t,l=q(r[0]),n=[];for(let a=0;a<l.length;a+=1)n[a]=x(Y(r,l,a));const u=a=>z(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=W()},l(a){for(let f=0;f<n.length;f+=1)n[f].l(a);e=W()},m(a,f){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(a,f);U(a,e,f),t=!0},p(a,f){if(f&69){l=q(a[0]);let o;for(o=0;o<l.length;o+=1){const h=Y(a,l,o);n[o]?(n[o].p(h,f),I(n[o],1)):(n[o]=x(h),n[o].c(),I(n[o],1),n[o].m(e.parentNode,e))}for(R(),o=l.length;o<n.length;o+=1)u(o);A()}},i(a){if(!t){for(let f=0;f<l.length;f+=1)I(n[f]);t=!0}},o(a){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)z(n[f]);t=!1},d(a){a&&T(e),he(n,a)}}}function x(r){let e,t,l,n,u,a;t=new re({props:{tag:r[22],class:"after:ml-2 after:content-['x']"}});function f(){return r[9](r[19])}return{c(){e=w("button"),ne(t.$$.fragment),l=O(),this.h()},l(o){e=L(o,"BUTTON",{type:!0});var h=j(e);ae(t.$$.fragment,h),l=V(h),h.forEach(T),this.h()},h(){p(e,"type","button")},m(o,h){U(o,e,h),oe(t,e,null),C(e,l),n=!0,u||(a=H(e,"click",f),u=!0)},p(o,h){r=o;const s={};h&5&&(s.tag=r[22]),t.$set(s)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&T(e),se(t),u=!1,a()}}}function $(r){let e,t="Clear",l,n;return{c(){e=w("button"),e.textContent=t,this.h()},l(u){e=L(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(e)!=="svelte-coak7p"&&(e.textContent=t),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-xs")},m(u,a){U(u,e,a),l||(n=H(e,"click",r[13]),l=!0)},p:de,d(u){u&&T(e),l=!1,n()}}}function ee(r,e){let t,l,n,u,a,f,o;n=new re({props:{tag:e[19]}});function h(){return e[15](e[19])}return{key:r,first:null,c(){t=w("li"),l=w("button"),ne(n.$$.fragment),this.h()},l(s){t=L(s,"LI",{});var b=j(t);l=L(b,"BUTTON",{type:!0,class:!0});var g=j(l);ae(n.$$.fragment,g),g.forEach(T),b.forEach(T),this.h()},h(){p(l,"type","button"),p(l,"class",u="join-item w-full border-b border-b-base-content/10 "+(e[0].includes(e[19])?"bg-primary hover:bg-primary-content hover:text-primary":"")),this.first=t},m(s,b){U(s,t,b),C(t,l),oe(n,l,null),a=!0,f||(o=H(l,"click",h),f=!0)},p(s,b){e=s;const g={};b&32&&(g.tag=e[19]),n.$set(g),(!a||b&33&&u!==(u="join-item w-full border-b border-b-base-content/10 "+(e[0].includes(e[19])?"bg-primary hover:bg-primary-content hover:text-primary":"")))&&p(l,"class",u)},i(s){a||(I(n.$$.fragment,s),a=!0)},o(s){z(n.$$.fragment,s),a=!1},d(s){s&&T(t),se(n),f=!1,o()}}}function te(r){let e,t='<button type="button" disabled="" class="disabled">No tags</button>';return{c(){e=w("li"),e.innerHTML=t,this.h()},l(l){e=L(l,"LI",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-15ozbol"&&(e.innerHTML=t),this.h()},h(){p(e,"class","w-full border-b border-b-base-content/10")},m(l,n){U(l,e,n)},d(l){l&&T(e)}}}function Te(r){let e,t,l,n,u,a,f,o,h,s=[],b=new Map,g,N,B,M,_=r[0].length>0&&Z(r),D=[{name:r[1]},{id:a=r[1]??"autocomplete"},{autocomplete:"off"},{autocapitalize:"off"},{type:"text"},{placeholder:"Taggar"},{class:"bg-transparent"},r[7]],E={};for(let i=0;i<D.length;i+=1)E=G(E,D[i]);let m=r[0].length>0&&$(r),d=q(r[5]);const y=i=>i[19].id;for(let i=0;i<d.length;i+=1){let c=X(r,d,i),v=y(c);b.set(v,s[i]=ee(v,c))}let k=r[5].length===0&&te();return{c(){e=w("div"),t=w("div"),l=w("div"),_&&_.c(),n=O(),u=w("input"),f=O(),m&&m.c(),o=O(),h=w("ul");for(let i=0;i<s.length;i+=1)s[i].c();g=O(),k&&k.c(),this.h()},l(i){e=L(i,"DIV",{class:!0});var c=j(e);t=L(c,"DIV",{class:!0,tabindex:!0,role:!0,"aria-controls":!0,"aria-expanded":!0});var v=j(t);l=L(v,"DIV",{class:!0});var P=j(l);_&&_.l(P),n=V(P),u=L(P,"INPUT",{name:!0,id:!0,autocomplete:!0,autocapitalize:!0,type:!0,placeholder:!0,class:!0}),P.forEach(T),f=V(v),m&&m.l(v),v.forEach(T),o=V(c),h=L(c,"UL",{tabindex:!0,role:!0,class:!0,id:!0});var S=j(h);for(let F=0;F<s.length;F+=1)s[F].l(S);g=V(S),k&&k.l(S),S.forEach(T),c.forEach(T),this.h()},h(){J(u,E),p(l,"class","flex flex-1 flex-wrap gap-1"),p(t,"class","input input-bordered flex h-auto min-h-12 items-center gap-2 py-2"),p(t,"tabindex",0),p(t,"role","combobox"),p(t,"aria-controls","tags-panel"),p(t,"aria-expanded","false"),p(h,"tabindex",0),p(h,"role","listbox"),p(h,"class","menu-compact menu dropdown-content join join-vertical z-10 flex max-h-80 w-full flex-col flex-nowrap overflow-y-auto rounded-md bg-base-100 shadow lg:max-w-[20rem]"),p(h,"id","tags-panel"),p(e,"class","dropdown")},m(i,c){U(i,e,c),C(e,t),C(t,l),_&&_.m(l,null),C(l,n),C(l,u),u.autofocus&&u.focus(),K(u,r[3]),r[12](u),C(t,f),m&&m.m(t,null),C(e,o),C(e,h);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(h,null);C(h,g),k&&k.m(h,null),N=!0,B||(M=[H(u,"input",r[11]),H(t,"click",r[14])],B=!0)},p(i,[c]){i[0].length>0?_?(_.p(i,c),c&1&&I(_,1)):(_=Z(i),_.c(),I(_,1),_.m(l,n)):_&&(R(),z(_,1,1,()=>{_=null}),A()),J(u,E=ke(D,[(!N||c&2)&&{name:i[1]},(!N||c&2&&a!==(a=i[1]??"autocomplete"))&&{id:a},{autocomplete:"off"},{autocapitalize:"off"},{type:"text"},{placeholder:"Taggar"},{class:"bg-transparent"},c&128&&i[7]])),c&8&&u.value!==i[3]&&K(u,i[3]),i[0].length>0?m?m.p(i,c):(m=$(i),m.c(),m.m(t,null)):m&&(m.d(1),m=null),c&97&&(d=q(i[5]),R(),s=pe(s,c,y,1,i,d,b,h,be,ee,g,X),A()),i[5].length===0?k||(k=te(),k.c(),k.m(h,null)):k&&(k.d(1),k=null)},i(i){if(!N){I(_);for(let c=0;c<d.length;c+=1)I(s[c]);N=!0}},o(i){z(_);for(let c=0;c<s.length;c+=1)z(s[c]);N=!1},d(i){i&&T(e),_&&_.d(),r[12](null),m&&m.d();for(let c=0;c<s.length;c+=1)s[c].d();k&&k.d(),B=!1,ue(M)}}}function ve(r,e,t){let l;const n=["onChange","name","allTags","selectedTags"];let u=Q(e,n),{onChange:a=()=>{t(3,b="")}}=e,{name:f=void 0}=e;const o=()=>{a(),t(3,b=""),g==null||g.focus()};let{allTags:h=[]}=e,{selectedTags:s=[]}=e,b="",g;ce("$paraglide-adapter-sveltekit:context");const N=d=>{t(0,s=s.filter(y=>y!==d)),o()},B=(d,y)=>y.id===d.id;function M(){b=this.value,t(3,b)}function _(d){_e[d?"unshift":"push"](()=>{g=d,t(4,g)})}const D=()=>{t(0,s=[]),o()},E=()=>g==null?void 0:g.focus(),m=d=>{s.includes(d)?t(0,s=s.filter(y=>y.id!==d.id)):t(0,s=[...s,d]),o()};return r.$$set=d=>{e=G(G({},e),fe(d)),t(7,u=Q(e,n)),"onChange"in d&&t(8,a=d.onChange),"name"in d&&t(1,f=d.name),"allTags"in d&&t(2,h=d.allTags),"selectedTags"in d&&t(0,s=d.selectedTags)},r.$$.update=()=>{r.$$.dirty&13&&t(5,l=h.filter(d=>d.name.toLowerCase().includes(b.toLowerCase())&&!s.map(y=>y.id).includes(d.id)))},[s,f,h,b,g,l,o,u,a,N,B,M,_,D,E,m]}class Ne extends ge{constructor(e){super(),me(this,e,ve,Te,ie,{onChange:8,name:1,allTags:2,selectedTags:0})}}export{Ne as T};
