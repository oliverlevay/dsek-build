import{s as w,e as f,j as P,a as d,b as S,k,d as m,f as p,i as v,q as _,G as y,n as g,l as T,$ as q,r as A}from"./scheduler.DK5noefF.js";import{S as E,i as F}from"./index.OECaLbXR.js";import{g as I}from"./redirect.D99U8wwi.js";import{p as L}from"./stores.BdoTh84D.js";import{i as N}from"./i18n.Cv4-1ZiX.js";function b(l){let t;return{c(){t=f("span"),this.h()},l(e){t=d(e,"SPAN",{class:!0}),S(t).forEach(m),this.h()},h(){p(t,"class","loading loading-sm absolute right-4 top-1/2 -translate-y-1/2")},m(e,s){v(e,t,s)},d(e){e&&m(t)}}}function U(l){let t,e,s,o,u,c,a=l[0]&&b();return{c(){t=f("div"),e=f("input"),o=P(),a&&a.c(),this.h()},l(r){t=d(r,"DIV",{class:!0});var i=S(t);e=d(i,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),o=k(i),a&&a.l(i),i.forEach(m),this.h()},h(){p(e,"name","search"),p(e,"type","text"),p(e,"placeholder","Search"),p(e,"class","input input-bordered w-full"),e.value=s=l[2].url.searchParams.get("search")??"",p(t,"class","relative min-w-72 flex-1")},m(r,i){v(r,t,i),_(t,e),l[4](e),_(t,o),a&&a.m(t,null),u||(c=y(e,"input",l[5]),u=!0)},p(r,[i]){i&4&&s!==(s=r[2].url.searchParams.get("search")??"")&&e.value!==s&&(e.value=s),r[0]?a||(a=b(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i:g,o:g,d(r){r&&m(t),l[4](null),a&&a.d(),u=!1,c()}}}function j(l,t,e){let s;T(l,L,n=>e(2,s=n));let o=!1,u,c;const a=n=>{e(0,o=!0),clearTimeout(u),u=window.setTimeout(async()=>{const h=new URLSearchParams(s.url.searchParams);n!==void 0?h.set("search",n):h.delete("search"),h.delete("page"),await I(`${N.route(s.url.pathname)}?${h.toString()}`,{replaceState:!0,keepFocus:!0,noScroll:!0}),await q(),setTimeout(()=>{e(0,o=!1)},500)})};function r(n){A[n?"unshift":"push"](()=>{c=n,e(1,c)})}return[o,c,s,a,r,n=>{a(n.currentTarget.value)}]}class V extends E{constructor(t){super(),F(this,t,j,U,w,{})}}export{V as S};
