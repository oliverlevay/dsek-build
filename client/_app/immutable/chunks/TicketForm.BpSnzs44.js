import{s as te,e as F,j as w,a as N,b as q,k as I,d as $,f as E,i as M,q as b,l as Y,m as be,D as X,r as ae,Y as oe,O as Q,E as ee,G as Z,n as se,_ as Se,H as Ne,c as lt,u as st,g as it,h as at,t as z,o as A,S as ie,F as $e,v as Ce,P as De,a5 as et,p as Re,x as Pe,C as he,R as ye,Q as ot}from"./scheduler.DK5noefF.js";import{S as ne,i as re,c as D,a as R,m as B,g as me,b as T,e as pe,t as k,d as O,f as ue}from"./index.OECaLbXR.js";import{F as x}from"./FormInput.DvRHd4up.js";import{f as ge,n as ut,b as Me,c as ft,s as ct}from"./superForms.37TMp2uc.js";import{g as _e,a as Te}from"./spread.CgU5AtxT.js";import{D as tt}from"./DateInput.DrwfZnu4.js";import{L as Ee}from"./Labeled.DSKh_Z0I.js";import"./index.DQfRr7yB.js";import{E as mt}from"./EntitySearch.C78MTpyq.js";import{d as we}from"./dayjs.min.B27XEuZS.js";import{I as pt}from"./Input.B5KtvBzm.js";import"./123.BVaw0gZK.js";import{t as Be}from"./bundle-mjs.BkWO730n.js";import{e as fe}from"./each.Dbd03sI1.js";import{F as dt}from"./FormCheckbox.BoNvyo-t.js";import{F as ht}from"./FormSelect.w8sPLDn_.js";import{Q as ke}from"./types.BgAlWwrF.js";function _t(n){let e,l,t;const r=[{name:"availableFrom"},n[2]];function o(a){n[13](a)}let s={};for(let a=0;a<r.length;a+=1)s=X(s,r[a]);return n[1]!==void 0&&(s.date=n[1]),e=new tt({props:s}),ae.push(()=>ue(e,"date",o)),{c(){D(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,i){B(e,a,i),t=!0},p(a,i){const u=i&4?_e(r,[r[0],Te(a[2])]):{};!l&&i&2&&(l=!0,u.date=a[1],oe(()=>l=!1)),e.$set(u)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function gt(n){let e,l=`<span class="i-mdi-plus text-xl"></span>
      Lägg till sluttid`,t,r;return{c(){e=F("button"),e.innerHTML=l,this.h()},l(o){e=N(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-bhjib8"&&(e.innerHTML=l),this.h()},h(){E(e,"type","button"),E(e,"class","btn")},m(o,s){M(o,e,s),t||(r=Z(e,"click",n[16]),t=!0)},p:se,i:se,o:se,d(o){o&&$(e),t=!1,r()}}}function bt(n){let e,l,t,r="Ta bort sluttid",o,s,a;return e=new Ee({props:{label:"Tillgänglig till",error:n[4],$$slots:{default:[vt]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment),l=w(),t=F("button"),t.textContent=r,this.h()},l(i){R(e.$$.fragment,i),l=I(i),t=N(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1ujvov9"&&(t.textContent=r),this.h()},h(){E(t,"type","button"),E(t,"class","btn")},m(i,u){B(e,i,u),M(i,l,u),M(i,t,u),o=!0,s||(a=Z(t,"click",n[15]),s=!0)},p(i,u){const p={};u&16&&(p.error=i[4]),u&1048616&&(p.$$scope={dirty:u,ctx:i}),e.$set(p)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&($(l),$(t)),O(e,i),s=!1,a()}}}function vt(n){let e,l,t;const r=[{name:"availableTo"},n[5]];function o(a){n[14](a)}let s={};for(let a=0;a<r.length;a+=1)s=X(s,r[a]);return n[3]!==void 0&&(s.date=n[3]),e=new tt({props:s}),ae.push(()=>ue(e,"date",o)),{c(){D(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,i){B(e,a,i),t=!0},p(a,i){const u=i&32?_e(r,[r[0],Te(a[5])]):{};!l&&i&8&&(l=!0,u.date=a[3],oe(()=>l=!1)),e.$set(u)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function $t(n){let e,l,t,r,o,s;l=new Ee({props:{label:"Tillgång från",error:n[0],$$slots:{default:[_t]},$$scope:{ctx:n}}});const a=[bt,gt],i=[];function u(p,c){return p[3]!=null?0:1}return r=u(n),o=i[r]=a[r](n),{c(){e=F("div"),D(l.$$.fragment),t=w(),o.c(),this.h()},l(p){e=N(p,"DIV",{class:!0});var c=q(e);R(l.$$.fragment,c),t=I(c),o.l(c),c.forEach($),this.h()},h(){E(e,"class","flex flex-col justify-between gap-4 md:flex-row md:items-end [&>*]:flex-1")},m(p,c){M(p,e,c),B(l,e,null),b(e,t),i[r].m(e,null),s=!0},p(p,[c]){const m={};c&1&&(m.error=p[0]),c&1048582&&(m.$$scope={dirty:c,ctx:p}),l.$set(m);let f=r;r=u(p),r===f?i[r].p(p,c):(me(),T(i[f],1,1,()=>{i[f]=null}),pe(),o=i[r],o?o.p(p,c):(o=i[r]=a[r](p),o.c()),k(o,1),o.m(e,null))},i(p){s||(k(l.$$.fragment,p),k(o),s=!0)},o(p){T(l.$$.fragment,p),T(o),s=!1},d(p){p&&$(e),O(l),i[r].d()}}}function kt(n,e,l){let t,r,o,s,a,i,{superform:u}=e;const{value:p,errors:c,constraints:m}=ge(u,"availableFrom");Y(n,p,j=>l(1,r=j)),Y(n,c,j=>l(0,t=j)),Y(n,m,j=>l(2,o=j));const{value:f,errors:_,constraints:d}=ge(u,"availableTo");Y(n,f,j=>l(3,s=j)),Y(n,_,j=>l(4,a=j)),Y(n,d,j=>l(5,i=j)),be("$paraglide-adapter-sveltekit:context");function g(j){r=j,p.set(r)}function S(j){s=j,f.set(s)}const h=()=>Q(f,s=void 0,s),v=()=>Q(f,s=r,s);return n.$$set=j=>{"superform"in j&&l(12,u=j.superform)},[t,r,o,s,a,i,p,c,m,f,_,d,u,g,S,h,v]}class St extends ne{constructor(e){super(),re(this,e,kt,$t,te,{superform:12})}}function Oe(n){const e=n[4](n[14]);n[15]=e}function Tt(n){let e;const l=n[6].default,t=lt(l,n,n[10],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&1024)&&st(t,l,r,r[10],e?at(l,r[10],o,null):it(r[10]),null)},i(r){e||(k(t,r),e=!0)},o(r){T(t,r),e=!1},d(r){t&&t.d(r)}}}function Et(n){Oe(n);let e,l=n[15].title+"",t,r,o=we(n[15].startDatetime).format("DD MM YYYY")+"",s,a,i=(n[15].slug??n[15].id)+"",u,p;return{c(){e=F("div"),t=z(l),r=z(" ("),s=z(o),a=z(", "),u=z(i),p=z(")"),this.h()},l(c){e=N(c,"DIV",{slot:!0});var m=q(e);t=A(m,l),r=A(m," ("),s=A(m,o),a=A(m,", "),u=A(m,i),p=A(m,")"),m.forEach($),this.h()},h(){E(e,"slot","entity")},m(c,m){M(c,e,m),b(e,t),b(e,r),b(e,s),b(e,a),b(e,u),b(e,p)},p(c,m){Oe(c),m&16384&&l!==(l=c[15].title+"")&&ie(t,l),m&16384&&o!==(o=we(c[15].startDatetime).format("DD MM YYYY")+"")&&ie(s,o),m&16384&&i!==(i=(c[15].slug??c[15].id)+"")&&ie(u,i)},d(c){c&&$(e)}}}function yt(n){let e,l,t,r,o;const s=[{endpoint:"/api/events"},{class:n[3]},n[5]];function a(c){n[7](c)}function i(c){n[8](c)}function u(c){n[9](c)}let p={$$slots:{entity:[Et,({option:c})=>({14:c}),({option:c})=>c?16384:0],default:[Tt]},$$scope:{ctx:n}};for(let c=0;c<s.length;c+=1)p=X(p,s[c]);return n[0]!==void 0&&(p.isSearching=n[0]),n[1]!==void 0&&(p.onSelect=n[1]),n[2]!==void 0&&(p.handleSearch=n[2]),e=new mt({props:p}),ae.push(()=>ue(e,"isSearching",a)),ae.push(()=>ue(e,"onSelect",i)),ae.push(()=>ue(e,"handleSearch",u)),{c(){D(e.$$.fragment)},l(c){R(e.$$.fragment,c)},m(c,m){B(e,c,m),o=!0},p(c,[m]){const f=m&40?_e(s,[s[0],m&8&&{class:c[3]},m&32&&Te(c[5])]):{};m&17408&&(f.$$scope={dirty:m,ctx:c}),!l&&m&1&&(l=!0,f.isSearching=c[0],oe(()=>l=!1)),!t&&m&2&&(t=!0,f.onSelect=c[1],oe(()=>t=!1)),!r&&m&4&&(r=!0,f.handleSearch=c[2],oe(()=>r=!1)),e.$set(f)},i(c){o||(k(e.$$.fragment,c),o=!0)},o(c){T(e.$$.fragment,c),o=!1},d(c){O(e,c)}}}function wt(n,e,l){const t=["class","isSearching","onSelect","handleSearch"];let r=Se(e,t),{$$slots:o={},$$scope:s}=e,{class:a=""}=e,{isSearching:i=!1}=e,{onSelect:u}=e,{handleSearch:p}=e;const c=d=>d;be("$paraglide-adapter-sveltekit:context");function m(d){i=d,l(0,i)}function f(d){u=d,l(1,u)}function _(d){p=d,l(2,p)}return n.$$set=d=>{e=X(X({},e),Ne(d)),l(5,r=Se(e,t)),"class"in d&&l(3,a=d.class),"isSearching"in d&&l(0,i=d.isSearching),"onSelect"in d&&l(1,u=d.onSelect),"handleSearch"in d&&l(2,p=d.handleSearch),"$$scope"in d&&l(10,s=d.$$scope)},[i,u,p,a,c,r,o,m,f,_,s]}class It extends ne{constructor(e){super(),re(this,e,wt,yt,te,{class:3,isSearching:0,onSelect:1,handleSearch:2})}}function Ct(n){let e,l,t,r,o,s,a,i,u,p,c,m,f,_=[{type:"hidden"},{name:"eventId"},{value:n[4]},n[6]],d={};for(let h=0;h<_.length;h+=1)d=X(d,_[h]);let g=[{id:"event"},{autocomplete:"off"},{autocapitalize:"off"},{type:"text"},{class:"grow bg-transparent"},{placeholder:"Sök efter evenemang"},{value:a=n[0]?`${n[0].title} (${we(n[0].startDatetime).format("YYYY")}, ${n[0].slug??n[0].id})`:""},{required:!0},n[10]],S={};for(let h=0;h<g.length;h+=1)S=X(S,g[h]);return{c(){e=F("input"),l=w(),t=F("div"),r=F("span"),o=w(),s=F("input"),i=w(),u=F("span"),this.h()},l(h){e=N(h,"INPUT",{type:!0,name:!0}),l=I(h),t=N(h,"DIV",{class:!0});var v=q(t);r=N(v,"SPAN",{class:!0}),q(r).forEach($),o=I(v),s=N(v,"INPUT",{id:!0,autocomplete:!0,autocapitalize:!0,type:!0,class:!0,placeholder:!0}),i=I(v),u=N(v,"SPAN",{class:!0}),q(u).forEach($),v.forEach($),this.h()},h(){$e(e,d),E(r,"class","i-mdi-search text-xl"),$e(s,S),E(u,"class",p="loading loading-spinner loading-md text-primary transition-opacity opacity-"+(n[1]?"100":"0")),E(t,"class",c="input input-bordered flex items-center gap-2 "+(n[3]?"input-primary":""))},m(h,v){M(h,e,v),e.autofocus&&e.focus(),M(h,l,v),M(h,t,v),b(t,r),b(t,o),b(t,s),"value"in S&&(s.value=S.value),s.autofocus&&s.focus(),b(t,i),b(t,u),m||(f=Z(s,"input",n[12]),m=!0)},p(h,v){$e(e,d=_e(_,[{type:"hidden"},{name:"eventId"},v&16&&{value:h[4]},v&64&&h[6]])),$e(s,S=_e(g,[{id:"event"},{autocomplete:"off"},{autocapitalize:"off"},{type:"text"},{class:"grow bg-transparent"},{placeholder:"Sök efter evenemang"},v&1&&a!==(a=h[0]?`${h[0].title} (${we(h[0].startDatetime).format("YYYY")}, ${h[0].slug??h[0].id})`:"")&&s.value!==a&&{value:a},{required:!0},v&1024&&h[10]])),"value"in S&&(s.value=S.value),v&2&&p!==(p="loading loading-spinner loading-md text-primary transition-opacity opacity-"+(h[1]?"100":"0"))&&E(u,"class",p),v&8&&c!==(c="input input-bordered flex items-center gap-2 "+(h[3]?"input-primary":""))&&E(t,"class",c)},d(h){h&&($(e),$(l),$(t)),m=!1,f()}}}function Ft(n){let e,l;return e=new Ee({props:{error:n[5],label:"Event",$$slots:{default:[Ct]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,r){const o={};r&32&&(o.error=t[5]),r&1049695&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Nt(n){let e,l,t,r;function o(i){n[14](i)}function s(i){n[15](i)}let a={onSelect:n[13],$$slots:{default:[Ft]},$$scope:{ctx:n}};return n[2]!==void 0&&(a.handleSearch=n[2]),n[1]!==void 0&&(a.isSearching=n[1]),e=new It({props:a}),ae.push(()=>ue(e,"handleSearch",o)),ae.push(()=>ue(e,"isSearching",s)),{c(){D(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,u){B(e,i,u),r=!0},p(i,[u]){const p={};u&1&&(p.onSelect=i[13]),u&1049727&&(p.$$scope={dirty:u,ctx:i}),!l&&u&4&&(l=!0,p.handleSearch=i[2],oe(()=>l=!1)),!t&&u&2&&(t=!0,p.isSearching=i[1],oe(()=>t=!1)),e.$set(p)},i(i){r||(k(e.$$.fragment,i),r=!0)},o(i){T(e.$$.fragment,i),r=!1},d(i){O(e,i)}}}function Pt(n,e,l){let t;const r=["event","superform"];let o=Se(e,r),s,a,i,{event:u=void 0}=e,p,c,{superform:m}=e;const{value:f,errors:_,constraints:d}=ge(m,"eventId");Y(n,f,C=>l(4,s=C)),Y(n,_,C=>l(5,a=C)),Y(n,d,C=>l(6,i=C));const g=C=>{if(!C){Q(f,s="",s);return}Q(f,s=C.id,s)};be("$paraglide-adapter-sveltekit:context");const S=C=>{l(0,u=void 0),c(C.currentTarget.value)},h=C=>{l(0,u=C)};function v(C){c=C,l(2,c)}function j(C){p=C,l(1,p)}return n.$$set=C=>{e=X(X({},e),Ne(C)),l(10,o=Se(e,r)),"event"in C&&l(0,u=C.event),"superform"in C&&l(11,m=C.superform)},n.$$.update=()=>{n.$$.dirty&1&&g(u),n.$$.dirty&1&&l(3,t=!!u)},[u,p,c,t,s,a,i,f,_,d,o,m,S,h,v,j]}class Mt extends ne{constructor(e){super(),re(this,e,Pt,Nt,te,{event:0,superform:11})}}function Dt(n){let e,l,t;const r=[{name:n[1]??n[0]},{type:"number"},{label:n[2]},{error:n[7]},n[8],n[9]];function o(a){n[12](a)}let s={};for(let a=0;a<r.length;a+=1)s=X(s,r[a]);return n[6]!==void 0&&(s.value=n[6]),e=new pt({props:s}),ae.push(()=>ue(e,"value",o)),{c(){D(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,i){B(e,a,i),t=!0},p(a,[i]){const u=i&903?_e(r,[i&3&&{name:a[1]??a[0]},r[1],i&4&&{label:a[2]},i&128&&{error:a[7]},i&256&&Te(a[8]),i&512&&Te(a[9])]):{};!l&&i&64&&(l=!0,u.value=a[6],oe(()=>l=!1)),e.$set(u)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function Rt(n,e,l){let t,r,o,s;const a=["superform","field","name","label"];let i=Se(e,a),u,p=se,c=()=>(p(),p=Ce(r,U=>l(6,u=U)),r),m,f=se,_=()=>(f(),f=Ce(o,U=>l(7,m=U)),o),d,g=se,S=()=>(g(),g=Ce(s,U=>l(8,d=U)),s);n.$$.on_destroy.push(()=>p()),n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>g());let{superform:h}=e,{field:v}=e,{name:j=void 0}=e,{label:C=null}=e;be("$paraglide-adapter-sveltekit:context");function K(U){u=U,r.set(u)}return n.$$set=U=>{e=X(X({},e),Ne(U)),l(9,i=Se(e,a)),"superform"in U&&l(10,h=U.superform),"field"in U&&l(0,v=U.field),"name"in U&&l(1,j=U.name),"label"in U&&l(2,C=U.label)},n.$$.update=()=>{n.$$.dirty&1025&&l(11,t=ge(h,v)),n.$$.dirty&1025&&c(l(5,r=ut(h,v))),n.$$.dirty&2048&&_(l(4,o=t.errors)),n.$$.dirty&2048&&S(l(3,s=t.constraints))},[v,j,C,s,o,r,u,m,d,i,h,t,K]}class nt extends ne{constructor(e){super(),re(this,e,Rt,Dt,te,{superform:10,field:0,name:1,label:2})}}function Bt(n){let e,l;return e=new nt({props:{superform:n[0],field:"maxAmountPerUser",label:"Max antal biljetter per person"}}),{c(){D(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,[r]){const o={};r&1&&(o.superform=t[0]),e.$set(o)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ot(n,e,l){let{superform:t}=e;return n.$$set=r=>{"superform"in r&&l(0,t=r.superform)},[t]}class jt extends ne{constructor(e){super(),re(this,e,Ot,Bt,te,{superform:0})}}function Ut(n){let e,l,t,r,o,s=[{name:n[1]},{class:l=Be("input input-bordered w-20 min-w-0 max-w-40 shrink grow",n[3])},n[2]??{},{min:t=0},{step:"0.01"},{type:"number"}],a={};for(let i=0;i<s.length;i+=1)a=X(a,s[i]);return{c(){e=F("input"),this.h()},l(i){e=N(i,"INPUT",{name:!0,class:!0,min:!0,step:!0,type:!0}),this.h()},h(){$e(e,a)},m(i,u){M(i,e,u),e.autofocus&&e.focus(),De(e,n[0]),r||(o=Z(e,"input",n[4]),r=!0)},p(i,[u]){$e(e,a=_e(s,[u&2&&{name:i[1]},u&8&&l!==(l=Be("input input-bordered w-20 min-w-0 max-w-40 shrink grow",i[3]))&&{class:l},u&4&&(i[2]??{}),{min:t},{step:"0.01"},{type:"number"}])),u&1&&et(e.value)!==i[0]&&De(e,i[0])},i:se,o:se,d(i){i&&$(e),r=!1,o()}}}function Lt(n,e,l){let{name:t}=e,{value:r}=e,{constraints:o=void 0}=e,{class:s=void 0}=e;be("$paraglide-adapter-sveltekit:context");function a(){r=et(this.value),l(0,r)}return n.$$set=i=>{"name"in i&&l(1,t=i.name),"value"in i&&l(0,r=i.value),"constraints"in i&&l(2,o=i.constraints),"class"in i&&l(3,s=i.class)},[r,t,o,s,a]}class rt extends ne{constructor(e){super(),re(this,e,Lt,Ut,te,{name:1,value:0,constraints:2,class:3})}}const je=n=>Fe(n),Ue=n=>n===0?0:Math.floor(n*.015+180),Fe=n=>n===0?0:Math.min(Math.floor(n*.01+300),700);function Ht(n){let e,l=n[7](n[1]-je(n[1]))+"",t,r,o,s,a=n[7](Fe(n[1]))+"",i,u,p=n[7](Ue(n[1]))+"",c,m;return{c(){e=z("~"),t=z(l),r=z(" fås "),o=F("br"),s=z(`
        (Swish: `),i=z(a),u=z(", Kort: "),c=z(p),m=z(")")},l(f){e=A(f,"~"),t=A(f,l),r=A(f," fås "),o=N(f,"BR",{}),s=A(f,`
        (Swish: `),i=A(f,a),u=A(f,", Kort: "),c=A(f,p),m=A(f,")")},m(f,_){M(f,e,_),M(f,t,_),M(f,r,_),M(f,o,_),M(f,s,_),M(f,i,_),M(f,u,_),M(f,c,_),M(f,m,_)},p(f,_){_&2&&l!==(l=f[7](f[1]-je(f[1]))+"")&&ie(t,l),_&2&&a!==(a=f[7](Fe(f[1]))+"")&&ie(i,a),_&2&&p!==(p=f[7](Ue(f[1]))+"")&&ie(c,p)},d(f){f&&($(e),$(t),$(r),$(o),$(s),$(i),$(u),$(c),$(m))}}}function Yt(n){let e,l,t,r,o,s;function a(m){n[9](m)}let i={name:"price",constraints:n[3]};n[0]!==void 0&&(i.value=n[0]),l=new rt({props:i}),ae.push(()=>ue(l,"value",a));function u(m,f){return Ht}let c=u()(n);return{c(){e=F("div"),D(l.$$.fragment),r=w(),o=F("p"),c.c(),this.h()},l(m){e=N(m,"DIV",{class:!0});var f=q(e);R(l.$$.fragment,f),r=I(f),o=N(f,"P",{class:!0});var _=q(o);c.l(_),_.forEach($),f.forEach($),this.h()},h(){E(o,"class","text-sm text-base-content/60"),E(e,"class","flex items-center gap-2")},m(m,f){M(m,e,f),B(l,e,null),b(e,r),b(e,o),c.m(o,null),s=!0},p(m,f){const _={};f&8&&(_.constraints=m[3]),!t&&f&1&&(t=!0,_.value=m[0],oe(()=>t=!1)),l.$set(_),c.p(m,f)},i(m){s||(k(l.$$.fragment,m),s=!0)},o(m){T(l.$$.fragment,m),s=!1},d(m){m&&$(e),O(l),c.d()}}}function qt(n){let e,l;return e=new Ee({props:{label:"Biljettpris (SEK)",error:n[2],$$slots:{default:[Yt]},$$scope:{ctx:n}}}),{c(){D(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,[r]){const o={};r&4&&(o.error=t[2]),r&8203&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Vt(n,e,l){let t,r,o,s,{superform:a}=e;const{value:i,errors:u,constraints:p}=ge(a,"price");Y(n,i,f=>l(0,r=f)),Y(n,u,f=>l(2,o=f)),Y(n,p,f=>l(3,s=f));const c=f=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",currencyDisplay:"code",minimumFractionDigits:0,maximumFractionDigits:2}).format(f/100);be("$paraglide-adapter-sveltekit:context");function m(f){r=f,i.set(r)}return n.$$set=f=>{"superform"in f&&l(8,a=f.superform)},n.$$.update=()=>{n.$$.dirty&1&&l(1,t=Number(r)*100)},[r,t,o,s,i,u,p,c,a,m]}class zt extends ne{constructor(e){super(),re(this,e,Vt,qt,te,{superform:8})}}function At(n){let e,l='<span class="i-mdi-plus"></span> Extrakostnad',t,r;return{c(){e=F("button"),e.innerHTML=l,this.h()},l(o){e=N(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ee(e)!=="svelte-2m3bgi"&&(e.innerHTML=l),this.h()},h(){E(e,"class","btn self-start"),E(e,"type","button")},m(o,s){M(o,e,s),t||(r=Z(e,"click",n[12]),t=!0)},p:se,i:se,o:se,d(o){o&&$(e),t=!1,r()}}}function Qt(n){let e,l,t,r,o='<span class="i-mdi-trash"></span>',s,a,i;return l=new Ee({props:{label:"Extrapris (SEK)",error:n[5],$$slots:{default:[Kt]},$$scope:{ctx:n}}}),{c(){e=F("div"),D(l.$$.fragment),t=w(),r=F("button"),r.innerHTML=o,this.h()},l(u){e=N(u,"DIV",{class:!0});var p=q(e);R(l.$$.fragment,p),t=I(p),r=N(p,"BUTTON",{class:!0,"data-tip":!0,type:!0,"data-svelte-h":!0}),ee(r)!=="svelte-z3fbez"&&(r.innerHTML=o),p.forEach($),this.h()},h(){E(r,"class","btn btn-error tooltip"),E(r,"data-tip","Ta bort extrakostnad"),E(r,"type","button"),E(e,"class","flex items-end justify-between")},m(u,p){M(u,e,p),B(l,e,null),b(e,t),b(e,r),s=!0,a||(i=Z(r,"click",n[11]),a=!0)},p(u,p){const c={};p&32&&(c.error=u[5]),p&65616&&(c.$$scope={dirty:p,ctx:u}),l.$set(c)},i(u){s||(k(l.$$.fragment,u),s=!0)},o(u){T(l.$$.fragment,u),s=!1},d(u){u&&$(e),O(l),a=!1,i()}}}function Kt(n){let e,l,t;const r=[{class:"w-full"},{name:"extraPrice"},n[6]];function o(a){n[10](a)}let s={};for(let a=0;a<r.length;a+=1)s=X(s,r[a]);return n[4]!==void 0&&(s.value=n[4]),e=new rt({props:s}),ae.push(()=>ue(e,"value",o)),{c(){D(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,i){B(e,a,i),t=!0},p(a,i){const u=i&64?_e(r,[r[0],r[1],Te(a[6])]):{};!l&&i&16&&(l=!0,u.value=a[4],oe(()=>l=!1)),e.$set(u)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function Gt(n){let e,l,t,r,o,s,a,i,u,p,c,m,f,_;l=new x({props:{superform:n[0],field:n[1]+".answer",label:"Svenska",placeholder:"Svarsalternativ..."}}),r=new x({props:{superform:n[0],field:n[1]+".answerEn",label:"Engelska",placeholder:"Response option..."}});const d=[Qt,At],g=[];function S(h,v){return h[3]?0:1}return s=S(n),a=g[s]=d[s](n),{c(){e=F("div"),D(l.$$.fragment),t=w(),D(r.$$.fragment),o=w(),a.c(),i=w(),u=F("button"),p=F("span"),this.h()},l(h){e=N(h,"DIV",{class:!0});var v=q(e);R(l.$$.fragment,v),t=I(v),R(r.$$.fragment,v),o=I(v),a.l(v),i=I(v),u=N(v,"BUTTON",{class:!0,type:!0});var j=q(u);p=N(j,"SPAN",{class:!0}),q(p).forEach($),j.forEach($),v.forEach($),this.h()},h(){E(p,"class","i-mdi-remove"),E(u,"class","btn btn-circle btn-error btn-sm absolute -right-4 -top-4 z-10 transition-all"),E(u,"type","button"),u.disabled=c=!n[2],Re(u,"opacity-0",!n[2]),E(e,"class","relative rounded-lg border-[1px] p-2")},m(h,v){M(h,e,v),B(l,e,null),b(e,t),B(r,e,null),b(e,o),g[s].m(e,null),b(e,i),b(e,u),b(u,p),m=!0,f||(_=Z(u,"click",function(){Pe(n[2])&&n[2].apply(this,arguments)}),f=!0)},p(h,[v]){n=h;const j={};v&1&&(j.superform=n[0]),v&2&&(j.field=n[1]+".answer"),l.$set(j);const C={};v&1&&(C.superform=n[0]),v&2&&(C.field=n[1]+".answerEn"),r.$set(C);let K=s;s=S(n),s===K?g[s].p(n,v):(me(),T(g[K],1,1,()=>{g[K]=null}),pe(),a=g[s],a?a.p(n,v):(a=g[s]=d[s](n),a.c()),k(a,1),a.m(e,i)),(!m||v&4&&c!==(c=!n[2]))&&(u.disabled=c),(!m||v&4)&&Re(u,"opacity-0",!n[2])},i(h){m||(k(l.$$.fragment,h),k(r.$$.fragment,h),k(a),m=!0)},o(h){T(l.$$.fragment,h),T(r.$$.fragment,h),T(a),m=!1},d(h){h&&$(e),O(l),O(r),g[s].d(),f=!1,_()}}}function Jt(n,e,l){let t,r,o,{superform:s}=e,{field:a}=e;const{value:i,errors:u,constraints:p}=ge(s,`${a}.extraPrice`);Y(n,i,g=>l(4,t=g)),Y(n,u,g=>l(5,r=g)),Y(n,p,g=>l(6,o=g));let c=!!t,{onRemove:m}=e;be("$paraglide-adapter-sveltekit:context");function f(g){t=g,i.set(t)}const _=()=>{Q(i,t=null,t),l(3,c=!1)},d=()=>{Q(i,t=100,t),l(3,c=!0)};return n.$$set=g=>{"superform"in g&&l(0,s=g.superform),"field"in g&&l(1,a=g.field),"onRemove"in g&&l(2,m=g.onRemove)},[s,a,m,c,t,r,o,i,u,p,f,_,d]}class Wt extends ne{constructor(e){super(),re(this,e,Jt,Gt,te,{superform:0,field:1,onRemove:2})}}function Le(n,e,l){const t=n.slice();return t[12]=e[l],t[14]=l,t}function He(n){let e,l,t,r,o,s,a='<span class="i-mdi-plus-bold text-xl"></span>',i,u,p;e=new Ee({props:{label:"Svarsalternativ",error:n[6]}});let c=n[3]&&Ye(n);return{c(){D(e.$$.fragment),l=w(),t=F("div"),c&&c.c(),r=w(),o=F("div"),s=F("button"),s.innerHTML=a,this.h()},l(m){R(e.$$.fragment,m),l=I(m),t=N(m,"DIV",{class:!0});var f=q(t);c&&c.l(f),r=I(f),o=N(f,"DIV",{class:!0});var _=q(o);s=N(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(s)!=="svelte-1x496d5"&&(s.innerHTML=a),_.forEach($),f.forEach($),this.h()},h(){E(s,"type","button"),E(s,"class","btn btn-primary btn-lg m-8"),E(o,"class","flex items-center justify-center"),E(t,"class","flex flex-wrap gap-2 [&>*]:flex-1")},m(m,f){B(e,m,f),M(m,l,f),M(m,t,f),c&&c.m(t,null),b(t,r),b(t,o),b(o,s),i=!0,u||(p=Z(s,"click",n[11]),u=!0)},p(m,f){const _={};f&64&&(_.error=m[6]),e.$set(_),m[3]?c?(c.p(m,f),f&8&&k(c,1)):(c=Ye(m),c.c(),k(c,1),c.m(t,r)):c&&(me(),T(c,1,1,()=>{c=null}),pe())},i(m){i||(k(e.$$.fragment,m),k(c),i=!0)},o(m){T(e.$$.fragment,m),T(c),i=!1},d(m){m&&($(l),$(t)),O(e,m),c&&c.d(),u=!1,p()}}}function Ye(n){let e,l,t=fe(n[3]),r=[];for(let s=0;s<t.length;s+=1)r[s]=qe(Le(n,t,s));const o=s=>T(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=he()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=he()},m(s,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,a);M(s,e,a),l=!0},p(s,a){if(a&11){t=fe(s[3]);let i;for(i=0;i<t.length;i+=1){const u=Le(s,t,i);r[i]?(r[i].p(u,a),k(r[i],1)):(r[i]=qe(u),r[i].c(),k(r[i],1),r[i].m(e.parentNode,e))}for(me(),i=t.length;i<r.length;i+=1)o(i);pe()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)k(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)T(r[a]);l=!1},d(s){s&&$(e),ye(r,s)}}}function qe(n){let e,l;function t(){return n[10](n[14])}return e=new Wt({props:{superform:n[0],field:n[1]+".options["+n[14]+"]",onRemove:n[3].length===1?void 0:t}}),{c(){D(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,o){B(e,r,o),l=!0},p(r,o){n=r;const s={};o&1&&(s.superform=n[0]),o&2&&(s.field=n[1]+".options["+n[14]+"]"),o&8&&(s.onRemove=n[3].length===1?void 0:t),e.$set(s)},i(r){l||(k(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){O(e,r)}}}function Xt(n){let e,l,t,r=n[5]+1+"",o,s,a,i,u,p,c,m,f,_,d,g,S,h,v,j,C,K,U="Ta bort fråga",ce,W,de;a=new x({props:{superform:n[0],field:n[1]+".id",type:"hidden"}}),u=new x({props:{superform:n[0],field:n[1]+".title",label:"Fråga",placeholder:"Önskar du...?"}}),c=new x({props:{superform:n[0],field:n[1]+".description",label:"Förklaring"}}),f=new x({props:{superform:n[0],field:n[1]+".titleEn",label:"Fråga (EN)"}}),d=new x({props:{superform:n[0],field:n[1]+".descriptionEn",label:"Förklaring (EN)"}}),S=new ht({props:{superform:n[0],field:n[1]+".type",label:"Typ",options:[{value:ke.MultipleChoice,label:"Multiple choice"},{value:ke.Text,label:"Free text"}]}}),v=new dt({props:{superform:n[0],field:n[1]+".forExternalsOnly",label:"Enbart för icke-inloggade?",explanation:"Om du vill att frågan endast ska visas för icke-inloggade köpare."}});let V=n[4]===ke.MultipleChoice&&He(n);return{c(){e=F("div"),l=F("h3"),t=z("Fråga "),o=z(r),s=w(),D(a.$$.fragment),i=w(),D(u.$$.fragment),p=w(),D(c.$$.fragment),m=w(),D(f.$$.fragment),_=w(),D(d.$$.fragment),g=w(),D(S.$$.fragment),h=w(),D(v.$$.fragment),j=w(),V&&V.c(),C=w(),K=F("button"),K.textContent=U,this.h()},l(H){e=N(H,"DIV",{class:!0});var y=q(e);l=N(y,"H3",{class:!0});var le=q(l);t=A(le,"Fråga "),o=A(le,r),le.forEach($),s=I(y),R(a.$$.fragment,y),i=I(y),R(u.$$.fragment,y),p=I(y),R(c.$$.fragment,y),m=I(y),R(f.$$.fragment,y),_=I(y),R(d.$$.fragment,y),g=I(y),R(S.$$.fragment,y),h=I(y),R(v.$$.fragment,y),j=I(y),V&&V.l(y),C=I(y),K=N(y,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(K)!=="svelte-1m5j642"&&(K.textContent=U),y.forEach($),this.h()},h(){E(l,"class","text-lg font-semibold"),E(K,"class","btn btn-error mt-2"),E(e,"class","rounded-box bg-base-300 p-4")},m(H,y){M(H,e,y),b(e,l),b(l,t),b(l,o),b(e,s),B(a,e,null),b(e,i),B(u,e,null),b(e,p),B(c,e,null),b(e,m),B(f,e,null),b(e,_),B(d,e,null),b(e,g),B(S,e,null),b(e,h),B(v,e,null),b(e,j),V&&V.m(e,null),b(e,C),b(e,K),ce=!0,W||(de=Z(K,"click",function(){Pe(n[2])&&n[2].apply(this,arguments)}),W=!0)},p(H,[y]){n=H,(!ce||y&32)&&r!==(r=n[5]+1+"")&&ie(o,r);const le={};y&1&&(le.superform=n[0]),y&2&&(le.field=n[1]+".id"),a.$set(le);const J={};y&1&&(J.superform=n[0]),y&2&&(J.field=n[1]+".title"),u.$set(J);const P={};y&1&&(P.superform=n[0]),y&2&&(P.field=n[1]+".description"),c.$set(P);const G={};y&1&&(G.superform=n[0]),y&2&&(G.field=n[1]+".titleEn"),f.$set(G);const L={};y&1&&(L.superform=n[0]),y&2&&(L.field=n[1]+".descriptionEn"),d.$set(L);const ve={};y&1&&(ve.superform=n[0]),y&2&&(ve.field=n[1]+".type"),S.$set(ve);const Ie={};y&1&&(Ie.superform=n[0]),y&2&&(Ie.field=n[1]+".forExternalsOnly"),v.$set(Ie),n[4]===ke.MultipleChoice?V?(V.p(n,y),y&16&&k(V,1)):(V=He(n),V.c(),k(V,1),V.m(e,C)):V&&(me(),T(V,1,1,()=>{V=null}),pe())},i(H){ce||(k(a.$$.fragment,H),k(u.$$.fragment,H),k(c.$$.fragment,H),k(f.$$.fragment,H),k(d.$$.fragment,H),k(S.$$.fragment,H),k(v.$$.fragment,H),k(V),ce=!0)},o(H){T(a.$$.fragment,H),T(u.$$.fragment,H),T(c.$$.fragment,H),T(f.$$.fragment,H),T(d.$$.fragment,H),T(S.$$.fragment,H),T(v.$$.fragment,H),T(V),ce=!1},d(H){H&&$(e),O(a),O(u),O(c),O(f),O(d),O(S),O(v),V&&V.d(),W=!1,de()}}}function Zt(n,e,l){let t,r,o,s,{superform:a}=e,{field:i}=e,{onRemove:u}=e;const{value:p}=ge(a,`${i}.type`);Y(n,p,d=>l(4,o=d));const{values:c,errors:m}=Me(a,`${i}.options`);Y(n,c,d=>l(3,r=d)),Y(n,m,d=>l(6,s=d));const f=d=>{if(r)Q(c,r=r.filter((g,S)=>S!==d),r);else return},_=()=>{r?Q(c,r=[...r,{answer:"",extraPrice:null}],r):Q(c,r=[{answer:"",extraPrice:null}],r)};return n.$$set=d=>{"superform"in d&&l(0,a=d.superform),"field"in d&&l(1,i=d.field),"onRemove"in d&&l(2,u=d.onRemove)},n.$$.update=()=>{n.$$.dirty&24&&o!==ke.MultipleChoice&&r&&Q(c,r=[],r),n.$$.dirty&2&&l(5,t=Number(i.match(/\d+/)[0]))},[a,i,u,r,o,t,s,p,c,m,f,_]}class xt extends ne{constructor(e){super(),re(this,e,Zt,Xt,te,{superform:0,field:1,onRemove:2})}}function Ve(n,e,l){const t=n.slice();return t[7]=e[l],t}function ze(n,e,l){const t=n.slice();return t[10]=e[l],t[12]=l,t}function Ae(n){let e,l;function t(){return n[5](n[12])}return e=new xt({props:{superform:n[0],field:"questions["+n[12]+"]",onRemove:t}}),{c(){D(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,o){B(e,r,o),l=!0},p(r,o){n=r;const s={};o&1&&(s.superform=n[0]),o&2&&(s.onRemove=t),e.$set(s)},i(r){l||(k(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){O(e,r)}}}function Qe(n){let e,l=fe(n[2]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Ke(Ve(n,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=he()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=he()},m(r,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,o);M(r,e,o)},p(r,o){if(o&4){l=fe(r[2]);let s;for(s=0;s<l.length;s+=1){const a=Ve(r,l,s);t[s]?t[s].p(a,o):(t[s]=Ke(a),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(r){r&&$(e),ye(t,r)}}}function Ke(n){let e,l,t=n[7]+"",r,o;return{c(){e=F("div"),l=F("span"),r=z(t),o=w(),this.h()},l(s){e=N(s,"DIV",{class:!0});var a=q(e);l=N(a,"SPAN",{class:!0});var i=q(l);r=A(i,t),i.forEach($),o=I(a),a.forEach($),this.h()},h(){E(l,"class","label-text-alt text-error"),E(e,"class","label")},m(s,a){M(s,e,a),b(e,l),b(l,r),b(e,o)},p(s,a){a&4&&t!==(t=s[7]+"")&&ie(r,t)},d(s){s&&$(e)}}}function en(n){let e,l,t="Frågor",r,o,s,a='<span class="i-mdi-plus"></span> Lägg till fråga',i,u,p,c,m=fe(n[1]),f=[];for(let g=0;g<m.length;g+=1)f[g]=Ae(ze(n,m,g));const _=g=>T(f[g],1,1,()=>{f[g]=null});let d=n[2]&&Qe(n);return{c(){e=F("section"),l=F("h3"),l.textContent=t,r=w();for(let g=0;g<f.length;g+=1)f[g].c();o=w(),s=F("button"),s.innerHTML=a,i=w(),d&&d.c(),this.h()},l(g){e=N(g,"SECTION",{class:!0});var S=q(e);l=N(S,"H3",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-xfjpnw"&&(l.textContent=t),r=I(S);for(let h=0;h<f.length;h+=1)f[h].l(S);o=I(S),s=N(S,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ee(s)!=="svelte-a3k95w"&&(s.innerHTML=a),i=I(S),d&&d.l(S),S.forEach($),this.h()},h(){E(l,"class","text-lg font-semibold"),E(s,"class","btn btn-outline btn-primary"),E(s,"type","button"),E(e,"class","space-y-2")},m(g,S){M(g,e,S),b(e,l),b(e,r);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(e,null);b(e,o),b(e,s),b(e,i),d&&d.m(e,null),u=!0,p||(c=Z(s,"click",n[6]),p=!0)},p(g,[S]){if(S&3){m=fe(g[1]);let h;for(h=0;h<m.length;h+=1){const v=ze(g,m,h);f[h]?(f[h].p(v,S),k(f[h],1)):(f[h]=Ae(v),f[h].c(),k(f[h],1),f[h].m(e,o))}for(me(),h=m.length;h<f.length;h+=1)_(h);pe()}g[2]?d?d.p(g,S):(d=Qe(g),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(g){if(!u){for(let S=0;S<m.length;S+=1)k(f[S]);u=!0}},o(g){f=f.filter(Boolean);for(let S=0;S<f.length;S+=1)T(f[S]);u=!1},d(g){g&&$(e),ye(f,g),d&&d.d(),p=!1,c()}}}function tn(n,e,l){let t,r,{superform:o}=e;const{values:s,errors:a}=Me(o,"questions");Y(n,s,p=>l(1,t=p)),Y(n,a,p=>l(2,r=p));const i=p=>{Q(s,t=t.filter((c,m)=>m!==p),t)},u=()=>{Q(s,t=[...t,{type:ke.Text,title:"",description:"",forExternalsOnly:!1}],t)};return n.$$set=p=>{"superform"in p&&l(0,o=p.superform)},[o,t,r,s,a,i,u]}class nn extends ne{constructor(e){super(),re(this,e,tn,en,te,{superform:0})}}function rn(n){let e,l,t,r='<span class="i-mdi-group"></span>',o,s,a;return e=new x({props:{superform:n[0],field:"accessPolicies["+n[1]+"].studentId",label:"StiL-ID"}}),{c(){D(e.$$.fragment),l=w(),t=F("button"),t.innerHTML=r,this.h()},l(i){R(e.$$.fragment,i),l=I(i),t=N(i,"BUTTON",{type:!0,class:!0,"data-tip":!0,"data-svelte-h":!0}),ee(t)!=="svelte-1ll7wn4"&&(t.innerHTML=r),this.h()},h(){E(t,"type","button"),E(t,"class","btn tooltip"),E(t,"data-tip","Byt till roll")},m(i,u){B(e,i,u),M(i,l,u),M(i,t,u),o=!0,s||(a=Z(t,"click",n[7]),s=!0)},p(i,u){const p={};u&1&&(p.superform=i[0]),u&2&&(p.field="accessPolicies["+i[1]+"].studentId"),e.$set(p)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&($(l),$(t)),O(e,i),s=!1,a()}}}function ln(n){let e,l,t,r='<span class="i-mdi-person"></span>',o,s,a;return e=new x({props:{superform:n[0],field:"accessPolicies["+n[1]+"].role",label:"Roll"}}),{c(){D(e.$$.fragment),l=w(),t=F("button"),t.innerHTML=r,this.h()},l(i){R(e.$$.fragment,i),l=I(i),t=N(i,"BUTTON",{type:!0,class:!0,"data-tip":!0,"data-svelte-h":!0}),ee(t)!=="svelte-jgub61"&&(t.innerHTML=r),this.h()},h(){E(t,"type","button"),E(t,"class","btn tooltip"),E(t,"data-tip","Byt till person")},m(i,u){B(e,i,u),M(i,l,u),M(i,t,u),o=!0,s||(a=Z(t,"click",n[6]),s=!0)},p(i,u){const p={};u&1&&(p.superform=i[0]),u&2&&(p.field="accessPolicies["+i[1]+"].role"),e.$set(p)},i(i){o||(k(e.$$.fragment,i),o=!0)},o(i){T(e.$$.fragment,i),o=!1},d(i){i&&($(l),$(t)),O(e,i),s=!1,a()}}}function sn(n){let e,l,t,r,o,s='<span class="i-mdi-trash"></span>',a,i,u;const p=[ln,rn],c=[];function m(f,_){return f[3]?0:1}return l=m(n),t=c[l]=p[l](n),{c(){e=F("div"),t.c(),r=w(),o=F("button"),o.innerHTML=s,this.h()},l(f){e=N(f,"DIV",{class:!0});var _=q(e);t.l(_),r=I(_),o=N(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(o)!=="svelte-613qq1"&&(o.innerHTML=s),_.forEach($),this.h()},h(){E(o,"type","button"),E(o,"class","btn btn-error"),E(e,"class","join flex items-end gap-2")},m(f,_){M(f,e,_),c[l].m(e,null),b(e,r),b(e,o),a=!0,i||(u=Z(o,"click",function(){Pe(n[2])&&n[2].apply(this,arguments)}),i=!0)},p(f,[_]){n=f;let d=l;l=m(n),l===d?c[l].p(n,_):(me(),T(c[d],1,1,()=>{c[d]=null}),pe(),t=c[l],t?t.p(n,_):(t=c[l]=p[l](n),t.c()),k(t,1),t.m(e,r))},i(f){a||(k(t),a=!0)},o(f){T(t),a=!1},d(f){f&&$(e),c[l].d(),i=!1,u()}}}function an(n,e,l){let t,{superform:r}=e,{index:o}=e,{onRemove:s}=e;const a=ft(r,`accessPolicies[${o}]`);Y(n,a,c=>l(4,t=c));let i=t.studentId===null;const u=()=>{l(3,i=!1),Q(a,t.role=null,t),Q(a,t.studentId="",t)},p=()=>{l(3,i=!0),Q(a,t.studentId=null,t),Q(a,t.role="",t)};return n.$$set=c=>{"superform"in c&&l(0,r=c.superform),"index"in c&&l(1,o=c.index),"onRemove"in c&&l(2,s=c.onRemove)},[r,o,s,i,t,a,u,p]}class on extends ne{constructor(e){super(),re(this,e,an,sn,te,{superform:0,index:1,onRemove:2})}}function Ge(n,e,l){const t=n.slice();return t[7]=e[l],t}function Je(n,e,l){const t=n.slice();return t[10]=e[l],t[12]=l,t}function We(n){let e,l,t=fe(n[1]),r=[];for(let s=0;s<t.length;s+=1)r[s]=Xe(Je(n,t,s));const o=s=>T(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=he()},l(s){for(let a=0;a<r.length;a+=1)r[a].l(s);e=he()},m(s,a){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(s,a);M(s,e,a),l=!0},p(s,a){if(a&3){t=fe(s[1]);let i;for(i=0;i<t.length;i+=1){const u=Je(s,t,i);r[i]?(r[i].p(u,a),k(r[i],1)):(r[i]=Xe(u),r[i].c(),k(r[i],1),r[i].m(e.parentNode,e))}for(me(),i=t.length;i<r.length;i+=1)o(i);pe()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)k(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)T(r[a]);l=!1},d(s){s&&$(e),ye(r,s)}}}function Xe(n){let e,l;function t(){return n[5](n[12])}return e=new on({props:{superform:n[0],index:n[12],onRemove:t}}),{c(){D(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,o){B(e,r,o),l=!0},p(r,o){n=r;const s={};o&1&&(s.superform=n[0]),o&2&&(s.onRemove=t),e.$set(s)},i(r){l||(k(e.$$.fragment,r),l=!0)},o(r){T(e.$$.fragment,r),l=!1},d(r){O(e,r)}}}function Ze(n){let e,l=fe(n[2]),t=[];for(let r=0;r<l.length;r+=1)t[r]=xe(Ge(n,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=he()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);e=he()},m(r,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,o);M(r,e,o)},p(r,o){if(o&4){l=fe(r[2]);let s;for(s=0;s<l.length;s+=1){const a=Ge(r,l,s);t[s]?t[s].p(a,o):(t[s]=xe(a),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(r){r&&$(e),ye(t,r)}}}function xe(n){let e,l,t=n[7]+"",r,o;return{c(){e=F("div"),l=F("span"),r=z(t),o=w(),this.h()},l(s){e=N(s,"DIV",{class:!0});var a=q(e);l=N(a,"SPAN",{class:!0});var i=q(l);r=A(i,t),i.forEach($),o=I(a),a.forEach($),this.h()},h(){E(l,"class","label-text-alt text-error"),E(e,"class","label")},m(s,a){M(s,e,a),b(e,l),b(l,r),b(e,o)},p(s,a){a&4&&t!==(t=s[7]+"")&&ie(r,t)},d(s){s&&$(e)}}}function un(n){let e,l,t="Access",r,o,s,a="+ lägg till policy",i,u,p,c,m=n[1]!==void 0&&We(n),f=n[2]&&Ze(n);return{c(){e=F("section"),l=F("h5"),l.textContent=t,r=w(),m&&m.c(),o=w(),s=F("button"),s.textContent=a,i=w(),f&&f.c(),this.h()},l(_){e=N(_,"SECTION",{class:!0});var d=q(e);l=N(d,"H5",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-xzq4tw"&&(l.textContent=t),r=I(d),m&&m.l(d),o=I(d),s=N(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(s)!=="svelte-zkgds3"&&(s.textContent=a),i=I(d),f&&f.l(d),d.forEach($),this.h()},h(){E(l,"class","font-semibold"),E(s,"type","button"),E(s,"class","btn btn-primary"),E(e,"class","space-y-2")},m(_,d){M(_,e,d),b(e,l),b(e,r),m&&m.m(e,null),b(e,o),b(e,s),b(e,i),f&&f.m(e,null),u=!0,p||(c=Z(s,"click",n[6]),p=!0)},p(_,[d]){_[1]!==void 0?m?(m.p(_,d),d&2&&k(m,1)):(m=We(_),m.c(),k(m,1),m.m(e,o)):m&&(me(),T(m,1,1,()=>{m=null}),pe()),_[2]?f?f.p(_,d):(f=Ze(_),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(_){u||(k(m),u=!0)},o(_){T(m),u=!1},d(_){_&&$(e),m&&m.d(),f&&f.d(),p=!1,c()}}}function fn(n,e,l){let t,r,{superform:o}=e;const{values:s,errors:a}=Me(o,"accessPolicies");Y(n,s,p=>l(1,t=p)),Y(n,a,p=>l(2,r=p));const i=p=>{Q(s,t=[...t.slice(0,p),...t.slice(p+1)],t)},u=()=>{t===void 0?Q(s,t=[{role:null,studentId:null}],t):Q(s,t=[...t,{role:null,studentId:null}],t)};return n.$$set=p=>{"superform"in p&&l(0,o=p.superform)},[o,t,r,s,a,i,u]}class cn extends ne{constructor(e){super(),re(this,e,fn,un,te,{superform:0})}}function mn(n){let e=n[2]?"Skapar...":"Skapa biljett",l;return{c(){l=z(e)},l(t){l=A(t,e)},m(t,r){M(t,l,r)},p(t,r){r&4&&e!==(e=t[2]?"Skapar...":"Skapa biljett")&&ie(l,e)},d(t){t&&$(l)}}}function pn(n){let e=n[2]?"Uppdaterar...":"Uppdatera biljett",l;return{c(){l=z(e)},l(t){l=A(t,e)},m(t,r){M(t,l,r)},p(t,r){r&4&&e!==(e=t[2]?"Uppdaterar...":"Uppdatera biljett")&&ie(l,e)},d(t){t&&$(l)}}}function dn(n){let e,l,t,r,o,s,a,i,u,p,c,m,f,_,d,g,S,h,v,j,C,K,U,ce,W,de,V,H;t=new Mt({props:{superform:n[3],event:n[0]}}),o=new x({props:{superform:n[3],field:"title",label:"Biljettnamn"}}),a=new x({props:{superform:n[3],field:"description",label:"Biljettbeskrivning"}}),u=new x({props:{superform:n[3],field:"titleEn",label:"Biljettnamn (EN)"}}),c=new x({props:{superform:n[3],field:"descriptionEn",label:"Beskrivning (EN)"}}),f=new zt({props:{superform:n[3]}}),d=new St({props:{superform:n[3]}}),S=new nt({props:{superform:n[3],field:"stock",label:"Antal biljetter till salu"}}),v=new jt({props:{superform:n[3]}}),C=new cn({props:{superform:n[3]}}),U=new nn({props:{superform:n[3]}});function y(P,G){return P[1]==="edit"?pn:mn}let le=y(n),J=le(n);return{c(){e=F("form"),l=F("div"),D(t.$$.fragment),r=w(),D(o.$$.fragment),s=w(),D(a.$$.fragment),i=w(),D(u.$$.fragment),p=w(),D(c.$$.fragment),m=w(),D(f.$$.fragment),_=w(),D(d.$$.fragment),g=w(),D(S.$$.fragment),h=w(),D(v.$$.fragment),j=w(),D(C.$$.fragment),K=w(),D(U.$$.fragment),ce=w(),W=F("button"),J.c(),this.h()},l(P){e=N(P,"FORM",{method:!0,class:!0});var G=q(e);l=N(G,"DIV",{});var L=q(l);R(t.$$.fragment,L),r=I(L),R(o.$$.fragment,L),s=I(L),R(a.$$.fragment,L),i=I(L),R(u.$$.fragment,L),p=I(L),R(c.$$.fragment,L),m=I(L),R(f.$$.fragment,L),_=I(L),R(d.$$.fragment,L),g=I(L),R(S.$$.fragment,L),h=I(L),R(v.$$.fragment,L),j=I(L),R(C.$$.fragment,L),L.forEach($),K=I(G),R(U.$$.fragment,G),ce=I(G),W=N(G,"BUTTON",{type:!0,class:!0});var ve=q(W);J.l(ve),ve.forEach($),G.forEach($),this.h()},h(){E(W,"type","submit"),W.disabled=n[2],E(W,"class","btn btn-primary mt-4"),E(e,"method","POST"),E(e,"class","form-control grid max-w-xl grid-cols-1 gap-4 md:max-w-full md:grid-cols-2")},m(P,G){M(P,e,G),b(e,l),B(t,l,null),b(l,r),B(o,l,null),b(l,s),B(a,l,null),b(l,i),B(u,l,null),b(l,p),B(c,l,null),b(l,m),B(f,l,null),b(l,_),B(d,l,null),b(l,g),B(S,l,null),b(l,h),B(v,l,null),b(l,j),B(C,l,null),b(e,K),B(U,e,null),b(e,ce),b(e,W),J.m(W,null),de=!0,V||(H=ot(n[4].call(null,e)),V=!0)},p(P,[G]){const L={};G&1&&(L.event=P[0]),t.$set(L),le===(le=y(P))&&J?J.p(P,G):(J.d(1),J=le(P),J&&(J.c(),J.m(W,null))),(!de||G&4)&&(W.disabled=P[2])},i(P){de||(k(t.$$.fragment,P),k(o.$$.fragment,P),k(a.$$.fragment,P),k(u.$$.fragment,P),k(c.$$.fragment,P),k(f.$$.fragment,P),k(d.$$.fragment,P),k(S.$$.fragment,P),k(v.$$.fragment,P),k(C.$$.fragment,P),k(U.$$.fragment,P),de=!0)},o(P){T(t.$$.fragment,P),T(o.$$.fragment,P),T(a.$$.fragment,P),T(u.$$.fragment,P),T(c.$$.fragment,P),T(f.$$.fragment,P),T(d.$$.fragment,P),T(S.$$.fragment,P),T(v.$$.fragment,P),T(C.$$.fragment,P),T(U.$$.fragment,P),de=!1},d(P){P&&$(e),O(t),O(o),O(a),O(u),O(c),O(f),O(d),O(S),O(v),O(C),O(U),J.d(),V=!1,H()}}}function hn(n,e,l){let t,r,{event:o=void 0}=e,{type:s="create"}=e,{form:a}=e;const i=ct(a,{dataType:"json"}),{enhance:u,submitting:p,allErrors:c}=i;return Y(n,p,m=>l(2,r=m)),Y(n,c,m=>l(8,t=m)),n.$$set=m=>{"event"in m&&l(0,o=m.event),"type"in m&&l(1,s=m.type),"form"in m&&l(7,a=m.form)},n.$$.update=()=>{n.$$.dirty&256&&console.log(t)},[o,s,r,i,u,p,c,a,t]}class Dn extends ne{constructor(e){super(),re(this,e,hn,dn,te,{event:0,type:1,form:7})}}export{Dn as T};
